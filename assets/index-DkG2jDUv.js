const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QuotePDF-Ci_PQD6_.js","assets/react-pdf.browser-Bo7Ax_va.js"])))=>i.map(i=>d[i]);
function i1(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(s,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s1(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var a=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(a,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),a}var ff={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function o1(){if(zv)return ho;zv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:t,type:s,key:u,ref:o!==void 0?o:null,props:c}}return ho.Fragment=r,ho.jsx=a,ho.jsxs=a,ho}var Bv;function l1(){return Bv||(Bv=1,ff.exports=o1()),ff.exports}var m=l1(),hf={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function c1(){if(Pv)return st;Pv=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function R(z,X,ye){this.props=z,this.context=X,this.refs=T,this.updater=ye||_}R.prototype.isReactComponent={},R.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=R.prototype;function O(z,X,ye){this.props=z,this.context=X,this.refs=T,this.updater=ye||_}var L=O.prototype=new N;L.constructor=O,S(L,R.prototype),L.isPureReactComponent=!0;var G=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function H(z,X,ye,oe,Y,Q){return ye=Q.ref,{$$typeof:t,type:z,key:X,ref:ye!==void 0?ye:null,props:Q}}function ae(z,X){return H(z.type,X,void 0,void 0,void 0,z.props)}function fe(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Ne(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return X[ye]})}var he=/\/+/g;function pe(z,X){return typeof z=="object"&&z!==null&&z.key!=null?Ne(""+z.key):X.toString(36)}function ce(){}function Se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ce,ce):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ce(z,X,ye,oe,Y){var Q=typeof z;(Q==="undefined"||Q==="boolean")&&(z=null);var Z=!1;if(z===null)Z=!0;else switch(Q){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(z.$$typeof){case t:case r:Z=!0;break;case y:return Z=z._init,Ce(Z(z._payload),X,ye,oe,Y)}}if(Z)return Y=Y(z),Z=oe===""?"."+pe(z,0):oe,G(Y)?(ye="",Z!=null&&(ye=Z.replace(he,"$&/")+"/"),Ce(Y,X,ye,"",function(Ae){return Ae})):Y!=null&&(fe(Y)&&(Y=ae(Y,ye+(Y.key==null||z&&z.key===Y.key?"":(""+Y.key).replace(he,"$&/")+"/")+Z)),X.push(Y)),1;Z=0;var be=oe===""?".":oe+":";if(G(z))for(var le=0;le<z.length;le++)oe=z[le],Q=be+pe(oe,le),Z+=Ce(oe,X,ye,Q,Y);else if(le=w(z),typeof le=="function")for(z=le.call(z),le=0;!(oe=z.next()).done;)oe=oe.value,Q=be+pe(oe,le++),Z+=Ce(oe,X,ye,Q,Y);else if(Q==="object"){if(typeof z.then=="function")return Ce(Se(z),X,ye,oe,Y);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Z}function P(z,X,ye){if(z==null)return z;var oe=[],Y=0;return Ce(z,oe,"","",function(Q){return X.call(ye,Q,Y++)}),oe}function ne(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var se=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ge(){}return st.Children={map:P,forEach:function(z,X,ye){P(z,function(){X.apply(this,arguments)},ye)},count:function(z){var X=0;return P(z,function(){X++}),X},toArray:function(z){return P(z,function(X){return X})||[]},only:function(z){if(!fe(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},st.Component=R,st.Fragment=a,st.Profiler=o,st.PureComponent=O,st.StrictMode=s,st.Suspense=p,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,st.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},st.cache=function(z){return function(){return z.apply(null,arguments)}},st.cloneElement=function(z,X,ye){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=S({},z.props),Y=z.key,Q=void 0;if(X!=null)for(Z in X.ref!==void 0&&(Q=void 0),X.key!==void 0&&(Y=""+X.key),X)!D.call(X,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&X.ref===void 0||(oe[Z]=X[Z]);var Z=arguments.length-2;if(Z===1)oe.children=ye;else if(1<Z){for(var be=Array(Z),le=0;le<Z;le++)be[le]=arguments[le+2];oe.children=be}return H(z.type,Y,void 0,void 0,Q,oe)},st.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},st.createElement=function(z,X,ye){var oe,Y={},Q=null;if(X!=null)for(oe in X.key!==void 0&&(Q=""+X.key),X)D.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Y[oe]=X[oe]);var Z=arguments.length-2;if(Z===1)Y.children=ye;else if(1<Z){for(var be=Array(Z),le=0;le<Z;le++)be[le]=arguments[le+2];Y.children=be}if(z&&z.defaultProps)for(oe in Z=z.defaultProps,Z)Y[oe]===void 0&&(Y[oe]=Z[oe]);return H(z,Q,void 0,void 0,null,Y)},st.createRef=function(){return{current:null}},st.forwardRef=function(z){return{$$typeof:d,render:z}},st.isValidElement=fe,st.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:ne}},st.memo=function(z,X){return{$$typeof:h,type:z,compare:X===void 0?null:X}},st.startTransition=function(z){var X=C.T,ye={};C.T=ye;try{var oe=z(),Y=C.S;Y!==null&&Y(ye,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ge,se)}catch(Q){se(Q)}finally{C.T=X}},st.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},st.use=function(z){return C.H.use(z)},st.useActionState=function(z,X,ye){return C.H.useActionState(z,X,ye)},st.useCallback=function(z,X){return C.H.useCallback(z,X)},st.useContext=function(z){return C.H.useContext(z)},st.useDebugValue=function(){},st.useDeferredValue=function(z,X){return C.H.useDeferredValue(z,X)},st.useEffect=function(z,X,ye){var oe=C.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,X)},st.useId=function(){return C.H.useId()},st.useImperativeHandle=function(z,X,ye){return C.H.useImperativeHandle(z,X,ye)},st.useInsertionEffect=function(z,X){return C.H.useInsertionEffect(z,X)},st.useLayoutEffect=function(z,X){return C.H.useLayoutEffect(z,X)},st.useMemo=function(z,X){return C.H.useMemo(z,X)},st.useOptimistic=function(z,X){return C.H.useOptimistic(z,X)},st.useReducer=function(z,X,ye){return C.H.useReducer(z,X,ye)},st.useRef=function(z){return C.H.useRef(z)},st.useState=function(z){return C.H.useState(z)},st.useSyncExternalStore=function(z,X,ye){return C.H.useSyncExternalStore(z,X,ye)},st.useTransition=function(){return C.H.useTransition()},st.version="19.1.1",st}var $v;function Sh(){return $v||($v=1,hf.exports=c1()),hf.exports}var E=Sh();const je=Bo(E),Oy=i1({__proto__:null,default:je},[E]);var mf={exports:{}},mo={},pf={exports:{}},gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function u1(){return Iv||(Iv=1,(function(t){function r(P,ne){var se=P.length;P.push(ne);e:for(;0<se;){var ge=se-1>>>1,z=P[ge];if(0<o(z,ne))P[ge]=ne,P[se]=z,se=ge;else break e}}function a(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var ne=P[0],se=P.pop();if(se!==ne){P[0]=se;e:for(var ge=0,z=P.length,X=z>>>1;ge<X;){var ye=2*(ge+1)-1,oe=P[ye],Y=ye+1,Q=P[Y];if(0>o(oe,se))Y<z&&0>o(Q,oe)?(P[ge]=Q,P[Y]=se,ge=Y):(P[ge]=oe,P[ye]=se,ge=ye);else if(Y<z&&0>o(Q,se))P[ge]=Q,P[Y]=se,ge=Y;else break e}}return ne}function o(P,ne){var se=P.sortIndex-ne.sortIndex;return se!==0?se:P.id-ne.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],h=[],y=1,g=null,w=3,_=!1,S=!1,T=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function G(P){for(var ne=a(h);ne!==null;){if(ne.callback===null)s(h);else if(ne.startTime<=P)s(h),ne.sortIndex=ne.expirationTime,r(p,ne);else break;ne=a(h)}}function C(P){if(T=!1,G(P),!S)if(a(p)!==null)S=!0,D||(D=!0,pe());else{var ne=a(h);ne!==null&&Ce(C,ne.startTime-P)}}var D=!1,H=-1,ae=5,fe=-1;function Ne(){return R?!0:!(t.unstable_now()-fe<ae)}function he(){if(R=!1,D){var P=t.unstable_now();fe=P;var ne=!0;try{e:{S=!1,T&&(T=!1,O(H),H=-1),_=!0;var se=w;try{t:{for(G(P),g=a(p);g!==null&&!(g.expirationTime>P&&Ne());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,w=g.priorityLevel;var z=ge(g.expirationTime<=P);if(P=t.unstable_now(),typeof z=="function"){g.callback=z,G(P),ne=!0;break t}g===a(p)&&s(p),G(P)}else s(p);g=a(p)}if(g!==null)ne=!0;else{var X=a(h);X!==null&&Ce(C,X.startTime-P),ne=!1}}break e}finally{g=null,w=se,_=!1}ne=void 0}}finally{ne?pe():D=!1}}}var pe;if(typeof L=="function")pe=function(){L(he)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Se=ce.port2;ce.port1.onmessage=he,pe=function(){Se.postMessage(null)}}else pe=function(){N(he,0)};function Ce(P,ne){H=N(function(){P(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(P){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var se=w;w=ne;try{return P()}finally{w=se}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(P,ne){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var se=w;w=P;try{return ne()}finally{w=se}},t.unstable_scheduleCallback=function(P,ne,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=se+z,P={id:y++,callback:ne,priorityLevel:P,startTime:se,expirationTime:z,sortIndex:-1},se>ge?(P.sortIndex=se,r(h,P),a(p)===null&&P===a(h)&&(T?(O(H),H=-1):T=!0,Ce(C,se-ge))):(P.sortIndex=z,r(p,P),S||_||(S=!0,D||(D=!0,pe()))),P},t.unstable_shouldYield=Ne,t.unstable_wrapCallback=function(P){var ne=w;return function(){var se=w;w=ne;try{return P.apply(this,arguments)}finally{w=se}}}})(gf)),gf}var Hv;function d1(){return Hv||(Hv=1,pf.exports=u1()),pf.exports}var vf={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function f1(){if(qv)return xn;qv=1;var t=Sh();function r(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,h,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:p,containerInfo:h,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xn.createPortal=function(p,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return c(p,h,null,y)},xn.flushSync=function(p){var h=u.T,y=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=h,s.p=y,s.d.f()}},xn.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(p,h))},xn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},xn.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var y=h.as,g=d(y,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:w,fetchPriority:_}):y==="script"&&s.d.X(p,{crossOrigin:g,integrity:w,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xn.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=d(h.as,h.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(p)},xn.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,g=d(y,h.crossOrigin);s.d.L(p,y,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xn.preloadModule=function(p,h){if(typeof p=="string")if(h){var y=d(h.as,h.crossOrigin);s.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(p)},xn.requestFormReset=function(p){s.d.r(p)},xn.unstable_batchedUpdates=function(p,h){return p(h)},xn.useFormState=function(p,h,y){return u.H.useFormState(p,h,y)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.1.1",xn}var Fv;function Dy(){if(Fv)return vf.exports;Fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),vf.exports=f1(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function h1(){if(Gv)return mo;Gv=1;var t=d1(),r=Sh(),a=Dy();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var f=i.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===i)return d(f),e;if(v===l)return d(f),n;v=v.sibling}throw Error(s(188))}if(i.return!==l.return)i=f,l=v;else{for(var j=!1,M=f.child;M;){if(M===i){j=!0,i=f,l=v;break}if(M===l){j=!0,l=f,i=v;break}M=M.sibling}if(!j){for(M=v.child;M;){if(M===i){j=!0,i=v,l=f;break}if(M===l){j=!0,l=v,i=f;break}M=M.sibling}if(!j)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function h(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=h(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,g=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case L:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return n=e.displayName||null,n!==null?n:Se(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return Se(e(n))}catch{}}return null}var Ce=Array.isArray,P=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ge=[],z=-1;function X(e){return{current:e}}function ye(e){0>z||(e.current=ge[z],ge[z]=null,z--)}function oe(e,n){z++,ge[z]=e.current,e.current=n}var Y=X(null),Q=X(null),Z=X(null),be=X(null);function le(e,n){switch(oe(Z,n),oe(Q,e),oe(Y,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dv(n),e=fv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(Y),oe(Y,e)}function Ae(){ye(Y),ye(Q),ye(Z)}function qe(e){e.memoizedState!==null&&oe(be,e);var n=Y.current,i=fv(n,e.type);n!==i&&(oe(Q,e),oe(Y,i))}function Ie(e){Q.current===e&&(ye(Y),ye(Q)),be.current===e&&(ye(be),oo._currentValue=se)}var Xe=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,St=t.unstable_shouldYield,$t=t.unstable_requestPaint,dt=t.unstable_now,ot=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Oe=t.unstable_LowPriority,He=t.unstable_IdlePriority,gt=t.log,xt=t.unstable_setDisableYieldValue,lt=null,A=null;function b(e){if(typeof gt=="function"&&xt(e),A&&typeof A.setStrictMode=="function")try{A.setStrictMode(lt,e)}catch{}}var x=Math.clz32?Math.clz32:W,k=Math.log,q=Math.LN2;function W(e){return e>>>=0,e===0?32:31-(k(e)/q|0)|0}var ue=256,Ve=4194304;function nt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ct(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var f=0,v=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var M=l&134217727;return M!==0?(l=M&~v,l!==0?f=nt(l):(j&=M,j!==0?f=nt(j):i||(i=M&~e,i!==0&&(f=nt(i))))):(M=l&~v,M!==0?f=nt(M):j!==0?f=nt(j):i||(i=l&~e,i!==0&&(f=nt(i)))),f===0?0:n!==0&&n!==f&&(n&v)===0&&(v=f&-f,i=n&-n,v>=i||v===32&&(i&4194048)!==0)?n:f}function ft(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $e(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ht(){var e=ue;return ue<<=1,(ue&4194048)===0&&(ue=256),e}function zt(){var e=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),e}function Bt(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Gt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nn(e,n,i,l,f,v){var j=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var M=e.entanglements,I=e.expirationTimes,ee=e.hiddenUpdates;for(i=j&~i;0<i;){var me=31-x(i),we=1<<me;M[me]=0,I[me]=-1;var te=ee[me];if(te!==null)for(ee[me]=null,me=0;me<te.length;me++){var ie=te[me];ie!==null&&(ie.lane&=-536870913)}i&=~we}l!==0&&We(e,l,0),v!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=v&~(j&~n))}function We(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-x(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function B(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-x(i),f=1<<l;f&n|e[l]&n&&(e[l]|=n),i&=~f}}function de(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ve(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Re(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Mv(e.type))}function U(e,n){var i=ne.p;try{return ne.p=e,n()}finally{ne.p=i}}var $=Math.random().toString(36).slice(2),V="__reactFiber$"+$,re="__reactProps$"+$,_e="__reactContainer$"+$,Ue="__reactEvents$"+$,De="__reactListeners$"+$,Le="__reactHandles$"+$,Me="__reactResources$"+$,ze="__reactMarker$"+$;function ke(e){delete e[V],delete e[re],delete e[Ue],delete e[De],delete e[Le]}function Ee(e){var n=e[V];if(n)return n;for(var i=e.parentNode;i;){if(n=i[_e]||i[V]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=gv(e);e!==null;){if(i=e[V])return i;e=gv(e)}return n}e=i,i=e.parentNode}return null}function Be(e){if(e=e[V]||e[_e]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ye(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function it(e){var n=e[Me];return n||(n=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[ze]=!0}var Et=new Set,At={};function ln(e,n){Tn(e,n),Tn(e+"Capture",n)}function Tn(e,n){for(At[e]=n,e=0;e<n.length;e++)Et.add(n[e])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_n={},kr={};function $n(e){return Xe.call(kr,e)?!0:Xe.call(_n,e)?!1:Qn.test(e)?kr[e]=!0:(_n[e]=!0,!1)}function An(e,n,i){if($n(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function ur(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Yt(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var at,Rt;function Jt(e){if(at===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);at=n&&n[1]||"",Rt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+e+Rt}var qt=!1;function Ot(e,n){if(!e||qt)return"";qt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ie){var te=ie}Reflect.construct(e,[],we)}else{try{we.call()}catch(ie){te=ie}e.call(we.prototype)}}else{try{throw Error()}catch(ie){te=ie}(we=e())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),j=v[0],M=v[1];if(j&&M){var I=j.split(`
`),ee=M.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===ee.length)for(l=I.length-1,f=ee.length-1;1<=l&&0<=f&&I[l]!==ee[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==ee[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==ee[f]){var me=`
`+I[l].replace(" at new "," at ");return e.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",e.displayName)),me}while(1<=l&&0<=f);break}}}finally{qt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Jt(i):""}function Ur(e){switch(e.tag){case 26:case 27:case 5:return Jt(e.type);case 16:return Jt("Lazy");case 13:return Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return Ot(e.type,!1);case 11:return Ot(e.type.render,!1);case 1:return Ot(e.type,!0);case 31:return Jt("Activity");default:return""}}function ra(e){try{var n="";do n+=Ur(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ko(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ou(e){var n=Ko(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,v=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(j){l=""+j,v.call(this,j)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(j){l=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wo(e){e._valueTracker||(e._valueTracker=ou(e))}function om(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Ko(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tw=/[\n"\\]/g;function Zn(e){return e.replace(tw,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lu(e,n,i,l,f,v,j,M){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?cu(e,j,yn(n)):i!=null?cu(e,j,yn(i)):l!=null&&e.removeAttribute("value"),f==null&&v!=null&&(e.defaultChecked=!!v),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+yn(M):e.removeAttribute("name")}function lm(e,n,i,l,f,v,j,M){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||i!=null){if(!(v!=="submit"&&v!=="reset"||n!=null))return;i=i!=null?""+yn(i):"",n=n!=null?""+yn(n):i,M||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=M?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j)}function cu(e,n,i){n==="number"&&Xo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function hi(e,n,i,l){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&l&&(e[i].defaultSelected=!0)}else{for(i=""+yn(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function cm(e,n,i){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+yn(i):""}function um(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=yn(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function mi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var nw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||nw.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function fm(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&i[f]!==l&&dm(e,f,l)}else for(var v in n)n.hasOwnProperty(v)&&dm(e,v,n[v])}function uu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(e){return aw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var du=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,gi=null;function hm(e){var n=Be(e);if(n&&(e=n.stateNode)){var i=e[re]||null;e:switch(e=n.stateNode,n.type){case"input":if(lu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Zn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var f=l[re]||null;if(!f)throw Error(s(90));lu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&om(l)}break e;case"textarea":cm(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&hi(e,!!i.multiple,n,!1)}}}var hu=!1;function mm(e,n,i){if(hu)return e(n,i);hu=!0;try{var l=e(n);return l}finally{if(hu=!1,(pi!==null||gi!==null)&&(Ll(),pi&&(n=pi,e=gi,gi=pi=null,hm(n),e)))for(n=0;n<e.length;n++)hm(e[n])}}function xs(e,n){var i=e.stateNode;if(i===null)return null;var l=i[re]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(Lr)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){mu=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{mu=!1}var aa=null,pu=null,Zo=null;function pm(){if(Zo)return Zo;var e,n=pu,i=n.length,l,f="value"in aa?aa.value:aa.textContent,v=f.length;for(e=0;e<i&&n[e]===f[e];e++);var j=i-e;for(l=1;l<=j&&n[i-l]===f[v-l];l++);return Zo=f.slice(e,1<l?1-l:void 0)}function Jo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function gm(){return!1}function Rn(e){function n(i,l,f,v,j){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(i=e[M],this[M]=i?i(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?el:gm,this.isPropagationStopped=gm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),n}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Rn(La),_s=y({},La,{view:0,detail:0}),iw=Rn(_s),gu,vu,Ss,nl=y({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ss&&(Ss&&e.type==="mousemove"?(gu=e.screenX-Ss.screenX,vu=e.screenY-Ss.screenY):vu=gu=0,Ss=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),vm=Rn(nl),sw=y({},nl,{dataTransfer:0}),ow=Rn(sw),lw=y({},_s,{relatedTarget:0}),yu=Rn(lw),cw=y({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=Rn(cw),dw=y({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fw=Rn(dw),hw=y({},La,{data:0}),ym=Rn(hw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gw[e])?!!n[e]:!1}function bu(){return vw}var yw=y({},_s,{key:function(e){if(e.key){var n=mw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bw=Rn(yw),xw=y({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=Rn(xw),ww=y({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),_w=Rn(ww),Sw=y({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ew=Rn(Sw),jw=y({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nw=Rn(jw),Tw=y({},La,{newState:0,oldState:0}),Aw=Rn(Tw),Rw=[9,13,27,32],xu=Lr&&"CompositionEvent"in window,Es=null;Lr&&"documentMode"in document&&(Es=document.documentMode);var Cw=Lr&&"TextEvent"in window&&!Es,xm=Lr&&(!xu||Es&&8<Es&&11>=Es),wm=" ",_m=!1;function Sm(e,n){switch(e){case"keyup":return Rw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function Mw(e,n){switch(e){case"compositionend":return Em(n);case"keypress":return n.which!==32?null:(_m=!0,wm);case"textInput":return e=n.data,e===wm&&_m?null:e;default:return null}}function Ow(e,n){if(vi)return e==="compositionend"||!xu&&Sm(e,n)?(e=pm(),Zo=pu=aa=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xm&&n.locale!=="ko"?null:n.data;default:return null}}var Dw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dw[e.type]:n==="textarea"}function Nm(e,n,i,l){pi?gi?gi.push(l):gi=[l]:pi=l,n=Hl(n,"onChange"),0<n.length&&(i=new tl("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var js=null,Ns=null;function kw(e){sv(e,0)}function rl(e){var n=Ye(e);if(om(n))return e}function Tm(e,n){if(e==="change")return n}var Am=!1;if(Lr){var wu;if(Lr){var _u="oninput"in document;if(!_u){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),_u=typeof Rm.oninput=="function"}wu=_u}else wu=!1;Am=wu&&(!document.documentMode||9<document.documentMode)}function Cm(){js&&(js.detachEvent("onpropertychange",Mm),Ns=js=null)}function Mm(e){if(e.propertyName==="value"&&rl(Ns)){var n=[];Nm(n,Ns,e,fu(e)),mm(kw,n)}}function Uw(e,n,i){e==="focusin"?(Cm(),js=n,Ns=i,js.attachEvent("onpropertychange",Mm)):e==="focusout"&&Cm()}function Lw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(Ns)}function zw(e,n){if(e==="click")return rl(n)}function Bw(e,n){if(e==="input"||e==="change")return rl(n)}function Pw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:Pw;function Ts(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Xe.call(n,f)||!In(e[f],n[f]))return!1}return!0}function Om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dm(e,n){var i=Om(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Om(i)}}function km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Um(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Xo(e.document)}return n}function Su(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $w=Lr&&"documentMode"in document&&11>=document.documentMode,yi=null,Eu=null,As=null,ju=!1;function Lm(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ju||yi==null||yi!==Xo(l)||(l=yi,"selectionStart"in l&&Su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),As&&Ts(As,l)||(As=l,l=Hl(Eu,"onSelect"),0<l.length&&(n=new tl("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=yi)))}function za(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var bi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Nu={},zm={};Lr&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Ba(e){if(Nu[e])return Nu[e];if(!bi[e])return e;var n=bi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in zm)return Nu[e]=n[i];return e}var Bm=Ba("animationend"),Pm=Ba("animationiteration"),$m=Ba("animationstart"),Iw=Ba("transitionrun"),Hw=Ba("transitionstart"),qw=Ba("transitioncancel"),Im=Ba("transitionend"),Hm=new Map,Tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tu.push("scrollEnd");function dr(e,n){Hm.set(e,n),ln(n,[e])}var qm=new WeakMap;function Jn(e,n){if(typeof e=="object"&&e!==null){var i=qm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ra(n)},qm.set(e,n),n)}return{value:e,source:n,stack:ra(n)}}var er=[],xi=0,Au=0;function al(){for(var e=xi,n=Au=xi=0;n<e;){var i=er[n];er[n++]=null;var l=er[n];er[n++]=null;var f=er[n];er[n++]=null;var v=er[n];if(er[n++]=null,l!==null&&f!==null){var j=l.pending;j===null?f.next=f:(f.next=j.next,j.next=f),l.pending=f}v!==0&&Fm(i,f,v)}}function il(e,n,i,l){er[xi++]=e,er[xi++]=n,er[xi++]=i,er[xi++]=l,Au|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ru(e,n,i,l){return il(e,n,i,l),sl(e)}function wi(e,n){return il(e,null,null,n),sl(e)}function Fm(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var f=!1,v=e.return;v!==null;)v.childLanes|=i,l=v.alternate,l!==null&&(l.childLanes|=i),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(f=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,f&&n!==null&&(f=31-x(i),e=v.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=i|536870912),v):null}function sl(e){if(50<Js)throw Js=0,Ud=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _i={};function Fw(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,n,i,l){return new Fw(e,n,i,l)}function Cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,n){var i=e.alternate;return i===null?(i=Hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Gm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ol(e,n,i,l,f,v){var j=0;if(l=e,typeof e=="function")Cu(e)&&(j=1);else if(typeof e=="string")j=V_(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Hn(31,i,n,f),e.elementType=fe,e.lanes=v,e;case S:return Pa(i.children,f,v,n);case T:j=8,f|=24;break;case R:return e=Hn(12,i,n,f|2),e.elementType=R,e.lanes=v,e;case C:return e=Hn(13,i,n,f),e.elementType=C,e.lanes=v,e;case D:return e=Hn(19,i,n,f),e.elementType=D,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case L:j=10;break e;case O:j=9;break e;case G:j=11;break e;case H:j=14;break e;case ae:j=16,l=null;break e}j=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Hn(j,i,n,f),n.elementType=e,n.type=l,n.lanes=v,n}function Pa(e,n,i,l){return e=Hn(7,e,l,n),e.lanes=i,e}function Mu(e,n,i){return e=Hn(6,e,null,n),e.lanes=i,e}function Ou(e,n,i){return n=Hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Si=[],Ei=0,ll=null,cl=0,tr=[],nr=0,$a=null,Br=1,Pr="";function Ia(e,n){Si[Ei++]=cl,Si[Ei++]=ll,ll=e,cl=n}function Vm(e,n,i){tr[nr++]=Br,tr[nr++]=Pr,tr[nr++]=$a,$a=e;var l=Br;e=Pr;var f=32-x(l)-1;l&=~(1<<f),i+=1;var v=32-x(n)+f;if(30<v){var j=f-f%5;v=(l&(1<<j)-1).toString(32),l>>=j,f-=j,Br=1<<32-x(n)+f|i<<f|l,Pr=v+e}else Br=1<<v|i<<f|l,Pr=e}function Du(e){e.return!==null&&(Ia(e,1),Vm(e,1,0))}function ku(e){for(;e===ll;)ll=Si[--Ei],Si[Ei]=null,cl=Si[--Ei],Si[Ei]=null;for(;e===$a;)$a=tr[--nr],tr[nr]=null,Pr=tr[--nr],tr[nr]=null,Br=tr[--nr],tr[nr]=null}var Sn=null,Kt=null,Tt=!1,Ha=null,yr=!1,Uu=Error(s(519));function qa(e){var n=Error(s(418,""));throw Ms(Jn(n,e)),Uu}function Ym(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[V]=e,n[re]=l,i){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(i=0;i<to.length;i++)yt(to[i],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yt("invalid",n),lm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Wo(n);break;case"select":yt("invalid",n);break;case"textarea":yt("invalid",n),um(n,l.value,l.defaultValue,l.children),Wo(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||uv(n.textContent,i)?(l.popover!=null&&(yt("beforetoggle",n),yt("toggle",n)),l.onScroll!=null&&yt("scroll",n),l.onScrollEnd!=null&&yt("scrollend",n),l.onClick!=null&&(n.onclick=ql),n=!0):n=!1,n||qa(e)}function Km(e){for(Sn=e.return;Sn;)switch(Sn.tag){case 5:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:Sn=Sn.return}}function Rs(e){if(e!==Sn)return!1;if(!Tt)return Km(e),Tt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Qd(e.type,e.memoizedProps)),i=!i),i&&Kt&&qa(e),Km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){Kt=hr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}Kt=null}}else n===27?(n=Kt,xa(e.type)?(e=tf,tf=null,Kt=e):Kt=n):Kt=Sn?hr(e.stateNode.nextSibling):null;return!0}function Cs(){Kt=Sn=null,Tt=!1}function Wm(){var e=Ha;return e!==null&&(On===null?On=e:On.push.apply(On,e),Ha=null),e}function Ms(e){Ha===null?Ha=[e]:Ha.push(e)}var Lu=X(null),Fa=null,$r=null;function ia(e,n,i){oe(Lu,n._currentValue),n._currentValue=i}function Ir(e){e._currentValue=Lu.current,ye(Lu)}function zu(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Bu(e,n,i,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var v=f.dependencies;if(v!==null){var j=f.child;v=v.firstContext;e:for(;v!==null;){var M=v;v=f;for(var I=0;I<n.length;I++)if(M.context===n[I]){v.lanes|=i,M=v.alternate,M!==null&&(M.lanes|=i),zu(v.return,i,e),l||(j=null);break e}v=M.next}}else if(f.tag===18){if(j=f.return,j===null)throw Error(s(341));j.lanes|=i,v=j.alternate,v!==null&&(v.lanes|=i),zu(j,i,e),j=null}else j=f.child;if(j!==null)j.return=f;else for(j=f;j!==null;){if(j===e){j=null;break}if(f=j.sibling,f!==null){f.return=j.return,j=f;break}j=j.return}f=j}}function Os(e,n,i,l){e=null;for(var f=n,v=!1;f!==null;){if(!v){if((f.flags&524288)!==0)v=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var j=f.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var M=f.type;In(f.pendingProps.value,j.value)||(e!==null?e.push(M):e=[M])}}else if(f===be.current){if(j=f.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}f=f.return}e!==null&&Bu(n,e,i,l),n.flags|=262144}function ul(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ga(e){Fa=e,$r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bn(e){return Xm(Fa,e)}function dl(e,n){return Fa===null&&Ga(e),Xm(e,n)}function Xm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},$r===null){if(e===null)throw Error(s(308));$r=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $r=$r.next=n;return i}var Gw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Vw=t.unstable_scheduleCallback,Yw=t.unstable_NormalPriority,an={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new Gw,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&Vw(Yw,function(){e.controller.abort()})}var ks=null,$u=0,ji=0,Ni=null;function Kw(e,n){if(ks===null){var i=ks=[];$u=0,ji=Hd(),Ni={status:"pending",value:void 0,then:function(l){i.push(l)}}}return $u++,n.then(Qm,Qm),n}function Qm(){if(--$u===0&&ks!==null){Ni!==null&&(Ni.status="fulfilled");var e=ks;ks=null,ji=0,Ni=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ww(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var Zm=P.S;P.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kw(e,n),Zm!==null&&Zm(e,n)};var Va=X(null);function Iu(){var e=Va.current;return e!==null?e:It.pooledCache}function fl(e,n){n===null?oe(Va,Va.current):oe(Va,n.pool)}function Jm(){var e=Iu();return e===null?null:{parent:an._currentValue,pool:e}}var Us=Error(s(460)),ep=Error(s(474)),hl=Error(s(542)),Hu={then:function(){}};function tp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ml(){}function np(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(ml,ml),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(ml,ml);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw Ls=n,Us}}var Ls=null;function rp(){if(Ls===null)throw Error(s(459));var e=Ls;return Ls=null,e}function ap(e){if(e===Us||e===hl)throw Error(s(483))}var sa=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function la(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=sl(e),Fm(e,null,i),n}return il(e,l,n,i),sl(e)}function zs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,B(e,i)}}function Gu(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var j={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};v===null?f=v=j:v=v.next=j,i=i.next}while(i!==null);v===null?f=v=n:v=v.next=n}else f=v=n;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Vu=!1;function Bs(){if(Vu){var e=Ni;if(e!==null)throw e}}function Ps(e,n,i,l){Vu=!1;var f=e.updateQueue;sa=!1;var v=f.firstBaseUpdate,j=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var I=M,ee=I.next;I.next=null,j===null?v=ee:j.next=ee,j=I;var me=e.alternate;me!==null&&(me=me.updateQueue,M=me.lastBaseUpdate,M!==j&&(M===null?me.firstBaseUpdate=ee:M.next=ee,me.lastBaseUpdate=I))}if(v!==null){var we=f.baseState;j=0,me=ee=I=null,M=v;do{var te=M.lane&-536870913,ie=te!==M.lane;if(ie?(wt&te)===te:(l&te)===te){te!==0&&te===ji&&(Vu=!0),me!==null&&(me=me.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var tt=e,Ze=M;te=n;var Ut=i;switch(Ze.tag){case 1:if(tt=Ze.payload,typeof tt=="function"){we=tt.call(Ut,we,te);break e}we=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=Ze.payload,te=typeof tt=="function"?tt.call(Ut,we,te):tt,te==null)break e;we=y({},we,te);break e;case 2:sa=!0}}te=M.callback,te!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},me===null?(ee=me=ie,I=we):me=me.next=ie,j|=te;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);me===null&&(I=we),f.baseState=I,f.firstBaseUpdate=ee,f.lastBaseUpdate=me,v===null&&(f.shared.lanes=0),ga|=j,e.lanes=j,e.memoizedState=we}}function ip(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function sp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ip(i[e],n)}var Ti=X(null),pl=X(0);function op(e,n){e=Kr,oe(pl,e),oe(Ti,n),Kr=e|n.baseLanes}function Yu(){oe(pl,Kr),oe(Ti,Ti.current)}function Ku(){Kr=pl.current,ye(Ti),ye(pl)}var ca=0,ut=null,Dt=null,en=null,gl=!1,Ai=!1,Ya=!1,vl=0,$s=0,Ri=null,Xw=0;function Xt(){throw Error(s(321))}function Wu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!In(e[i],n[i]))return!1;return!0}function Xu(e,n,i,l,f,v){return ca=v,ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Fp:Gp,Ya=!1,v=i(l,f),Ya=!1,Ai&&(v=cp(n,i,l,f)),lp(e),v}function lp(e){P.H=Sl;var n=Dt!==null&&Dt.next!==null;if(ca=0,en=Dt=ut=null,gl=!1,$s=0,Ri=null,n)throw Error(s(300));e===null||cn||(e=e.dependencies,e!==null&&ul(e)&&(cn=!0))}function cp(e,n,i,l){ut=e;var f=0;do{if(Ai&&(Ri=null),$s=0,Ai=!1,25<=f)throw Error(s(301));if(f+=1,en=Dt=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}P.H=r_,v=n(i,l)}while(Ai);return v}function Qw(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Is(n):n,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(ut.flags|=1024),n}function Qu(){var e=vl!==0;return vl=0,e}function Zu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Ju(e){if(gl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gl=!1}ca=0,en=Dt=ut=null,Ai=!1,$s=vl=0,Ri=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?ut.memoizedState=en=e:en=en.next=e,en}function tn(){if(Dt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var n=en===null?ut.memoizedState:en.next;if(n!==null)en=n,Dt=e;else{if(e===null)throw ut.alternate===null?Error(s(467)):Error(s(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},en===null?ut.memoizedState=en=e:en=en.next=e}return en}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(e){var n=$s;return $s+=1,Ri===null&&(Ri=[]),e=np(Ri,e,n),n=ut,(en===null?n.memoizedState:en.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Fp:Gp),e}function yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Is(e);if(e.$$typeof===L)return bn(e)}throw Error(s(438,String(e)))}function td(e){var n=null,i=ut.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ed(),ut.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=Ne;return n.index++,i}function Hr(e,n){return typeof n=="function"?n(e):n}function bl(e){var n=tn();return nd(n,Dt,e)}function nd(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var f=e.baseQueue,v=l.pending;if(v!==null){if(f!==null){var j=f.next;f.next=v.next,v.next=j}n.baseQueue=f=v,l.pending=null}if(v=e.baseState,f===null)e.memoizedState=v;else{n=f.next;var M=j=null,I=null,ee=n,me=!1;do{var we=ee.lane&-536870913;if(we!==ee.lane?(wt&we)===we:(ca&we)===we){var te=ee.revertLane;if(te===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),we===ji&&(me=!0);else if((ca&te)===te){ee=ee.next,te===ji&&(me=!0);continue}else we={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},I===null?(M=I=we,j=v):I=I.next=we,ut.lanes|=te,ga|=te;we=ee.action,Ya&&i(v,we),v=ee.hasEagerState?ee.eagerState:i(v,we)}else te={lane:we,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},I===null?(M=I=te,j=v):I=I.next=te,ut.lanes|=we,ga|=we;ee=ee.next}while(ee!==null&&ee!==n);if(I===null?j=v:I.next=M,!In(v,e.memoizedState)&&(cn=!0,me&&(i=Ni,i!==null)))throw i;e.memoizedState=v,e.baseState=j,e.baseQueue=I,l.lastRenderedState=v}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rd(e){var n=tn(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,f=i.pending,v=n.memoizedState;if(f!==null){i.pending=null;var j=f=f.next;do v=e(v,j.action),j=j.next;while(j!==f);In(v,n.memoizedState)||(cn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),i.lastRenderedState=v}return[v,l]}function up(e,n,i){var l=ut,f=tn(),v=Tt;if(v){if(i===void 0)throw Error(s(407));i=i()}else i=n();var j=!In((Dt||f).memoizedState,i);j&&(f.memoizedState=i,cn=!0),f=f.queue;var M=hp.bind(null,l,f,e);if(Hs(2048,8,M,[e]),f.getSnapshot!==n||j||en!==null&&en.memoizedState.tag&1){if(l.flags|=2048,Ci(9,xl(),fp.bind(null,l,f,i,n),null),It===null)throw Error(s(349));v||(ca&124)!==0||dp(l,n,i)}return i}function dp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ut.updateQueue,n===null?(n=ed(),ut.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function fp(e,n,i,l){n.value=i,n.getSnapshot=l,mp(n)&&pp(e)}function hp(e,n,i){return i(function(){mp(n)&&pp(e)})}function mp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!In(e,i)}catch{return!0}}function pp(e){var n=wi(e,2);n!==null&&Yn(n,e,2)}function ad(e){var n=Cn();if(typeof e=="function"){var i=e;if(e=i(),Ya){b(!0);try{i()}finally{b(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},n}function gp(e,n,i,l){return e.baseState=i,nd(e,Dt,typeof l=="function"?l:Hr)}function Zw(e,n,i,l,f){if(_l(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){v.listeners.push(j)}};P.T!==null?i(!0):v.isTransition=!1,l(v),i=n.pending,i===null?(v.next=n.pending=v,vp(n,v)):(v.next=i.next,n.pending=i.next=v)}}function vp(e,n){var i=n.action,l=n.payload,f=e.state;if(n.isTransition){var v=P.T,j={};P.T=j;try{var M=i(f,l),I=P.S;I!==null&&I(j,M),yp(e,n,M)}catch(ee){id(e,n,ee)}finally{P.T=v}}else try{v=i(f,l),yp(e,n,v)}catch(ee){id(e,n,ee)}}function yp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){bp(e,n,l)},function(l){return id(e,n,l)}):bp(e,n,i)}function bp(e,n,i){n.status="fulfilled",n.value=i,xp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,vp(e,i)))}function id(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,xp(n),n=n.next;while(n!==l)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wp(e,n){return n}function _p(e,n){if(Tt){var i=It.formState;if(i!==null){e:{var l=ut;if(Tt){if(Kt){t:{for(var f=Kt,v=yr;f.nodeType!==8;){if(!v){f=null;break t}if(f=hr(f.nextSibling),f===null){f=null;break t}}v=f.data,f=v==="F!"||v==="F"?f:null}if(f){Kt=hr(f.nextSibling),l=f.data==="F!";break e}}qa(l)}l=!1}l&&(n=i[0])}}return i=Cn(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:n},i.queue=l,i=Ip.bind(null,ut,l),l.dispatch=i,l=ad(!1),v=ud.bind(null,ut,!1,l.queue),l=Cn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,i=Zw.bind(null,ut,f,v,i),f.dispatch=i,l.memoizedState=e,[n,i,!1]}function Sp(e){var n=tn();return Ep(n,Dt,e)}function Ep(e,n,i){if(n=nd(e,n,wp)[0],e=bl(Hr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Is(n)}catch(j){throw j===Us?hl:j}else l=n;n=tn();var f=n.queue,v=f.dispatch;return i!==n.memoizedState&&(ut.flags|=2048,Ci(9,xl(),Jw.bind(null,f,i),null)),[l,v,e]}function Jw(e,n){e.action=n}function jp(e){var n=tn(),i=Dt;if(i!==null)return Ep(n,i,e);tn(),n=n.memoizedState,i=tn();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function Ci(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=ut.updateQueue,n===null&&(n=ed(),ut.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function xl(){return{destroy:void 0,resource:void 0}}function Np(){return tn().memoizedState}function wl(e,n,i,l){var f=Cn();l=l===void 0?null:l,ut.flags|=e,f.memoizedState=Ci(1|n,xl(),i,l)}function Hs(e,n,i,l){var f=tn();l=l===void 0?null:l;var v=f.memoizedState.inst;Dt!==null&&l!==null&&Wu(l,Dt.memoizedState.deps)?f.memoizedState=Ci(n,v,i,l):(ut.flags|=e,f.memoizedState=Ci(1|n,v,i,l))}function Tp(e,n){wl(8390656,8,e,n)}function Ap(e,n){Hs(2048,8,e,n)}function Rp(e,n){return Hs(4,2,e,n)}function Cp(e,n){return Hs(4,4,e,n)}function Mp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Op(e,n,i){i=i!=null?i.concat([e]):null,Hs(4,4,Mp.bind(null,n,e),i)}function sd(){}function Dp(e,n){var i=tn();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Wu(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function kp(e,n){var i=tn();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Wu(n,l[1]))return l[0];if(l=e(),Ya){b(!0);try{e()}finally{b(!1)}}return i.memoizedState=[l,n],l}function od(e,n,i){return i===void 0||(ca&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=zg(),ut.lanes|=e,ga|=e,i)}function Up(e,n,i,l){return In(i,n)?i:Ti.current!==null?(e=od(e,i,l),In(e,n)||(cn=!0),e):(ca&42)===0?(cn=!0,e.memoizedState=i):(e=zg(),ut.lanes|=e,ga|=e,n)}function Lp(e,n,i,l,f){var v=ne.p;ne.p=v!==0&&8>v?v:8;var j=P.T,M={};P.T=M,ud(e,!1,n,i);try{var I=f(),ee=P.S;if(ee!==null&&ee(M,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var me=Ww(I,l);qs(e,n,me,Vn(e))}else qs(e,n,l,Vn(e))}catch(we){qs(e,n,{then:function(){},status:"rejected",reason:we},Vn())}finally{ne.p=v,P.T=j}}function e_(){}function ld(e,n,i,l){if(e.tag!==5)throw Error(s(476));var f=zp(e).queue;Lp(e,f,n,se,i===null?e_:function(){return Bp(e),i(l)})}function zp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:se},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bp(e){var n=zp(e).next.queue;qs(e,n,{},Vn())}function cd(){return bn(oo)}function Pp(){return tn().memoizedState}function $p(){return tn().memoizedState}function t_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Vn();e=oa(i);var l=la(n,e,i);l!==null&&(Yn(l,n,i),zs(l,n,i)),n={cache:Pu()},e.payload=n;return}n=n.return}}function n_(e,n,i){var l=Vn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},_l(e)?Hp(n,i):(i=Ru(e,n,i,l),i!==null&&(Yn(i,e,l),qp(i,n,l)))}function Ip(e,n,i){var l=Vn();qs(e,n,i,l)}function qs(e,n,i,l){var f={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(_l(e))Hp(n,f);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var j=n.lastRenderedState,M=v(j,i);if(f.hasEagerState=!0,f.eagerState=M,In(M,j))return il(e,n,f,0),It===null&&al(),!1}catch{}finally{}if(i=Ru(e,n,f,l),i!==null)return Yn(i,e,l),qp(i,n,l),!0}return!1}function ud(e,n,i,l){if(l={lane:2,revertLane:Hd(),action:l,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(n)throw Error(s(479))}else n=Ru(e,i,l,2),n!==null&&Yn(n,e,2)}function _l(e){var n=e.alternate;return e===ut||n!==null&&n===ut}function Hp(e,n){Ai=gl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function qp(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,B(e,i)}}var Sl={readContext:bn,use:yl,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Fp={readContext:bn,use:yl,useCallback:function(e,n){return Cn().memoizedState=[e,n===void 0?null:n],e},useContext:bn,useEffect:Tp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,wl(4194308,4,Mp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return wl(4194308,4,e,n)},useInsertionEffect:function(e,n){wl(4,2,e,n)},useMemo:function(e,n){var i=Cn();n=n===void 0?null:n;var l=e();if(Ya){b(!0);try{e()}finally{b(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Cn();if(i!==void 0){var f=i(n);if(Ya){b(!0);try{i(n)}finally{b(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=n_.bind(null,ut,e),[l.memoizedState,e]},useRef:function(e){var n=Cn();return e={current:e},n.memoizedState=e},useState:function(e){e=ad(e);var n=e.queue,i=Ip.bind(null,ut,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:sd,useDeferredValue:function(e,n){var i=Cn();return od(i,e,n)},useTransition:function(){var e=ad(!1);return e=Lp.bind(null,ut,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=ut,f=Cn();if(Tt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),It===null)throw Error(s(349));(wt&124)!==0||dp(l,n,i)}f.memoizedState=i;var v={value:i,getSnapshot:n};return f.queue=v,Tp(hp.bind(null,l,v,e),[e]),l.flags|=2048,Ci(9,xl(),fp.bind(null,l,v,i,n),null),i},useId:function(){var e=Cn(),n=It.identifierPrefix;if(Tt){var i=Pr,l=Br;i=(l&~(1<<32-x(l)-1)).toString(32)+i,n=""+n+"R"+i,i=vl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=Xw++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:cd,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=Cn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ud.bind(null,ut,!0,i),i.dispatch=n,[e,n]},useMemoCache:td,useCacheRefresh:function(){return Cn().memoizedState=t_.bind(null,ut)}},Gp={readContext:bn,use:yl,useCallback:Dp,useContext:bn,useEffect:Ap,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:kp,useReducer:bl,useRef:Np,useState:function(){return bl(Hr)},useDebugValue:sd,useDeferredValue:function(e,n){var i=tn();return Up(i,Dt.memoizedState,e,n)},useTransition:function(){var e=bl(Hr)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Is(e),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:cd,useFormState:Sp,useActionState:Sp,useOptimistic:function(e,n){var i=tn();return gp(i,Dt,e,n)},useMemoCache:td,useCacheRefresh:$p},r_={readContext:bn,use:yl,useCallback:Dp,useContext:bn,useEffect:Ap,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:kp,useReducer:rd,useRef:Np,useState:function(){return rd(Hr)},useDebugValue:sd,useDeferredValue:function(e,n){var i=tn();return Dt===null?od(i,e,n):Up(i,Dt.memoizedState,e,n)},useTransition:function(){var e=rd(Hr)[0],n=tn().memoizedState;return[typeof e=="boolean"?e:Is(e),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:cd,useFormState:jp,useActionState:jp,useOptimistic:function(e,n){var i=tn();return Dt!==null?gp(i,Dt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:td,useCacheRefresh:$p},Mi=null,Fs=0;function El(e){var n=Fs;return Fs+=1,Mi===null&&(Mi=[]),np(Mi,e,n)}function Gs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jl(e,n){throw n.$$typeof===g?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vp(e){var n=e._init;return n(e._payload)}function Yp(e){function n(K,F){if(e){var J=K.deletions;J===null?(K.deletions=[F],K.flags|=16):J.push(F)}}function i(K,F){if(!e)return null;for(;F!==null;)n(K,F),F=F.sibling;return null}function l(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=zr(K,F),K.index=0,K.sibling=null,K}function v(K,F,J){return K.index=J,e?(J=K.alternate,J!==null?(J=J.index,J<F?(K.flags|=67108866,F):J):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function j(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function M(K,F,J,xe){return F===null||F.tag!==6?(F=Mu(J,K.mode,xe),F.return=K,F):(F=f(F,J),F.return=K,F)}function I(K,F,J,xe){var Pe=J.type;return Pe===S?me(K,F,J.props.children,xe,J.key):F!==null&&(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&Vp(Pe)===F.type)?(F=f(F,J.props),Gs(F,J),F.return=K,F):(F=ol(J.type,J.key,J.props,null,K.mode,xe),Gs(F,J),F.return=K,F)}function ee(K,F,J,xe){return F===null||F.tag!==4||F.stateNode.containerInfo!==J.containerInfo||F.stateNode.implementation!==J.implementation?(F=Ou(J,K.mode,xe),F.return=K,F):(F=f(F,J.children||[]),F.return=K,F)}function me(K,F,J,xe,Pe){return F===null||F.tag!==7?(F=Pa(J,K.mode,xe,Pe),F.return=K,F):(F=f(F,J),F.return=K,F)}function we(K,F,J){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Mu(""+F,K.mode,J),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return J=ol(F.type,F.key,F.props,null,K.mode,J),Gs(J,F),J.return=K,J;case _:return F=Ou(F,K.mode,J),F.return=K,F;case ae:var xe=F._init;return F=xe(F._payload),we(K,F,J)}if(Ce(F)||pe(F))return F=Pa(F,K.mode,J,null),F.return=K,F;if(typeof F.then=="function")return we(K,El(F),J);if(F.$$typeof===L)return we(K,dl(K,F),J);jl(K,F)}return null}function te(K,F,J,xe){var Pe=F!==null?F.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:M(K,F,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Pe?I(K,F,J,xe):null;case _:return J.key===Pe?ee(K,F,J,xe):null;case ae:return Pe=J._init,J=Pe(J._payload),te(K,F,J,xe)}if(Ce(J)||pe(J))return Pe!==null?null:me(K,F,J,xe,null);if(typeof J.then=="function")return te(K,F,El(J),xe);if(J.$$typeof===L)return te(K,F,dl(K,J),xe);jl(K,J)}return null}function ie(K,F,J,xe,Pe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return K=K.get(J)||null,M(F,K,""+xe,Pe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case w:return K=K.get(xe.key===null?J:xe.key)||null,I(F,K,xe,Pe);case _:return K=K.get(xe.key===null?J:xe.key)||null,ee(F,K,xe,Pe);case ae:var mt=xe._init;return xe=mt(xe._payload),ie(K,F,J,xe,Pe)}if(Ce(xe)||pe(xe))return K=K.get(J)||null,me(F,K,xe,Pe,null);if(typeof xe.then=="function")return ie(K,F,J,El(xe),Pe);if(xe.$$typeof===L)return ie(K,F,J,dl(F,xe),Pe);jl(F,xe)}return null}function tt(K,F,J,xe){for(var Pe=null,mt=null,Ge=F,Je=F=0,dn=null;Ge!==null&&Je<J.length;Je++){Ge.index>Je?(dn=Ge,Ge=null):dn=Ge.sibling;var jt=te(K,Ge,J[Je],xe);if(jt===null){Ge===null&&(Ge=dn);break}e&&Ge&&jt.alternate===null&&n(K,Ge),F=v(jt,F,Je),mt===null?Pe=jt:mt.sibling=jt,mt=jt,Ge=dn}if(Je===J.length)return i(K,Ge),Tt&&Ia(K,Je),Pe;if(Ge===null){for(;Je<J.length;Je++)Ge=we(K,J[Je],xe),Ge!==null&&(F=v(Ge,F,Je),mt===null?Pe=Ge:mt.sibling=Ge,mt=Ge);return Tt&&Ia(K,Je),Pe}for(Ge=l(Ge);Je<J.length;Je++)dn=ie(Ge,K,Je,J[Je],xe),dn!==null&&(e&&dn.alternate!==null&&Ge.delete(dn.key===null?Je:dn.key),F=v(dn,F,Je),mt===null?Pe=dn:mt.sibling=dn,mt=dn);return e&&Ge.forEach(function(ja){return n(K,ja)}),Tt&&Ia(K,Je),Pe}function Ze(K,F,J,xe){if(J==null)throw Error(s(151));for(var Pe=null,mt=null,Ge=F,Je=F=0,dn=null,jt=J.next();Ge!==null&&!jt.done;Je++,jt=J.next()){Ge.index>Je?(dn=Ge,Ge=null):dn=Ge.sibling;var ja=te(K,Ge,jt.value,xe);if(ja===null){Ge===null&&(Ge=dn);break}e&&Ge&&ja.alternate===null&&n(K,Ge),F=v(ja,F,Je),mt===null?Pe=ja:mt.sibling=ja,mt=ja,Ge=dn}if(jt.done)return i(K,Ge),Tt&&Ia(K,Je),Pe;if(Ge===null){for(;!jt.done;Je++,jt=J.next())jt=we(K,jt.value,xe),jt!==null&&(F=v(jt,F,Je),mt===null?Pe=jt:mt.sibling=jt,mt=jt);return Tt&&Ia(K,Je),Pe}for(Ge=l(Ge);!jt.done;Je++,jt=J.next())jt=ie(Ge,K,Je,jt.value,xe),jt!==null&&(e&&jt.alternate!==null&&Ge.delete(jt.key===null?Je:jt.key),F=v(jt,F,Je),mt===null?Pe=jt:mt.sibling=jt,mt=jt);return e&&Ge.forEach(function(a1){return n(K,a1)}),Tt&&Ia(K,Je),Pe}function Ut(K,F,J,xe){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Pe=J.key;F!==null;){if(F.key===Pe){if(Pe=J.type,Pe===S){if(F.tag===7){i(K,F.sibling),xe=f(F,J.props.children),xe.return=K,K=xe;break e}}else if(F.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===ae&&Vp(Pe)===F.type){i(K,F.sibling),xe=f(F,J.props),Gs(xe,J),xe.return=K,K=xe;break e}i(K,F);break}else n(K,F);F=F.sibling}J.type===S?(xe=Pa(J.props.children,K.mode,xe,J.key),xe.return=K,K=xe):(xe=ol(J.type,J.key,J.props,null,K.mode,xe),Gs(xe,J),xe.return=K,K=xe)}return j(K);case _:e:{for(Pe=J.key;F!==null;){if(F.key===Pe)if(F.tag===4&&F.stateNode.containerInfo===J.containerInfo&&F.stateNode.implementation===J.implementation){i(K,F.sibling),xe=f(F,J.children||[]),xe.return=K,K=xe;break e}else{i(K,F);break}else n(K,F);F=F.sibling}xe=Ou(J,K.mode,xe),xe.return=K,K=xe}return j(K);case ae:return Pe=J._init,J=Pe(J._payload),Ut(K,F,J,xe)}if(Ce(J))return tt(K,F,J,xe);if(pe(J)){if(Pe=pe(J),typeof Pe!="function")throw Error(s(150));return J=Pe.call(J),Ze(K,F,J,xe)}if(typeof J.then=="function")return Ut(K,F,El(J),xe);if(J.$$typeof===L)return Ut(K,F,dl(K,J),xe);jl(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,F!==null&&F.tag===6?(i(K,F.sibling),xe=f(F,J),xe.return=K,K=xe):(i(K,F),xe=Mu(J,K.mode,xe),xe.return=K,K=xe),j(K)):i(K,F)}return function(K,F,J,xe){try{Fs=0;var Pe=Ut(K,F,J,xe);return Mi=null,Pe}catch(Ge){if(Ge===Us||Ge===hl)throw Ge;var mt=Hn(29,Ge,null,K.mode);return mt.lanes=xe,mt.return=K,mt}finally{}}}var Oi=Yp(!0),Kp=Yp(!1),rr=X(null),br=null;function ua(e){var n=e.alternate;oe(sn,sn.current&1),oe(rr,e),br===null&&(n===null||Ti.current!==null||n.memoizedState!==null)&&(br=e)}function Wp(e){if(e.tag===22){if(oe(sn,sn.current),oe(rr,e),br===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(br=e)}}else da()}function da(){oe(sn,sn.current),oe(rr,rr.current)}function qr(e){ye(rr),br===e&&(br=null),ye(sn)}var sn=X(0);function Nl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||ef(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function dd(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var fd={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Vn(),f=oa(l);f.payload=n,i!=null&&(f.callback=i),n=la(e,f,l),n!==null&&(Yn(n,e,l),zs(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Vn(),f=oa(l);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=la(e,f,l),n!==null&&(Yn(n,e,l),zs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Vn(),l=oa(i);l.tag=2,n!=null&&(l.callback=n),n=la(e,l,i),n!==null&&(Yn(n,e,i),zs(n,e,i))}};function Xp(e,n,i,l,f,v,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,j):n.prototype&&n.prototype.isPureReactComponent?!Ts(i,l)||!Ts(f,v):!0}function Qp(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&fd.enqueueReplaceState(n,n.state,null)}function Ka(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zp(e){Tl(e)}function Jp(e){console.error(e)}function eg(e){Tl(e)}function Al(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hd(e,n,i){return i=oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Al(e,n)},i}function ng(e){return e=oa(e),e.tag=3,e}function rg(e,n,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var v=l.value;e.payload=function(){return f(v)},e.callback=function(){tg(n,i,l)}}var j=i.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){tg(n,i,l),typeof f!="function"&&(va===null?va=new Set([this]):va.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})})}function a_(e,n,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Os(n,i,f,!0),i=rr.current,i!==null){switch(i.tag){case 13:return br===null?zd():i.alternate===null&&Wt===0&&(Wt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===Hu?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Pd(e,l,f)),!1;case 22:return i.flags|=65536,l===Hu?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Pd(e,l,f)),!1}throw Error(s(435,i.tag))}return Pd(e,l,f),zd(),!1}if(Tt)return n=rr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Uu&&(e=Error(s(422),{cause:l}),Ms(Jn(e,i)))):(l!==Uu&&(n=Error(s(423),{cause:l}),Ms(Jn(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Jn(l,i),f=hd(e.stateNode,l,f),Gu(e,f),Wt!==4&&(Wt=2)),!1;var v=Error(s(520),{cause:l});if(v=Jn(v,i),Zs===null?Zs=[v]:Zs.push(v),Wt!==4&&(Wt=2),n===null)return!0;l=Jn(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=hd(i.stateNode,l,e),Gu(i,e),!1;case 1:if(n=i.type,v=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(va===null||!va.has(v))))return i.flags|=65536,f&=-f,i.lanes|=f,f=ng(f),rg(f,e,i,l),Gu(i,f),!1}i=i.return}while(i!==null);return!1}var ag=Error(s(461)),cn=!1;function pn(e,n,i,l){n.child=e===null?Kp(n,null,i,l):Oi(n,e.child,i,l)}function ig(e,n,i,l,f){i=i.render;var v=n.ref;if("ref"in l){var j={};for(var M in l)M!=="ref"&&(j[M]=l[M])}else j=l;return Ga(n),l=Xu(e,n,i,j,v,f),M=Qu(),e!==null&&!cn?(Zu(e,n,f),Fr(e,n,f)):(Tt&&M&&Du(n),n.flags|=1,pn(e,n,l,f),n.child)}function sg(e,n,i,l,f){if(e===null){var v=i.type;return typeof v=="function"&&!Cu(v)&&v.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=v,og(e,n,v,l,f)):(e=ol(i.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!wd(e,f)){var j=v.memoizedProps;if(i=i.compare,i=i!==null?i:Ts,i(j,l)&&e.ref===n.ref)return Fr(e,n,f)}return n.flags|=1,e=zr(v,l),e.ref=n.ref,e.return=n,n.child=e}function og(e,n,i,l,f){if(e!==null){var v=e.memoizedProps;if(Ts(v,l)&&e.ref===n.ref)if(cn=!1,n.pendingProps=l=v,wd(e,f))(e.flags&131072)!==0&&(cn=!0);else return n.lanes=e.lanes,Fr(e,n,f)}return md(e,n,i,l,f)}function lg(e,n,i){var l=n.pendingProps,f=l.children,v=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|i:i,e!==null){for(f=n.child=e.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;n.childLanes=v&~l}else n.childLanes=0,n.child=null;return cg(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fl(n,v!==null?v.cachePool:null),v!==null?op(n,v):Yu(),Wp(n);else return n.lanes=n.childLanes=536870912,cg(e,n,v!==null?v.baseLanes|i:i,i)}else v!==null?(fl(n,v.cachePool),op(n,v),da(),n.memoizedState=null):(e!==null&&fl(n,null),Yu(),da());return pn(e,n,f,i),n.child}function cg(e,n,i,l){var f=Iu();return f=f===null?null:{parent:an._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},e!==null&&fl(n,null),Yu(),Wp(n),e!==null&&Os(e,n,l,!0),null}function Rl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function md(e,n,i,l,f){return Ga(n),i=Xu(e,n,i,l,void 0,f),l=Qu(),e!==null&&!cn?(Zu(e,n,f),Fr(e,n,f)):(Tt&&l&&Du(n),n.flags|=1,pn(e,n,i,f),n.child)}function ug(e,n,i,l,f,v){return Ga(n),n.updateQueue=null,i=cp(n,l,i,f),lp(e),l=Qu(),e!==null&&!cn?(Zu(e,n,v),Fr(e,n,v)):(Tt&&l&&Du(n),n.flags|=1,pn(e,n,i,v),n.child)}function dg(e,n,i,l,f){if(Ga(n),n.stateNode===null){var v=_i,j=i.contextType;typeof j=="object"&&j!==null&&(v=bn(j)),v=new i(l,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=fd,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=l,v.state=n.memoizedState,v.refs={},qu(n),j=i.contextType,v.context=typeof j=="object"&&j!==null?bn(j):_i,v.state=n.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&(dd(n,i,j,l),v.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(j=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),j!==v.state&&fd.enqueueReplaceState(v,v.state,null),Ps(n,l,v,f),Bs(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){v=n.stateNode;var M=n.memoizedProps,I=Ka(i,M);v.props=I;var ee=v.context,me=i.contextType;j=_i,typeof me=="object"&&me!==null&&(j=bn(me));var we=i.getDerivedStateFromProps;me=typeof we=="function"||typeof v.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,me||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M||ee!==j)&&Qp(n,v,l,j),sa=!1;var te=n.memoizedState;v.state=te,Ps(n,l,v,f),Bs(),ee=n.memoizedState,M||te!==ee||sa?(typeof we=="function"&&(dd(n,i,we,l),ee=n.memoizedState),(I=sa||Xp(n,i,I,l,te,ee,j))?(me||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=ee),v.props=l,v.state=ee,v.context=j,l=I):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,Fu(e,n),j=n.memoizedProps,me=Ka(i,j),v.props=me,we=n.pendingProps,te=v.context,ee=i.contextType,I=_i,typeof ee=="object"&&ee!==null&&(I=bn(ee)),M=i.getDerivedStateFromProps,(ee=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j!==we||te!==I)&&Qp(n,v,l,I),sa=!1,te=n.memoizedState,v.state=te,Ps(n,l,v,f),Bs();var ie=n.memoizedState;j!==we||te!==ie||sa||e!==null&&e.dependencies!==null&&ul(e.dependencies)?(typeof M=="function"&&(dd(n,i,M,l),ie=n.memoizedState),(me=sa||Xp(n,i,me,l,te,ie,I)||e!==null&&e.dependencies!==null&&ul(e.dependencies))?(ee||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,ie,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,ie,I)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||j===e.memoizedProps&&te===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&te===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ie),v.props=l,v.state=ie,v.context=I,l=me):(typeof v.componentDidUpdate!="function"||j===e.memoizedProps&&te===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&te===e.memoizedState||(n.flags|=1024),l=!1)}return v=l,Rl(e,n),l=(n.flags&128)!==0,v||l?(v=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&l?(n.child=Oi(n,e.child,null,f),n.child=Oi(n,null,i,f)):pn(e,n,i,f),n.memoizedState=v.state,e=n.child):e=Fr(e,n,f),e}function fg(e,n,i,l){return Cs(),n.flags|=256,pn(e,n,i,l),n.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:Jm()}}function vd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=ar),e}function hg(e,n,i){var l=n.pendingProps,f=!1,v=(n.flags&128)!==0,j;if((j=v)||(j=e!==null&&e.memoizedState===null?!1:(sn.current&2)!==0),j&&(f=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(Tt){if(f?ua(n):da(),Tt){var M=Kt,I;if(I=M){e:{for(I=M,M=yr;I.nodeType!==8;){if(!M){M=null;break e}if(I=hr(I.nextSibling),I===null){M=null;break e}}M=I}M!==null?(n.memoizedState={dehydrated:M,treeContext:$a!==null?{id:Br,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},I=Hn(18,null,null,0),I.stateNode=M,I.return=n,n.child=I,Sn=n,Kt=null,I=!0):I=!1}I||qa(n)}if(M=n.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return ef(M)?n.lanes=32:n.lanes=536870912,null;qr(n)}return M=l.children,l=l.fallback,f?(da(),f=n.mode,M=Cl({mode:"hidden",children:M},f),l=Pa(l,f,i,null),M.return=n,l.return=n,M.sibling=l,n.child=M,f=n.child,f.memoizedState=gd(i),f.childLanes=vd(e,j,i),n.memoizedState=pd,l):(ua(n),yd(n,M))}if(I=e.memoizedState,I!==null&&(M=I.dehydrated,M!==null)){if(v)n.flags&256?(ua(n),n.flags&=-257,n=bd(e,n,i)):n.memoizedState!==null?(da(),n.child=e.child,n.flags|=128,n=null):(da(),f=l.fallback,M=n.mode,l=Cl({mode:"visible",children:l.children},M),f=Pa(f,M,i,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Oi(n,e.child,null,i),l=n.child,l.memoizedState=gd(i),l.childLanes=vd(e,j,i),n.memoizedState=pd,n=f);else if(ua(n),ef(M)){if(j=M.nextSibling&&M.nextSibling.dataset,j)var ee=j.dgst;j=ee,l=Error(s(419)),l.stack="",l.digest=j,Ms({value:l,source:null,stack:null}),n=bd(e,n,i)}else if(cn||Os(e,n,i,!1),j=(i&e.childLanes)!==0,cn||j){if(j=It,j!==null&&(l=i&-i,l=(l&42)!==0?1:de(l),l=(l&(j.suspendedLanes|i))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,wi(e,l),Yn(j,e,l),ag;M.data==="$?"||zd(),n=bd(e,n,i)}else M.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Kt=hr(M.nextSibling),Sn=n,Tt=!0,Ha=null,yr=!1,e!==null&&(tr[nr++]=Br,tr[nr++]=Pr,tr[nr++]=$a,Br=e.id,Pr=e.overflow,$a=n),n=yd(n,l.children),n.flags|=4096);return n}return f?(da(),f=l.fallback,M=n.mode,I=e.child,ee=I.sibling,l=zr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,ee!==null?f=zr(ee,f):(f=Pa(f,M,i,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,M=e.child.memoizedState,M===null?M=gd(i):(I=M.cachePool,I!==null?(ee=an._currentValue,I=I.parent!==ee?{parent:ee,pool:ee}:I):I=Jm(),M={baseLanes:M.baseLanes|i,cachePool:I}),f.memoizedState=M,f.childLanes=vd(e,j,i),n.memoizedState=pd,l):(ua(n),i=e.child,e=i.sibling,i=zr(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=i,n.memoizedState=null,i)}function yd(e,n){return n=Cl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Cl(e,n){return e=Hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bd(e,n,i){return Oi(n,e.child,null,i),e=yd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mg(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),zu(e.return,n,i)}function xd(e,n,i,l,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=i,v.tailMode=f)}function pg(e,n,i){var l=n.pendingProps,f=l.revealOrder,v=l.tail;if(pn(e,n,l.children,i),l=sn.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mg(e,i,n);else if(e.tag===19)mg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(oe(sn,l),f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Nl(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),xd(n,!1,f,i,v);break;case"backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Nl(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}xd(n,!0,i,null,v);break;case"together":xd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Fr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ga|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Os(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=zr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=zr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function wd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ul(e)))}function i_(e,n,i){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),ia(n,an,e.memoizedState.cache),Cs();break;case 27:case 5:qe(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ua(n),n.flags|=128,null):(i&n.child.childLanes)!==0?hg(e,n,i):(ua(n),e=Fr(e,n,i),e!==null?e.sibling:null);ua(n);break;case 19:var f=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Os(e,n,i,!1),l=(i&n.childLanes)!==0),f){if(l)return pg(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(sn,sn.current),l)break;return null;case 22:case 23:return n.lanes=0,lg(e,n,i);case 24:ia(n,an,e.memoizedState.cache)}return Fr(e,n,i)}function gg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)cn=!0;else{if(!wd(e,i)&&(n.flags&128)===0)return cn=!1,i_(e,n,i);cn=(e.flags&131072)!==0}else cn=!1,Tt&&(n.flags&1048576)!==0&&Vm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")Cu(l)?(e=Ka(l,e),n.tag=1,n=dg(null,n,l,e,i)):(n.tag=0,n=md(null,n,l,e,i));else{if(l!=null){if(f=l.$$typeof,f===G){n.tag=11,n=ig(null,n,l,e,i);break e}else if(f===H){n.tag=14,n=sg(null,n,l,e,i);break e}}throw n=Se(l)||l,Error(s(306,n,""))}}return n;case 0:return md(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,f=Ka(l,n.pendingProps),dg(e,n,l,f,i);case 3:e:{if(le(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var v=n.memoizedState;f=v.element,Fu(e,n),Ps(n,l,null,i);var j=n.memoizedState;if(l=j.cache,ia(n,an,l),l!==v.cache&&Bu(n,[an],i,!0),Bs(),l=j.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=fg(e,n,l,i);break e}else if(l!==f){f=Jn(Error(s(424)),n),Ms(f),n=fg(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=hr(e.firstChild),Sn=n,Tt=!0,Ha=null,yr=!0,i=Kp(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cs(),l===f){n=Fr(e,n,i);break e}pn(e,n,l,i)}n=n.child}return n;case 26:return Rl(e,n),e===null?(i=xv(n.type,null,n.pendingProps,null))?n.memoizedState=i:Tt||(i=n.type,e=n.pendingProps,l=Fl(Z.current).createElement(i),l[V]=n,l[re]=e,vn(l,i,e),et(l),n.stateNode=l):n.memoizedState=xv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qe(n),e===null&&Tt&&(l=n.stateNode=vv(n.type,n.pendingProps,Z.current),Sn=n,yr=!0,f=Kt,xa(n.type)?(tf=f,Kt=hr(l.firstChild)):Kt=f),pn(e,n,n.pendingProps.children,i),Rl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Tt&&((f=l=Kt)&&(l=D_(l,n.type,n.pendingProps,yr),l!==null?(n.stateNode=l,Sn=n,Kt=hr(l.firstChild),yr=!1,f=!0):f=!1),f||qa(n)),qe(n),f=n.type,v=n.pendingProps,j=e!==null?e.memoizedProps:null,l=v.children,Qd(f,v)?l=null:j!==null&&Qd(f,j)&&(n.flags|=32),n.memoizedState!==null&&(f=Xu(e,n,Qw,null,null,i),oo._currentValue=f),Rl(e,n),pn(e,n,l,i),n.child;case 6:return e===null&&Tt&&((e=i=Kt)&&(i=k_(i,n.pendingProps,yr),i!==null?(n.stateNode=i,Sn=n,Kt=null,e=!0):e=!1),e||qa(n)),null;case 13:return hg(e,n,i);case 4:return le(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Oi(n,null,l,i):pn(e,n,l,i),n.child;case 11:return ig(e,n,n.type,n.pendingProps,i);case 7:return pn(e,n,n.pendingProps,i),n.child;case 8:return pn(e,n,n.pendingProps.children,i),n.child;case 12:return pn(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),pn(e,n,l.children,i),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Ga(n),f=bn(f),l=l(f),n.flags|=1,pn(e,n,l,i),n.child;case 14:return sg(e,n,n.type,n.pendingProps,i);case 15:return og(e,n,n.type,n.pendingProps,i);case 19:return pg(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=Cl(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=zr(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return lg(e,n,i);case 24:return Ga(n),l=bn(an),e===null?(f=Iu(),f===null&&(f=It,v=Pu(),f.pooledCache=v,v.refCount++,v!==null&&(f.pooledCacheLanes|=i),f=v),n.memoizedState={parent:l,cache:f},qu(n),ia(n,an,f)):((e.lanes&i)!==0&&(Fu(e,n),Ps(n,null,null,i),Bs()),f=e.memoizedState,v=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ia(n,an,l)):(l=v.cache,ia(n,an,l),l!==f.cache&&Bu(n,[an],i,!0))),pn(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Gr(e){e.flags|=4}function vg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jv(n)){if(n=rr.current,n!==null&&((wt&4194048)===wt?br!==null:(wt&62914560)!==wt&&(wt&536870912)===0||n!==br))throw Ls=Hu,ep;e.flags|=8192}}function Ml(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?zt():536870912,e.lanes|=n,Li|=n)}function Vs(e,n){if(!Tt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Vt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function s_(e,n,i){var l=n.pendingProps;switch(ku(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(n),null;case 1:return Vt(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ir(an),Ae(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Rs(n)?Gr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wm())),Vt(n),null;case 26:return i=n.memoizedState,e===null?(Gr(n),i!==null?(Vt(n),vg(n,i)):(Vt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Gr(n),Vt(n),vg(n,i)):(Vt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Gr(n),Vt(n),n.flags&=-16777217),null;case 27:Ie(n),i=Z.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}e=Y.current,Rs(n)?Ym(n):(e=vv(f,l,i),n.stateNode=e,Gr(n))}return Vt(n),null;case 5:if(Ie(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Vt(n),null}if(e=Y.current,Rs(n))Ym(n);else{switch(f=Fl(Z.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(i,{is:l.is}):f.createElement(i)}}e[V]=n,e[re]=l;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(vn(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Gr(n)}}return Vt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Gr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Z.current,Rs(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[V]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||uv(e.nodeValue,i)),e||qa(n)}else e=Fl(e).createTextNode(l),e[V]=n,n.stateNode=e}return Vt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Rs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[V]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Vt(n),f=!1}else f=Wm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(qr(n),n):(qr(n),null)}if(qr(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var v=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==f&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Ml(n,n.updateQueue),Vt(n),null;case 4:return Ae(),e===null&&Vd(n.stateNode.containerInfo),Vt(n),null;case 10:return Ir(n.type),Vt(n),null;case 19:if(ye(sn),f=n.memoizedState,f===null)return Vt(n),null;if(l=(n.flags&128)!==0,v=f.rendering,v===null)if(l)Vs(f,!1);else{if(Wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=Nl(e),v!==null){for(n.flags|=128,Vs(f,!1),e=v.updateQueue,n.updateQueue=e,Ml(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Gm(i,e),i=i.sibling;return oe(sn,sn.current&1|2),n.child}e=e.sibling}f.tail!==null&&dt()>kl&&(n.flags|=128,l=!0,Vs(f,!1),n.lanes=4194304)}else{if(!l)if(e=Nl(v),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Ml(n,e),Vs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Tt)return Vt(n),null}else 2*dt()-f.renderingStartTime>kl&&i!==536870912&&(n.flags|=128,l=!0,Vs(f,!1),n.lanes=4194304);f.isBackwards?(v.sibling=n.child,n.child=v):(e=f.last,e!==null?e.sibling=v:n.child=v,f.last=v)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=dt(),n.sibling=null,e=sn.current,oe(sn,l?e&1|2:e&1),n):(Vt(n),null);case 22:case 23:return qr(n),Ku(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(Vt(n),n.subtreeFlags&6&&(n.flags|=8192)):Vt(n),i=n.updateQueue,i!==null&&Ml(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&ye(Va),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ir(an),Vt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function o_(e,n){switch(ku(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ir(an),Ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ie(n),null;case 13:if(qr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ye(sn),null;case 4:return Ae(),null;case 10:return Ir(n.type),null;case 22:case 23:return qr(n),Ku(),e!==null&&ye(Va),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ir(an),null;case 25:return null;default:return null}}function yg(e,n){switch(ku(n),n.tag){case 3:Ir(an),Ae();break;case 26:case 27:case 5:Ie(n);break;case 4:Ae();break;case 13:qr(n);break;case 19:ye(sn);break;case 10:Ir(n.type);break;case 22:case 23:qr(n),Ku(),e!==null&&ye(Va);break;case 24:Ir(an)}}function Ys(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&e)===e){l=void 0;var v=i.create,j=i.inst;l=v(),j.destroy=l}i=i.next}while(i!==f)}}catch(M){Pt(n,n.return,M)}}function fa(e,n,i){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&e)===e){var j=l.inst,M=j.destroy;if(M!==void 0){j.destroy=void 0,f=n;var I=i,ee=M;try{ee()}catch(me){Pt(f,I,me)}}}l=l.next}while(l!==v)}}catch(me){Pt(n,n.return,me)}}function bg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{sp(n,i)}catch(l){Pt(e,e.return,l)}}}function xg(e,n,i){i.props=Ka(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Pt(e,n,l)}}function Ks(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(f){Pt(e,n,f)}}function xr(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){Pt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Pt(e,n,f)}else i.current=null}function wg(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){Pt(e,e.return,f)}}function _d(e,n,i){try{var l=e.stateNode;A_(l,e.type,i,n),l[re]=n}catch(f){Pt(e,e.return,f)}}function _g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function Sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ql));else if(l!==4&&(l===27&&xa(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ed(e,n,i),e=e.sibling;e!==null;)Ed(e,n,i),e=e.sibling}function Ol(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&xa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ol(e,n,i),e=e.sibling;e!==null;)Ol(e,n,i),e=e.sibling}function Sg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);vn(n,l,i),n[V]=e,n[re]=i}catch(v){Pt(e,e.return,v)}}var Vr=!1,Qt=!1,jd=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,un=null;function l_(e,n){if(e=e.containerInfo,Wd=Xl,e=Um(e),Su(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var j=0,M=-1,I=-1,ee=0,me=0,we=e,te=null;t:for(;;){for(var ie;we!==i||f!==0&&we.nodeType!==3||(M=j+f),we!==v||l!==0&&we.nodeType!==3||(I=j+l),we.nodeType===3&&(j+=we.nodeValue.length),(ie=we.firstChild)!==null;)te=we,we=ie;for(;;){if(we===e)break t;if(te===i&&++ee===f&&(M=j),te===v&&++me===l&&(I=j),(ie=we.nextSibling)!==null)break;we=te,te=we.parentNode}we=ie}i=M===-1||I===-1?null:{start:M,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Xd={focusedElem:e,selectionRange:i},Xl=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){switch(n=un,v=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,i=n,f=v.memoizedProps,v=v.memoizedState,l=i.stateNode;try{var tt=Ka(i.type,f,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(tt,v),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ze){Pt(i,i.return,Ze)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Jd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}}function jg(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ha(e,i),l&4&&Ys(5,i);break;case 1:if(ha(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(j){Pt(i,i.return,j)}else{var f=Ka(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Pt(i,i.return,j)}}l&64&&bg(i),l&512&&Ks(i,i.return);break;case 3:if(ha(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{sp(e,n)}catch(j){Pt(i,i.return,j)}}break;case 27:n===null&&l&4&&Sg(i);case 26:case 5:ha(e,i),n===null&&l&4&&wg(i),l&512&&Ks(i,i.return);break;case 12:ha(e,i);break;case 13:ha(e,i),l&4&&Ag(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=v_.bind(null,i),U_(e,i))));break;case 22:if(l=i.memoizedState!==null||Vr,!l){n=n!==null&&n.memoizedState!==null||Qt,f=Vr;var v=Qt;Vr=l,(Qt=n)&&!v?ma(e,i,(i.subtreeFlags&8772)!==0):ha(e,i),Vr=f,Qt=v}break;case 30:break;default:ha(e,i)}}function Ng(e){var n=e.alternate;n!==null&&(e.alternate=null,Ng(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ke(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Mn=!1;function Yr(e,n,i){for(i=i.child;i!==null;)Tg(e,n,i),i=i.sibling}function Tg(e,n,i){if(A&&typeof A.onCommitFiberUnmount=="function")try{A.onCommitFiberUnmount(lt,i)}catch{}switch(i.tag){case 26:Qt||xr(i,n),Yr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qt||xr(i,n);var l=Ft,f=Mn;xa(i.type)&&(Ft=i.stateNode,Mn=!1),Yr(e,n,i),ro(i.stateNode),Ft=l,Mn=f;break;case 5:Qt||xr(i,n);case 6:if(l=Ft,f=Mn,Ft=null,Yr(e,n,i),Ft=l,Mn=f,Ft!==null)if(Mn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(i.stateNode)}catch(v){Pt(i,n,v)}else try{Ft.removeChild(i.stateNode)}catch(v){Pt(i,n,v)}break;case 18:Ft!==null&&(Mn?(e=Ft,pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),fo(e)):pv(Ft,i.stateNode));break;case 4:l=Ft,f=Mn,Ft=i.stateNode.containerInfo,Mn=!0,Yr(e,n,i),Ft=l,Mn=f;break;case 0:case 11:case 14:case 15:Qt||fa(2,i,n),Qt||fa(4,i,n),Yr(e,n,i);break;case 1:Qt||(xr(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&xg(i,n,l)),Yr(e,n,i);break;case 21:Yr(e,n,i);break;case 22:Qt=(l=Qt)||i.memoizedState!==null,Yr(e,n,i),Qt=l;break;default:Yr(e,n,i)}}function Ag(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fo(e)}catch(i){Pt(n,n.return,i)}}function c_(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Eg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Eg),n;default:throw Error(s(435,e.tag))}}function Nd(e,n){var i=c_(e);n.forEach(function(l){var f=y_.bind(null,e,l);i.has(l)||(i.add(l),l.then(f,f))})}function qn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],v=e,j=n,M=j;e:for(;M!==null;){switch(M.tag){case 27:if(xa(M.type)){Ft=M.stateNode,Mn=!1;break e}break;case 5:Ft=M.stateNode,Mn=!1;break e;case 3:case 4:Ft=M.stateNode.containerInfo,Mn=!0;break e}M=M.return}if(Ft===null)throw Error(s(160));Tg(v,j,f),Ft=null,Mn=!1,v=f.alternate,v!==null&&(v.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,e),n=n.sibling}var fr=null;function Rg(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(n,e),Fn(e),l&4&&(fa(3,e,e.return),Ys(3,e),fa(5,e,e.return));break;case 1:qn(n,e),Fn(e),l&512&&(Qt||i===null||xr(i,i.return)),l&64&&Vr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=fr;if(qn(n,e),Fn(e),l&512&&(Qt||i===null||xr(i,i.return)),l&4){var v=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":v=f.getElementsByTagName("title")[0],(!v||v[ze]||v[V]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=f.createElement(l),f.head.insertBefore(v,f.querySelector("head > title"))),vn(v,l,i),v[V]=e,et(v),l=v;break e;case"link":var j=Sv("link","href",f).get(l+(i.href||""));if(j){for(var M=0;M<j.length;M++)if(v=j[M],v.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&v.getAttribute("rel")===(i.rel==null?null:i.rel)&&v.getAttribute("title")===(i.title==null?null:i.title)&&v.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){j.splice(M,1);break t}}v=f.createElement(l),vn(v,l,i),f.head.appendChild(v);break;case"meta":if(j=Sv("meta","content",f).get(l+(i.content||""))){for(M=0;M<j.length;M++)if(v=j[M],v.getAttribute("content")===(i.content==null?null:""+i.content)&&v.getAttribute("name")===(i.name==null?null:i.name)&&v.getAttribute("property")===(i.property==null?null:i.property)&&v.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&v.getAttribute("charset")===(i.charSet==null?null:i.charSet)){j.splice(M,1);break t}}v=f.createElement(l),vn(v,l,i),f.head.appendChild(v);break;default:throw Error(s(468,l))}v[V]=e,et(v),l=v}e.stateNode=l}else Ev(f,e.type,e.stateNode);else e.stateNode=_v(f,l,e.memoizedProps);else v!==l?(v===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):v.count--,l===null?Ev(f,e.type,e.stateNode):_v(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_d(e,e.memoizedProps,i.memoizedProps)}break;case 27:qn(n,e),Fn(e),l&512&&(Qt||i===null||xr(i,i.return)),i!==null&&l&4&&_d(e,e.memoizedProps,i.memoizedProps);break;case 5:if(qn(n,e),Fn(e),l&512&&(Qt||i===null||xr(i,i.return)),e.flags&32){f=e.stateNode;try{mi(f,"")}catch(ie){Pt(e,e.return,ie)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,_d(e,f,i!==null?i.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(qn(n,e),Fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(ie){Pt(e,e.return,ie)}}break;case 3:if(Yl=null,f=fr,fr=Gl(n.containerInfo),qn(n,e),fr=f,Fn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{fo(n.containerInfo)}catch(ie){Pt(e,e.return,ie)}jd&&(jd=!1,Cg(e));break;case 4:l=fr,fr=Gl(e.stateNode.containerInfo),qn(n,e),Fn(e),fr=l;break;case 12:qn(n,e),Fn(e);break;case 13:qn(n,e),Fn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Od=dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nd(e,l)));break;case 22:f=e.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,ee=Vr,me=Qt;if(Vr=ee||f,Qt=me||I,qn(n,e),Qt=me,Vr=ee,Fn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||I||Vr||Qt||Wa(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){I=i=n;try{if(v=I.stateNode,f)j=v.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{M=I.stateNode;var we=I.memoizedProps.style,te=we!=null&&we.hasOwnProperty("display")?we.display:null;M.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){Pt(I,I.return,ie)}}}else if(n.tag===6){if(i===null){I=n;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ie){Pt(I,I.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Nd(e,i))));break;case 19:qn(n,e),Fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nd(e,l)));break;case 30:break;case 21:break;default:qn(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(_g(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,v=Sd(e);Ol(e,v,f);break;case 5:var j=i.stateNode;i.flags&32&&(mi(j,""),i.flags&=-33);var M=Sd(e);Ol(e,M,j);break;case 3:case 4:var I=i.stateNode.containerInfo,ee=Sd(e);Ed(e,ee,I);break;default:throw Error(s(161))}}catch(me){Pt(e,e.return,me)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ha(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jg(e,n.alternate,n),n=n.sibling}function Wa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),Wa(n);break;case 1:xr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&xg(n,n.return,i),Wa(n);break;case 27:ro(n.stateNode);case 26:case 5:xr(n,n.return),Wa(n);break;case 22:n.memoizedState===null&&Wa(n);break;case 30:Wa(n);break;default:Wa(n)}e=e.sibling}}function ma(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,v=n,j=v.flags;switch(v.tag){case 0:case 11:case 15:ma(f,v,i),Ys(4,v);break;case 1:if(ma(f,v,i),l=v,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){Pt(l,l.return,ee)}if(l=v,f=l.updateQueue,f!==null){var M=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)ip(I[f],M)}catch(ee){Pt(l,l.return,ee)}}i&&j&64&&bg(v),Ks(v,v.return);break;case 27:Sg(v);case 26:case 5:ma(f,v,i),i&&l===null&&j&4&&wg(v),Ks(v,v.return);break;case 12:ma(f,v,i);break;case 13:ma(f,v,i),i&&j&4&&Ag(f,v);break;case 22:v.memoizedState===null&&ma(f,v,i),Ks(v,v.return);break;case 30:break;default:ma(f,v,i)}n=n.sibling}}function Td(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ds(i))}function Ad(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ds(e))}function wr(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mg(e,n,i,l),n=n.sibling}function Mg(e,n,i,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:wr(e,n,i,l),f&2048&&Ys(9,n);break;case 1:wr(e,n,i,l);break;case 3:wr(e,n,i,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ds(e)));break;case 12:if(f&2048){wr(e,n,i,l),e=n.stateNode;try{var v=n.memoizedProps,j=v.id,M=v.onPostCommit;typeof M=="function"&&M(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Pt(n,n.return,I)}}else wr(e,n,i,l);break;case 13:wr(e,n,i,l);break;case 23:break;case 22:v=n.stateNode,j=n.alternate,n.memoizedState!==null?v._visibility&2?wr(e,n,i,l):Ws(e,n):v._visibility&2?wr(e,n,i,l):(v._visibility|=2,Di(e,n,i,l,(n.subtreeFlags&10256)!==0)),f&2048&&Td(j,n);break;case 24:wr(e,n,i,l),f&2048&&Ad(n.alternate,n);break;default:wr(e,n,i,l)}}function Di(e,n,i,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var v=e,j=n,M=i,I=l,ee=j.flags;switch(j.tag){case 0:case 11:case 15:Di(v,j,M,I,f),Ys(8,j);break;case 23:break;case 22:var me=j.stateNode;j.memoizedState!==null?me._visibility&2?Di(v,j,M,I,f):Ws(v,j):(me._visibility|=2,Di(v,j,M,I,f)),f&&ee&2048&&Td(j.alternate,j);break;case 24:Di(v,j,M,I,f),f&&ee&2048&&Ad(j.alternate,j);break;default:Di(v,j,M,I,f)}n=n.sibling}}function Ws(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,f=l.flags;switch(l.tag){case 22:Ws(i,l),f&2048&&Td(l.alternate,l);break;case 24:Ws(i,l),f&2048&&Ad(l.alternate,l);break;default:Ws(i,l)}n=n.sibling}}var Xs=8192;function ki(e){if(e.subtreeFlags&Xs)for(e=e.child;e!==null;)Og(e),e=e.sibling}function Og(e){switch(e.tag){case 26:ki(e),e.flags&Xs&&e.memoizedState!==null&&K_(fr,e.memoizedState,e.memoizedProps);break;case 5:ki(e);break;case 3:case 4:var n=fr;fr=Gl(e.stateNode.containerInfo),ki(e),fr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xs,Xs=16777216,ki(e),Xs=n):ki(e));break;default:ki(e)}}function Dg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];un=l,Ug(l,e)}Dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kg(e),e=e.sibling}function kg(e){switch(e.tag){case 0:case 11:case 15:Qs(e),e.flags&2048&&fa(9,e,e.return);break;case 3:Qs(e);break;case 12:Qs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Dl(e)):Qs(e);break;default:Qs(e)}}function Dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];un=l,Ug(l,e)}Dg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fa(8,n,n.return),Dl(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Dl(n));break;default:Dl(n)}e=e.sibling}}function Ug(e,n){for(;un!==null;){var i=un;switch(i.tag){case 0:case 11:case 15:fa(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ds(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,un=l;else e:for(i=e;un!==null;){l=un;var f=l.sibling,v=l.return;if(Ng(l),l===i){un=null;break e}if(f!==null){f.return=v,un=f;break e}un=v}}}var u_={getCacheForType:function(e){var n=bn(an),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},d_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,It=null,vt=null,wt=0,Mt=0,Gn=null,pa=!1,Ui=!1,Rd=!1,Kr=0,Wt=0,ga=0,Xa=0,Cd=0,ar=0,Li=0,Zs=null,On=null,Md=!1,Od=0,kl=1/0,Ul=null,va=null,gn=0,ya=null,zi=null,Bi=0,Dd=0,kd=null,Lg=null,Js=0,Ud=null;function Vn(){if((Ct&2)!==0&&wt!==0)return wt&-wt;if(P.T!==null){var e=ji;return e!==0?e:Hd()}return Re()}function zg(){ar===0&&(ar=(wt&536870912)===0||Tt?ht():536870912);var e=rr.current;return e!==null&&(e.flags|=32),ar}function Yn(e,n,i){(e===It&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)&&(Pi(e,0),ba(e,wt,ar,!1)),Gt(e,i),((Ct&2)===0||e!==It)&&(e===It&&((Ct&2)===0&&(Xa|=i),Wt===4&&ba(e,wt,ar,!1)),_r(e))}function Bg(e,n,i){if((Ct&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||ft(e,n),f=l?m_(e,n):Bd(e,n,!0),v=l;do{if(f===0){Ui&&!l&&ba(e,n,0,!1);break}else{if(i=e.current.alternate,v&&!f_(i)){f=Bd(e,n,!1),v=!1;continue}if(f===2){if(v=n,e.errorRecoveryDisabledLanes&v)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var M=e;f=Zs;var I=M.current.memoizedState.isDehydrated;if(I&&(Pi(M,j).flags|=256),j=Bd(M,j,!1),j!==2){if(Rd&&!I){M.errorRecoveryDisabledLanes|=v,Xa|=v,f=4;break e}v=On,On=f,v!==null&&(On===null?On=v:On.push.apply(On,v))}f=j}if(v=!1,f!==2)continue}}if(f===1){Pi(e,0),ba(e,n,0,!0);break}e:{switch(l=e,v=f,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ba(l,n,ar,!pa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Od+300-dt(),10<f)){if(ba(l,n,ar,!pa),ct(l,0,!0)!==0)break e;l.timeoutHandle=hv(Pg.bind(null,l,i,On,Ul,Md,n,ar,Xa,Li,pa,v,2,-0,0),f);break e}Pg(l,i,On,Ul,Md,n,ar,Xa,Li,pa,v,0,-0,0)}}break}while(!0);_r(e)}function Pg(e,n,i,l,f,v,j,M,I,ee,me,we,te,ie){if(e.timeoutHandle=-1,we=n.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(so={stylesheets:null,count:0,unsuspend:Y_},Og(n),we=W_(),we!==null)){e.cancelPendingCommit=we(Vg.bind(null,e,n,v,i,l,f,j,M,I,me,1,te,ie)),ba(e,v,j,!ee);return}Vg(e,n,v,i,l,f,j,M,I)}function f_(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],v=f.getSnapshot;f=f.value;try{if(!In(v(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ba(e,n,i,l){n&=~Cd,n&=~Xa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var v=31-x(f),j=1<<v;l[v]=-1,f&=~j}i!==0&&We(e,i,n)}function Ll(){return(Ct&6)===0?(eo(0),!1):!0}function Ld(){if(vt!==null){if(Mt===0)var e=vt.return;else e=vt,$r=Fa=null,Ju(e),Mi=null,Fs=0,e=vt;for(;e!==null;)yg(e.alternate,e),e=e.return;vt=null}}function Pi(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,C_(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ld(),It=e,vt=i=zr(e.current,null),wt=n,Mt=0,Gn=null,pa=!1,Ui=ft(e,n),Rd=!1,Li=ar=Cd=Xa=ga=Wt=0,On=Zs=null,Md=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-x(l),v=1<<f;n|=e[f],l&=~v}return Kr=n,al(),i}function $g(e,n){ut=null,P.H=Sl,n===Us||n===hl?(n=rp(),Mt=3):n===ep?(n=rp(),Mt=4):Mt=n===ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,vt===null&&(Wt=1,Al(e,Jn(n,e.current)))}function Ig(){var e=P.H;return P.H=Sl,e===null?Sl:e}function Hg(){var e=P.A;return P.A=u_,e}function zd(){Wt=4,pa||(wt&4194048)!==wt&&rr.current!==null||(Ui=!0),(ga&134217727)===0&&(Xa&134217727)===0||It===null||ba(It,wt,ar,!1)}function Bd(e,n,i){var l=Ct;Ct|=2;var f=Ig(),v=Hg();(It!==e||wt!==n)&&(Ul=null,Pi(e,n)),n=!1;var j=Wt;e:do try{if(Mt!==0&&vt!==null){var M=vt,I=Gn;switch(Mt){case 8:Ld(),j=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(n=!0);var ee=Mt;if(Mt=0,Gn=null,$i(e,M,I,ee),i&&Ui){j=0;break e}break;default:ee=Mt,Mt=0,Gn=null,$i(e,M,I,ee)}}h_(),j=Wt;break}catch(me){$g(e,me)}while(!0);return n&&e.shellSuspendCounter++,$r=Fa=null,Ct=l,P.H=f,P.A=v,vt===null&&(It=null,wt=0,al()),j}function h_(){for(;vt!==null;)qg(vt)}function m_(e,n){var i=Ct;Ct|=2;var l=Ig(),f=Hg();It!==e||wt!==n?(Ul=null,kl=dt()+500,Pi(e,n)):Ui=ft(e,n);e:do try{if(Mt!==0&&vt!==null){n=vt;var v=Gn;t:switch(Mt){case 1:Mt=0,Gn=null,$i(e,n,v,1);break;case 2:case 9:if(tp(v)){Mt=0,Gn=null,Fg(n);break}n=function(){Mt!==2&&Mt!==9||It!==e||(Mt=7),_r(e)},v.then(n,n);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:tp(v)?(Mt=0,Gn=null,Fg(n)):(Mt=0,Gn=null,$i(e,n,v,7));break;case 5:var j=null;switch(vt.tag){case 26:j=vt.memoizedState;case 5:case 27:var M=vt;if(!j||jv(j)){Mt=0,Gn=null;var I=M.sibling;if(I!==null)vt=I;else{var ee=M.return;ee!==null?(vt=ee,zl(ee)):vt=null}break t}}Mt=0,Gn=null,$i(e,n,v,5);break;case 6:Mt=0,Gn=null,$i(e,n,v,6);break;case 8:Ld(),Wt=6;break e;default:throw Error(s(462))}}p_();break}catch(me){$g(e,me)}while(!0);return $r=Fa=null,P.H=l,P.A=f,Ct=i,vt!==null?0:(It=null,wt=0,al(),Wt)}function p_(){for(;vt!==null&&!St();)qg(vt)}function qg(e){var n=gg(e.alternate,e,Kr);e.memoizedProps=e.pendingProps,n===null?zl(e):vt=n}function Fg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=ug(i,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=ug(i,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:Ju(n);default:yg(i,n),n=vt=Gm(n,Kr),n=gg(i,n,Kr)}e.memoizedProps=e.pendingProps,n===null?zl(e):vt=n}function $i(e,n,i,l){$r=Fa=null,Ju(n),Mi=null,Fs=0;var f=n.return;try{if(a_(e,f,n,i,wt)){Wt=1,Al(e,Jn(i,e.current)),vt=null;return}}catch(v){if(f!==null)throw vt=f,v;Wt=1,Al(e,Jn(i,e.current)),vt=null;return}n.flags&32768?(Tt||l===1?e=!0:Ui||(wt&536870912)!==0?e=!1:(pa=e=!0,(l===2||l===9||l===3||l===6)&&(l=rr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gg(n,e)):zl(n)}function zl(e){var n=e;do{if((n.flags&32768)!==0){Gg(n,pa);return}e=n.return;var i=s_(n.alternate,n,Kr);if(i!==null){vt=i;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);Wt===0&&(Wt=5)}function Gg(e,n){do{var i=o_(e.alternate,e);if(i!==null){i.flags&=32767,vt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=i}while(e!==null);Wt=6,vt=null}function Vg(e,n,i,l,f,v,j,M,I){e.cancelPendingCommit=null;do Bl();while(gn!==0);if((Ct&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=Au,Nn(e,i,v,j,M,I),e===It&&(vt=It=null,wt=0),zi=n,ya=e,Bi=i,Dd=v,kd=f,Lg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b_(Fe,function(){return Qg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=ne.p,ne.p=2,j=Ct,Ct|=4;try{l_(e,n,i)}finally{Ct=j,ne.p=f,P.T=l}}gn=1,Yg(),Kg(),Wg()}}function Yg(){if(gn===1){gn=0;var e=ya,n=zi,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=P.T,P.T=null;var l=ne.p;ne.p=2;var f=Ct;Ct|=4;try{Rg(n,e);var v=Xd,j=Um(e.containerInfo),M=v.focusedElem,I=v.selectionRange;if(j!==M&&M&&M.ownerDocument&&km(M.ownerDocument.documentElement,M)){if(I!==null&&Su(M)){var ee=I.start,me=I.end;if(me===void 0&&(me=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(me,M.value.length);else{var we=M.ownerDocument||document,te=we&&we.defaultView||window;if(te.getSelection){var ie=te.getSelection(),tt=M.textContent.length,Ze=Math.min(I.start,tt),Ut=I.end===void 0?Ze:Math.min(I.end,tt);!ie.extend&&Ze>Ut&&(j=Ut,Ut=Ze,Ze=j);var K=Dm(M,Ze),F=Dm(M,Ut);if(K&&F&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==F.node||ie.focusOffset!==F.offset)){var J=we.createRange();J.setStart(K.node,K.offset),ie.removeAllRanges(),Ze>Ut?(ie.addRange(J),ie.extend(F.node,F.offset)):(J.setEnd(F.node,F.offset),ie.addRange(J))}}}}for(we=[],ie=M;ie=ie.parentNode;)ie.nodeType===1&&we.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<we.length;M++){var xe=we[M];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Xl=!!Wd,Xd=Wd=null}finally{Ct=f,ne.p=l,P.T=i}}e.current=n,gn=2}}function Kg(){if(gn===2){gn=0;var e=ya,n=zi,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=P.T,P.T=null;var l=ne.p;ne.p=2;var f=Ct;Ct|=4;try{jg(e,n.alternate,n)}finally{Ct=f,ne.p=l,P.T=i}}gn=3}}function Wg(){if(gn===4||gn===3){gn=0,$t();var e=ya,n=zi,i=Bi,l=Lg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gn=5:(gn=0,zi=ya=null,Xg(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(va=null),ve(i),n=n.stateNode,A&&typeof A.onCommitFiberRoot=="function")try{A.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,f=ne.p,ne.p=2,P.T=null;try{for(var v=e.onRecoverableError,j=0;j<l.length;j++){var M=l[j];v(M.value,{componentStack:M.stack})}}finally{P.T=n,ne.p=f}}(Bi&3)!==0&&Bl(),_r(e),f=e.pendingLanes,(i&4194090)!==0&&(f&42)!==0?e===Ud?Js++:(Js=0,Ud=e):Js=0,eo(0)}}function Xg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ds(n)))}function Bl(e){return Yg(),Kg(),Wg(),Qg()}function Qg(){if(gn!==5)return!1;var e=ya,n=Dd;Dd=0;var i=ve(Bi),l=P.T,f=ne.p;try{ne.p=32>i?32:i,P.T=null,i=kd,kd=null;var v=ya,j=Bi;if(gn=0,zi=ya=null,Bi=0,(Ct&6)!==0)throw Error(s(331));var M=Ct;if(Ct|=4,kg(v.current),Mg(v,v.current,j,i),Ct=M,eo(0,!1),A&&typeof A.onPostCommitFiberRoot=="function")try{A.onPostCommitFiberRoot(lt,v)}catch{}return!0}finally{ne.p=f,P.T=l,Xg(e,n)}}function Zg(e,n,i){n=Jn(i,n),n=hd(e.stateNode,n,2),e=la(e,n,2),e!==null&&(Gt(e,2),_r(e))}function Pt(e,n,i){if(e.tag===3)Zg(e,e,i);else for(;n!==null;){if(n.tag===3){Zg(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(va===null||!va.has(l))){e=Jn(i,e),i=ng(2),l=la(n,i,2),l!==null&&(rg(i,l,n,e),Gt(l,2),_r(l));break}}n=n.return}}function Pd(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new d_;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(i)||(Rd=!0,f.add(i),e=g_.bind(null,e,n,i),n.then(e,e))}function g_(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,It===e&&(wt&i)===i&&(Wt===4||Wt===3&&(wt&62914560)===wt&&300>dt()-Od?(Ct&2)===0&&Pi(e,0):Cd|=i,Li===wt&&(Li=0)),_r(e)}function Jg(e,n){n===0&&(n=zt()),e=wi(e,n),e!==null&&(Gt(e,n),_r(e))}function v_(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Jg(e,i)}function y_(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Jg(e,i)}function b_(e,n){return Qe(e,n)}var Pl=null,Ii=null,$d=!1,$l=!1,Id=!1,Qa=0;function _r(e){e!==Ii&&e.next===null&&(Ii===null?Pl=Ii=e:Ii=Ii.next=e),$l=!0,$d||($d=!0,w_())}function eo(e,n){if(!Id&&$l){Id=!0;do for(var i=!1,l=Pl;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var v=0;else{var j=l.suspendedLanes,M=l.pingedLanes;v=(1<<31-x(42|e)+1)-1,v&=f&~(j&~M),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(i=!0,rv(l,v))}else v=wt,v=ct(l,l===It?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||ft(l,v)||(i=!0,rv(l,v));l=l.next}while(i);Id=!1}}function x_(){ev()}function ev(){$l=$d=!1;var e=0;Qa!==0&&(R_()&&(e=Qa),Qa=0);for(var n=dt(),i=null,l=Pl;l!==null;){var f=l.next,v=tv(l,n);v===0?(l.next=null,i===null?Pl=f:i.next=f,f===null&&(Ii=i)):(i=l,(e!==0||(v&3)!==0)&&($l=!0)),l=f}eo(e)}function tv(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var j=31-x(v),M=1<<j,I=f[j];I===-1?((M&i)===0||(M&l)!==0)&&(f[j]=$e(M,n)):I<=n&&(e.expiredLanes|=M),v&=~M}if(n=It,i=wt,i=ct(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ke(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ft(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Ke(l),ve(i)){case 2:case 8:i=Te;break;case 32:i=Fe;break;case 268435456:i=He;break;default:i=Fe}return l=nv.bind(null,e),i=Qe(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Ke(l),e.callbackPriority=2,e.callbackNode=null,2}function nv(e,n){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Bl()&&e.callbackNode!==i)return null;var l=wt;return l=ct(e,e===It?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Bg(e,l,n),tv(e,dt()),e.callbackNode!=null&&e.callbackNode===i?nv.bind(null,e):null)}function rv(e,n){if(Bl())return null;Bg(e,n,!0)}function w_(){M_(function(){(Ct&6)!==0?Qe(Nt,x_):ev()})}function Hd(){return Qa===0&&(Qa=ht()),Qa}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qo(""+e)}function iv(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function __(e,n,i,l,f){if(n==="submit"&&i&&i.stateNode===f){var v=av((f[re]||null).action),j=l.submitter;j&&(n=(n=j[re]||null)?av(n.formAction):j.getAttribute("formAction"),n!==null&&(v=n,j=null));var M=new tl("action","action",null,l,f);e.push({event:M,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var I=j?iv(f,j):new FormData(f);ld(i,{pending:!0,data:I,method:f.method,action:v},null,I)}}else typeof v=="function"&&(M.preventDefault(),I=j?iv(f,j):new FormData(f),ld(i,{pending:!0,data:I,method:f.method,action:v},v,I))},currentTarget:f}]})}}for(var qd=0;qd<Tu.length;qd++){var Fd=Tu[qd],S_=Fd.toLowerCase(),E_=Fd[0].toUpperCase()+Fd.slice(1);dr(S_,"on"+E_)}dr(Bm,"onAnimationEnd"),dr(Pm,"onAnimationIteration"),dr($m,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(Iw,"onTransitionRun"),dr(Hw,"onTransitionStart"),dr(qw,"onTransitionCancel"),dr(Im,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function sv(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],f=l.event;l=l.listeners;e:{var v=void 0;if(n)for(var j=l.length-1;0<=j;j--){var M=l[j],I=M.instance,ee=M.currentTarget;if(M=M.listener,I!==v&&f.isPropagationStopped())break e;v=M,f.currentTarget=ee;try{v(f)}catch(me){Tl(me)}f.currentTarget=null,v=I}else for(j=0;j<l.length;j++){if(M=l[j],I=M.instance,ee=M.currentTarget,M=M.listener,I!==v&&f.isPropagationStopped())break e;v=M,f.currentTarget=ee;try{v(f)}catch(me){Tl(me)}f.currentTarget=null,v=I}}}}function yt(e,n){var i=n[Ue];i===void 0&&(i=n[Ue]=new Set);var l=e+"__bubble";i.has(l)||(ov(n,e,2,!1),i.add(l))}function Gd(e,n,i){var l=0;n&&(l|=4),ov(i,e,l,n)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Il]){e[Il]=!0,Et.forEach(function(i){i!=="selectionchange"&&(j_.has(i)||Gd(i,!1,e),Gd(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Il]||(n[Il]=!0,Gd("selectionchange",!1,n))}}function ov(e,n,i,l){switch(Mv(n)){case 2:var f=Z_;break;case 8:f=J_;break;default:f=of}i=f.bind(null,n,i,e),f=void 0,!mu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function Yd(e,n,i,l,f){var v=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var M=l.stateNode.containerInfo;if(M===f)break;if(j===4)for(j=l.return;j!==null;){var I=j.tag;if((I===3||I===4)&&j.stateNode.containerInfo===f)return;j=j.return}for(;M!==null;){if(j=Ee(M),j===null)return;if(I=j.tag,I===5||I===6||I===26||I===27){l=v=j;continue e}M=M.parentNode}}l=l.return}mm(function(){var ee=v,me=fu(i),we=[];e:{var te=Hm.get(e);if(te!==void 0){var ie=tl,tt=e;switch(e){case"keypress":if(Jo(i)===0)break e;case"keydown":case"keyup":ie=bw;break;case"focusin":tt="focus",ie=yu;break;case"focusout":tt="blur",ie=yu;break;case"beforeblur":case"afterblur":ie=yu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_w;break;case Bm:case Pm:case $m:ie=uw;break;case Im:ie=Ew;break;case"scroll":case"scrollend":ie=iw;break;case"wheel":ie=Nw;break;case"copy":case"cut":case"paste":ie=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=bm;break;case"toggle":case"beforetoggle":ie=Aw}var Ze=(n&4)!==0,Ut=!Ze&&(e==="scroll"||e==="scrollend"),K=Ze?te!==null?te+"Capture":null:te;Ze=[];for(var F=ee,J;F!==null;){var xe=F;if(J=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||J===null||K===null||(xe=xs(F,K),xe!=null&&Ze.push(no(F,xe,J))),Ut)break;F=F.return}0<Ze.length&&(te=new ie(te,tt,null,i,me),we.push({event:te,listeners:Ze}))}}if((n&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",te&&i!==du&&(tt=i.relatedTarget||i.fromElement)&&(Ee(tt)||tt[_e]))break e;if((ie||te)&&(te=me.window===me?me:(te=me.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(tt=i.relatedTarget||i.toElement,ie=ee,tt=tt?Ee(tt):null,tt!==null&&(Ut=c(tt),Ze=tt.tag,tt!==Ut||Ze!==5&&Ze!==27&&Ze!==6)&&(tt=null)):(ie=null,tt=ee),ie!==tt)){if(Ze=vm,xe="onMouseLeave",K="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Ze=bm,xe="onPointerLeave",K="onPointerEnter",F="pointer"),Ut=ie==null?te:Ye(ie),J=tt==null?te:Ye(tt),te=new Ze(xe,F+"leave",ie,i,me),te.target=Ut,te.relatedTarget=J,xe=null,Ee(me)===ee&&(Ze=new Ze(K,F+"enter",tt,i,me),Ze.target=J,Ze.relatedTarget=Ut,xe=Ze),Ut=xe,ie&&tt)t:{for(Ze=ie,K=tt,F=0,J=Ze;J;J=Hi(J))F++;for(J=0,xe=K;xe;xe=Hi(xe))J++;for(;0<F-J;)Ze=Hi(Ze),F--;for(;0<J-F;)K=Hi(K),J--;for(;F--;){if(Ze===K||K!==null&&Ze===K.alternate)break t;Ze=Hi(Ze),K=Hi(K)}Ze=null}else Ze=null;ie!==null&&lv(we,te,ie,Ze,!1),tt!==null&&Ut!==null&&lv(we,Ut,tt,Ze,!0)}}e:{if(te=ee?Ye(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Pe=Tm;else if(jm(te))if(Am)Pe=Bw;else{Pe=Lw;var mt=Uw}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&uu(ee.elementType)&&(Pe=Tm):Pe=zw;if(Pe&&(Pe=Pe(e,ee))){Nm(we,Pe,i,me);break e}mt&&mt(e,te,ee),e==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&cu(te,"number",te.value)}switch(mt=ee?Ye(ee):window,e){case"focusin":(jm(mt)||mt.contentEditable==="true")&&(yi=mt,Eu=ee,As=null);break;case"focusout":As=Eu=yi=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Lm(we,i,me);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Lm(we,i,me)}var Ge;if(xu)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else vi?Sm(e,i)&&(Je="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Je="onCompositionStart");Je&&(xm&&i.locale!=="ko"&&(vi||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&vi&&(Ge=pm()):(aa=me,pu="value"in aa?aa.value:aa.textContent,vi=!0)),mt=Hl(ee,Je),0<mt.length&&(Je=new ym(Je,e,null,i,me),we.push({event:Je,listeners:mt}),Ge?Je.data=Ge:(Ge=Em(i),Ge!==null&&(Je.data=Ge)))),(Ge=Cw?Mw(e,i):Ow(e,i))&&(Je=Hl(ee,"onBeforeInput"),0<Je.length&&(mt=new ym("onBeforeInput","beforeinput",null,i,me),we.push({event:mt,listeners:Je}),mt.data=Ge)),__(we,e,ee,i,me)}sv(we,n)})}function no(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Hl(e,n){for(var i=n+"Capture",l=[];e!==null;){var f=e,v=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||v===null||(f=xs(e,i),f!=null&&l.unshift(no(e,f,v)),f=xs(e,n),f!=null&&l.push(no(e,f,v))),e.tag===3)return l;e=e.return}return[]}function Hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lv(e,n,i,l,f){for(var v=n._reactName,j=[];i!==null&&i!==l;){var M=i,I=M.alternate,ee=M.stateNode;if(M=M.tag,I!==null&&I===l)break;M!==5&&M!==26&&M!==27||ee===null||(I=ee,f?(ee=xs(i,v),ee!=null&&j.unshift(no(i,ee,I))):f||(ee=xs(i,v),ee!=null&&j.push(no(i,ee,I)))),i=i.return}j.length!==0&&e.push({event:n,listeners:j})}var N_=/\r\n?/g,T_=/\u0000|\uFFFD/g;function cv(e){return(typeof e=="string"?e:""+e).replace(N_,`
`).replace(T_,"")}function uv(e,n){return n=cv(n),cv(e)===n}function ql(){}function kt(e,n,i,l,f,v){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mi(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mi(e,""+l);break;case"className":ur(e,"class",l);break;case"tabIndex":ur(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(e,i,l);break;case"style":fm(e,l,v);break;case"data":if(n!=="object"){ur(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Qo(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(i==="formAction"?(n!=="input"&&kt(e,n,"name",f.name,f,null),kt(e,n,"formEncType",f.formEncType,f,null),kt(e,n,"formMethod",f.formMethod,f,null),kt(e,n,"formTarget",f.formTarget,f,null)):(kt(e,n,"encType",f.encType,f,null),kt(e,n,"method",f.method,f,null),kt(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Qo(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=ql);break;case"onScroll":l!=null&&yt("scroll",e);break;case"onScrollEnd":l!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Qo(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":yt("beforetoggle",e),yt("toggle",e),An(e,"popover",l);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":An(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=rw.get(i)||i,An(e,i,l))}}function Kd(e,n,i,l,f,v){switch(i){case"style":fm(e,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?mi(e,l):(typeof l=="number"||typeof l=="bigint")&&mi(e,""+l);break;case"onScroll":l!=null&&yt("scroll",e);break;case"onScrollEnd":l!=null&&yt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!At.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),v=e[re]||null,v=v!=null?v[i]:null,typeof v=="function"&&e.removeEventListener(n,v,f),typeof l=="function")){typeof v!="function"&&v!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,f);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):An(e,i,l)}}}function vn(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var l=!1,f=!1,v;for(v in i)if(i.hasOwnProperty(v)){var j=i[v];if(j!=null)switch(v){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:kt(e,n,v,j,i,null)}}f&&kt(e,n,"srcSet",i.srcSet,i,null),l&&kt(e,n,"src",i.src,i,null);return;case"input":yt("invalid",e);var M=v=j=f=null,I=null,ee=null;for(l in i)if(i.hasOwnProperty(l)){var me=i[l];if(me!=null)switch(l){case"name":f=me;break;case"type":j=me;break;case"checked":I=me;break;case"defaultChecked":ee=me;break;case"value":v=me;break;case"defaultValue":M=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,n));break;default:kt(e,n,l,me,i,null)}}lm(e,v,M,I,ee,j,f,!1),Wo(e);return;case"select":yt("invalid",e),l=j=v=null;for(f in i)if(i.hasOwnProperty(f)&&(M=i[f],M!=null))switch(f){case"value":v=M;break;case"defaultValue":j=M;break;case"multiple":l=M;default:kt(e,n,f,M,i,null)}n=v,i=j,e.multiple=!!l,n!=null?hi(e,!!l,n,!1):i!=null&&hi(e,!!l,i,!0);return;case"textarea":yt("invalid",e),v=f=l=null;for(j in i)if(i.hasOwnProperty(j)&&(M=i[j],M!=null))switch(j){case"value":l=M;break;case"defaultValue":f=M;break;case"children":v=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(91));break;default:kt(e,n,j,M,i,null)}um(e,l,f,v),Wo(e);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(l=i[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:kt(e,n,I,l,i,null)}return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(l=0;l<to.length;l++)yt(to[l],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in i)if(i.hasOwnProperty(ee)&&(l=i[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:kt(e,n,ee,l,i,null)}return;default:if(uu(n)){for(me in i)i.hasOwnProperty(me)&&(l=i[me],l!==void 0&&Kd(e,n,me,l,i,void 0));return}}for(M in i)i.hasOwnProperty(M)&&(l=i[M],l!=null&&kt(e,n,M,l,i,null))}function A_(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,v=null,j=null,M=null,I=null,ee=null,me=null;for(ie in i){var we=i[ie];if(i.hasOwnProperty(ie)&&we!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":I=we;default:l.hasOwnProperty(ie)||kt(e,n,ie,null,l,we)}}for(var te in l){var ie=l[te];if(we=i[te],l.hasOwnProperty(te)&&(ie!=null||we!=null))switch(te){case"type":v=ie;break;case"name":f=ie;break;case"checked":ee=ie;break;case"defaultChecked":me=ie;break;case"value":j=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,n));break;default:ie!==we&&kt(e,n,te,ie,l,we)}}lu(e,j,M,I,ee,me,v,f);return;case"select":ie=j=M=te=null;for(v in i)if(I=i[v],i.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":ie=I;default:l.hasOwnProperty(v)||kt(e,n,v,null,l,I)}for(f in l)if(v=l[f],I=i[f],l.hasOwnProperty(f)&&(v!=null||I!=null))switch(f){case"value":te=v;break;case"defaultValue":M=v;break;case"multiple":j=v;default:v!==I&&kt(e,n,f,v,l,I)}n=M,i=j,l=ie,te!=null?hi(e,!!i,te,!1):!!l!=!!i&&(n!=null?hi(e,!!i,n,!0):hi(e,!!i,i?[]:"",!1));return;case"textarea":ie=te=null;for(M in i)if(f=i[M],i.hasOwnProperty(M)&&f!=null&&!l.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:kt(e,n,M,null,l,f)}for(j in l)if(f=l[j],v=i[j],l.hasOwnProperty(j)&&(f!=null||v!=null))switch(j){case"value":te=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==v&&kt(e,n,j,f,l,v)}cm(e,te,ie);return;case"option":for(var tt in i)if(te=i[tt],i.hasOwnProperty(tt)&&te!=null&&!l.hasOwnProperty(tt))switch(tt){case"selected":e.selected=!1;break;default:kt(e,n,tt,null,l,te)}for(I in l)if(te=l[I],ie=i[I],l.hasOwnProperty(I)&&te!==ie&&(te!=null||ie!=null))switch(I){case"selected":e.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(e,n,I,te,l,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in i)te=i[Ze],i.hasOwnProperty(Ze)&&te!=null&&!l.hasOwnProperty(Ze)&&kt(e,n,Ze,null,l,te);for(ee in l)if(te=l[ee],ie=i[ee],l.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:kt(e,n,ee,te,l,ie)}return;default:if(uu(n)){for(var Ut in i)te=i[Ut],i.hasOwnProperty(Ut)&&te!==void 0&&!l.hasOwnProperty(Ut)&&Kd(e,n,Ut,void 0,l,te);for(me in l)te=l[me],ie=i[me],!l.hasOwnProperty(me)||te===ie||te===void 0&&ie===void 0||Kd(e,n,me,te,l,ie);return}}for(var K in i)te=i[K],i.hasOwnProperty(K)&&te!=null&&!l.hasOwnProperty(K)&&kt(e,n,K,null,l,te);for(we in l)te=l[we],ie=i[we],!l.hasOwnProperty(we)||te===ie||te==null&&ie==null||kt(e,n,we,te,l,ie)}var Wd=null,Xd=null;function Fl(e){return e.nodeType===9?e:e.ownerDocument}function dv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zd=null;function R_(){var e=window.event;return e&&e.type==="popstate"?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,C_=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(O_)}:hv;function O_(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function pv(e,n){var i=n,l=0,f=0;do{var v=i.nextSibling;if(e.removeChild(i),v&&v.nodeType===8)if(i=v.data,i==="/$"){if(0<l&&8>l){i=l;var j=e.ownerDocument;if(i&1&&ro(j.documentElement),i&2&&ro(j.body),i&4)for(i=j.head,ro(i),j=i.firstChild;j;){var M=j.nextSibling,I=j.nodeName;j[ze]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&j.rel.toLowerCase()==="stylesheet"||i.removeChild(j),j=M}}if(f===0){e.removeChild(v),fo(n);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:l=i.charCodeAt(0)-48;else l=0;i=v}while(i);fo(n)}function Jd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Jd(i),ke(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function D_(e,n,i,l){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ze])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=hr(e.nextSibling),e===null)break}return null}function k_(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=hr(e.nextSibling),e===null))return null;return e}function ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function U_(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function hr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var tf=null;function gv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function vv(e,n,i){switch(n=Fl(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ke(e)}var ir=new Map,yv=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wr=ne.d;ne.d={f:L_,r:z_,D:B_,C:P_,L:$_,m:I_,X:q_,S:H_,M:F_};function L_(){var e=Wr.f(),n=Ll();return e||n}function z_(e){var n=Be(e);n!==null&&n.tag===5&&n.type==="form"?Bp(n):Wr.r(e)}var qi=typeof document>"u"?null:document;function bv(e,n,i){var l=qi;if(l&&typeof n=="string"&&n){var f=Zn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),yv.has(f)||(yv.add(f),e={rel:e,crossOrigin:i,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),vn(n,"link",e),et(n),l.head.appendChild(n)))}}function B_(e){Wr.D(e),bv("dns-prefetch",e,null)}function P_(e,n){Wr.C(e,n),bv("preconnect",e,n)}function $_(e,n,i){Wr.L(e,n,i);var l=qi;if(l&&e&&n){var f='link[rel="preload"][as="'+Zn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Zn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Zn(i.imageSizes)+'"]')):f+='[href="'+Zn(e)+'"]';var v=f;switch(n){case"style":v=Fi(e);break;case"script":v=Gi(e)}ir.has(v)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ir.set(v,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(ao(v))||n==="script"&&l.querySelector(io(v))||(n=l.createElement("link"),vn(n,"link",e),et(n),l.head.appendChild(n)))}}function I_(e,n){Wr.m(e,n);var i=qi;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Zn(l)+'"][href="'+Zn(e)+'"]',v=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Gi(e)}if(!ir.has(v)&&(e=y({rel:"modulepreload",href:e},n),ir.set(v,e),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(io(v)))return}l=i.createElement("link"),vn(l,"link",e),et(l),i.head.appendChild(l)}}}function H_(e,n,i){Wr.S(e,n,i);var l=qi;if(l&&e){var f=it(l).hoistableStyles,v=Fi(e);n=n||"default";var j=f.get(v);if(!j){var M={loading:0,preload:null};if(j=l.querySelector(ao(v)))M.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ir.get(v))&&nf(e,i);var I=j=l.createElement("link");et(I),vn(I,"link",e),I._p=new Promise(function(ee,me){I.onload=ee,I.onerror=me}),I.addEventListener("load",function(){M.loading|=1}),I.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Vl(j,n,l)}j={type:"stylesheet",instance:j,count:1,state:M},f.set(v,j)}}}function q_(e,n){Wr.X(e,n);var i=qi;if(i&&e){var l=it(i).hoistableScripts,f=Gi(e),v=l.get(f);v||(v=i.querySelector(io(f)),v||(e=y({src:e,async:!0},n),(n=ir.get(f))&&rf(e,n),v=i.createElement("script"),et(v),vn(v,"link",e),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function F_(e,n){Wr.M(e,n);var i=qi;if(i&&e){var l=it(i).hoistableScripts,f=Gi(e),v=l.get(f);v||(v=i.querySelector(io(f)),v||(e=y({src:e,async:!0,type:"module"},n),(n=ir.get(f))&&rf(e,n),v=i.createElement("script"),et(v),vn(v,"link",e),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function xv(e,n,i,l){var f=(f=Z.current)?Gl(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Fi(i.href),i=it(f).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Fi(i.href);var v=it(f).hoistableStyles,j=v.get(e);if(j||(f=f.ownerDocument||f,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,j),(v=f.querySelector(ao(e)))&&!v._p&&(j.instance=v,j.state.loading=5),ir.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ir.set(e,i),v||G_(f,e,i,j.state))),n&&l===null)throw Error(s(528,""));return j}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gi(i),i=it(f).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fi(e){return'href="'+Zn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function wv(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function G_(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),vn(n,"link",i),et(n),e.head.appendChild(n))}function Gi(e){return'[src="'+Zn(e)+'"]'}function io(e){return"script[async]"+e}function _v(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Zn(i.href)+'"]');if(l)return n.instance=l,et(l),l;var f=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),vn(l,"style",f),Vl(l,i.precedence,e),n.instance=l;case"stylesheet":f=Fi(i.href);var v=e.querySelector(ao(f));if(v)return n.state.loading|=4,n.instance=v,et(v),v;l=wv(i),(f=ir.get(f))&&nf(l,f),v=(e.ownerDocument||e).createElement("link"),et(v);var j=v;return j._p=new Promise(function(M,I){j.onload=M,j.onerror=I}),vn(v,"link",l),n.state.loading|=4,Vl(v,i.precedence,e),n.instance=v;case"script":return v=Gi(i.src),(f=e.querySelector(io(v)))?(n.instance=f,et(f),f):(l=i,(f=ir.get(v))&&(l=y({},i),rf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),et(f),vn(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vl(l,i.precedence,e));return n.instance}function Vl(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,v=f,j=0;j<l.length;j++){var M=l[j];if(M.dataset.precedence===n)v=M;else if(v!==f)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Yl=null;function Sv(e,n,i){if(Yl===null){var l=new Map,f=Yl=new Map;f.set(i,l)}else f=Yl,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var v=i[f];if(!(v[ze]||v[V]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var j=v.getAttribute(n)||"";j=e+j;var M=l.get(j);M?M.push(v):l.set(j,[v])}}return l}function Ev(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function V_(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var so=null;function Y_(){}function K_(e,n,i){if(so===null)throw Error(s(475));var l=so;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Fi(i.href),v=e.querySelector(ao(f));if(v){e=v._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Kl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=v,et(v);return}v=e.ownerDocument||e,i=wv(i),(f=ir.get(f))&&nf(i,f),v=v.createElement("link"),et(v);var j=v;j._p=new Promise(function(M,I){j.onload=M,j.onerror=I}),vn(v,"link",i),n.instance=v}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Kl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function W_(){if(so===null)throw Error(s(475));var e=so;return e.stylesheets&&e.count===0&&af(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&af(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Kl(){if(this.count--,this.count===0){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wl=null;function af(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wl=new Map,n.forEach(X_,e),Wl=null,Kl.call(e))}function X_(e,n){if(!(n.state.loading&4)){var i=Wl.get(e);if(i)var l=i.get(null);else{i=new Map,Wl.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<f.length;v++){var j=f[v];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(i.set(j.dataset.precedence,j),l=j)}l&&i.set(null,l)}f=n.instance,j=f.getAttribute("data-precedence"),v=i.get(j)||l,v===l&&i.set(null,f),i.set(j,f),this.count++,l=Kl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),v?v.parentNode.insertBefore(f,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:L,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Q_(e,n,i,l,f,v,j,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=v,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Nv(e,n,i,l,f,v,j,M,I,ee,me,we){return e=new Q_(e,n,i,j,M,I,ee,we),n=1,v===!0&&(n|=24),v=Hn(3,null,null,n),e.current=v,v.stateNode=e,n=Pu(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:l,isDehydrated:i,cache:n},qu(v),e}function Tv(e){return e?(e=_i,e):_i}function Av(e,n,i,l,f,v){f=Tv(f),l.context===null?l.context=f:l.pendingContext=f,l=oa(n),l.payload={element:i},v=v===void 0?null:v,v!==null&&(l.callback=v),i=la(e,l,n),i!==null&&(Yn(i,e,n),zs(i,e,n))}function Rv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function sf(e,n){Rv(e,n),(e=e.alternate)&&Rv(e,n)}function Cv(e){if(e.tag===13){var n=wi(e,67108864);n!==null&&Yn(n,e,67108864),sf(e,67108864)}}var Xl=!0;function Z_(e,n,i,l){var f=P.T;P.T=null;var v=ne.p;try{ne.p=2,of(e,n,i,l)}finally{ne.p=v,P.T=f}}function J_(e,n,i,l){var f=P.T;P.T=null;var v=ne.p;try{ne.p=8,of(e,n,i,l)}finally{ne.p=v,P.T=f}}function of(e,n,i,l){if(Xl){var f=lf(l);if(f===null)Yd(e,n,l,Ql,i),Ov(e,l);else if(t1(f,e,n,i,l))l.stopPropagation();else if(Ov(e,l),n&4&&-1<e1.indexOf(e)){for(;f!==null;){var v=Be(f);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var j=nt(v.pendingLanes);if(j!==0){var M=v;for(M.pendingLanes|=2,M.entangledLanes|=2;j;){var I=1<<31-x(j);M.entanglements[1]|=I,j&=~I}_r(v),(Ct&6)===0&&(kl=dt()+500,eo(0))}}break;case 13:M=wi(v,2),M!==null&&Yn(M,v,2),Ll(),sf(v,2)}if(v=lf(l),v===null&&Yd(e,n,l,Ql,i),v===f)break;f=v}f!==null&&l.stopPropagation()}else Yd(e,n,l,null,i)}}function lf(e){return e=fu(e),cf(e)}var Ql=null;function cf(e){if(Ql=null,e=Ee(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=u(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ql=e,null}function Mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case Nt:return 2;case Te:return 8;case Fe:case Oe:return 32;case He:return 268435456;default:return 32}default:return 32}}var uf=!1,wa=null,_a=null,Sa=null,lo=new Map,co=new Map,Ea=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(e,n){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function uo(e,n,i,l,f,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:v,targetContainers:[f]},n!==null&&(n=Be(n),n!==null&&Cv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function t1(e,n,i,l,f){switch(n){case"focusin":return wa=uo(wa,e,n,i,l,f),!0;case"dragenter":return _a=uo(_a,e,n,i,l,f),!0;case"mouseover":return Sa=uo(Sa,e,n,i,l,f),!0;case"pointerover":var v=f.pointerId;return lo.set(v,uo(lo.get(v)||null,e,n,i,l,f)),!0;case"gotpointercapture":return v=f.pointerId,co.set(v,uo(co.get(v)||null,e,n,i,l,f)),!0}return!1}function Dv(e){var n=Ee(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=u(i),n!==null){e.blockedOn=n,U(e.priority,function(){if(i.tag===13){var l=Vn();l=de(l);var f=wi(i,l);f!==null&&Yn(f,i,l),sf(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=lf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);du=l,i.target.dispatchEvent(l),du=null}else return n=Be(i),n!==null&&Cv(n),e.blockedOn=i,!1;n.shift()}return!0}function kv(e,n,i){Zl(e)&&i.delete(n)}function n1(){uf=!1,wa!==null&&Zl(wa)&&(wa=null),_a!==null&&Zl(_a)&&(_a=null),Sa!==null&&Zl(Sa)&&(Sa=null),lo.forEach(kv),co.forEach(kv)}function Jl(e,n){e.blockedOn===n&&(e.blockedOn=null,uf||(uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,n1)))}var ec=null;function Uv(e){ec!==e&&(ec=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(cf(l||i)===null)continue;break}var v=Be(i);v!==null&&(e.splice(n,3),n-=3,ld(v,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function fo(e){function n(I){return Jl(I,e)}wa!==null&&Jl(wa,e),_a!==null&&Jl(_a,e),Sa!==null&&Jl(Sa,e),lo.forEach(n),co.forEach(n);for(var i=0;i<Ea.length;i++){var l=Ea[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ea.length&&(i=Ea[0],i.blockedOn===null);)Dv(i),i.blockedOn===null&&Ea.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],v=i[l+1],j=f[re]||null;if(typeof v=="function")j||Uv(i);else if(j){var M=null;if(v&&v.hasAttribute("formAction")){if(f=v,j=v[re]||null)M=j.formAction;else if(cf(f)!==null)continue}else M=j.action;typeof M=="function"?i[l+1]=M:(i.splice(l,3),l-=3),Uv(i)}}}function df(e){this._internalRoot=e}tc.prototype.render=df.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Vn();Av(i,l,e,n,null,null)},tc.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Av(e.current,2,null,e,null,null),Ll(),n[_e]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Re();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ea.length&&n!==0&&n<Ea[i].priority;i++);Ea.splice(i,0,e),i===0&&Dv(e)}};var Lv=r.version;if(Lv!=="19.1.1")throw Error(s(527,Lv,"19.1.1"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var r1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{lt=nc.inject(r1),A=nc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var i=!1,l="",f=Zp,v=Jp,j=eg,M=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(M=n.unstable_transitionCallbacks)),n=Nv(e,1,!1,null,null,i,l,f,v,j,M,null),e[_e]=n.current,Vd(e),new df(n)},mo.hydrateRoot=function(e,n,i){if(!o(e))throw Error(s(299));var l=!1,f="",v=Zp,j=Jp,M=eg,I=null,ee=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(j=i.onCaughtError),i.onRecoverableError!==void 0&&(M=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks),i.formState!==void 0&&(ee=i.formState)),n=Nv(e,1,!0,n,i??null,l,f,v,j,M,I,ee),n.context=Tv(null),i=n.current,l=Vn(),l=de(l),f=oa(l),f.callback=null,la(i,f,l),i=l,n.current.lanes=i,Gt(n,i),_r(n),e[_e]=n.current,Vd(e),new tc(n)},mo.version="19.1.1",mo}var Vv;function m1(){if(Vv)return mf.exports;Vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),mf.exports=h1(),mf.exports}var Eh=m1();const p1=Bo(Eh);var Gc=Dy();const g1=Bo(Gc);function v1(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}const y1=t=>{switch(t){case"success":return w1;case"info":return S1;case"warning":return _1;case"error":return E1;default:return null}},b1=Array(12).fill(0),x1=({visible:t,className:r})=>je.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},je.createElement("div",{className:"sonner-spinner"},b1.map((a,s)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),w1=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_1=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S1=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E1=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j1=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),N1=()=>{const[t,r]=je.useState(document.hidden);return je.useEffect(()=>{const a=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t};let Xf=1;class T1{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const a=this.subscribers.indexOf(r);this.subscribers.splice(a,1)}),this.publish=r=>{this.subscribers.forEach(a=>a(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var a;const{message:s,...o}=r,c=typeof r?.id=="number"||((a=r.id)==null?void 0:a.length)>0?r.id:Xf++,u=this.toasts.find(p=>p.id===c),d=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...r,id:c,title:s}),{...p,...r,id:c,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:c}),c},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:r,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(s=>s({id:a.id,dismiss:!0}))}),r),this.message=(r,a)=>this.create({...a,message:r}),this.error=(r,a)=>this.create({...a,message:r,type:"error"}),this.success=(r,a)=>this.create({...a,type:"success",message:r}),this.info=(r,a)=>this.create({...a,type:"info",message:r}),this.warning=(r,a)=>this.create({...a,type:"warning",message:r}),this.loading=(r,a)=>this.create({...a,type:"loading",message:r}),this.promise=(r,a)=>{if(!a)return;let s;a.loading!==void 0&&(s=this.create({...a,promise:r,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const o=Promise.resolve(r instanceof Function?r():r);let c=s!==void 0,u;const d=o.then(async h=>{if(u=["resolve",h],je.isValidElement(h))c=!1,this.create({id:s,type:"default",message:h});else if(R1(h)&&!h.ok){c=!1;const g=typeof a.error=="function"?await a.error(`HTTP error! status: ${h.status}`):a.error,w=typeof a.description=="function"?await a.description(`HTTP error! status: ${h.status}`):a.description,S=typeof g=="object"&&!je.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...S})}else if(h instanceof Error){c=!1;const g=typeof a.error=="function"?await a.error(h):a.error,w=typeof a.description=="function"?await a.description(h):a.description,S=typeof g=="object"&&!je.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:w,...S})}else if(a.success!==void 0){c=!1;const g=typeof a.success=="function"?await a.success(h):a.success,w=typeof a.description=="function"?await a.description(h):a.description,S=typeof g=="object"&&!je.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:w,...S})}}).catch(async h=>{if(u=["reject",h],a.error!==void 0){c=!1;const y=typeof a.error=="function"?await a.error(h):a.error,g=typeof a.description=="function"?await a.description(h):a.description,_=typeof y=="object"&&!je.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:g,..._})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),a.finally==null||a.finally.call(a)}),p=()=>new Promise((h,y)=>d.then(()=>u[0]==="reject"?y(u[1]):h(u[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(r,a)=>{const s=a?.id||Xf++;return this.create({jsx:r(s),id:s,...a}),s},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new T1,A1=(t,r)=>{const a=r?.id||Xf++;return kn.addToast({title:t,...r,id:a}),a},R1=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",C1=A1,M1=()=>kn.toasts,O1=()=>kn.getActiveToasts(),En=Object.assign(C1,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:M1,getToasts:O1});v1("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function rc(t){return t.label!==void 0}const D1=3,k1="24px",U1="16px",Yv=4e3,L1=356,z1=14,B1=45,P1=200;function Sr(...t){return t.filter(Boolean).join(" ")}function $1(t){const[r,a]=t.split("-"),s=[];return r&&s.push(r),a&&s.push(a),s}const I1=t=>{var r,a,s,o,c,u,d,p,h;const{invert:y,toast:g,unstyled:w,interacting:_,setHeights:S,visibleToasts:T,heights:R,index:N,toasts:O,expanded:L,removeToast:G,defaultRichColors:C,closeButton:D,style:H,cancelButtonStyle:ae,actionButtonStyle:fe,className:Ne="",descriptionClassName:he="",duration:pe,position:ce,gap:Se,expandByDefault:Ce,classNames:P,icons:ne,closeButtonAriaLabel:se="Close toast"}=t,[ge,z]=je.useState(null),[X,ye]=je.useState(null),[oe,Y]=je.useState(!1),[Q,Z]=je.useState(!1),[be,le]=je.useState(!1),[Ae,qe]=je.useState(!1),[Ie,Xe]=je.useState(!1),[Qe,Ke]=je.useState(0),[St,$t]=je.useState(0),dt=je.useRef(g.duration||pe||Yv),ot=je.useRef(null),Nt=je.useRef(null),Te=N===0,Fe=N+1<=T,Oe=g.type,He=g.dismissible!==!1,gt=g.className||"",xt=g.descriptionClassName||"",lt=je.useMemo(()=>R.findIndex(We=>We.toastId===g.id)||0,[R,g.id]),A=je.useMemo(()=>{var We;return(We=g.closeButton)!=null?We:D},[g.closeButton,D]),b=je.useMemo(()=>g.duration||pe||Yv,[g.duration,pe]),x=je.useRef(0),k=je.useRef(0),q=je.useRef(0),W=je.useRef(null),[ue,Ve]=ce.split("-"),nt=je.useMemo(()=>R.reduce((We,B,de)=>de>=lt?We:We+B.height,0),[R,lt]),ct=N1(),ft=g.invert||y,$e=Oe==="loading";k.current=je.useMemo(()=>lt*Se+nt,[lt,nt]),je.useEffect(()=>{dt.current=b},[b]),je.useEffect(()=>{Y(!0)},[]),je.useEffect(()=>{const We=Nt.current;if(We){const B=We.getBoundingClientRect().height;return $t(B),S(de=>[{toastId:g.id,height:B,position:g.position},...de]),()=>S(de=>de.filter(ve=>ve.toastId!==g.id))}},[S,g.id]),je.useLayoutEffect(()=>{if(!oe)return;const We=Nt.current,B=We.style.height;We.style.height="auto";const de=We.getBoundingClientRect().height;We.style.height=B,$t(de),S(ve=>ve.find(U=>U.toastId===g.id)?ve.map(U=>U.toastId===g.id?{...U,height:de}:U):[{toastId:g.id,height:de,position:g.position},...ve])},[oe,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const ht=je.useCallback(()=>{Z(!0),Ke(k.current),S(We=>We.filter(B=>B.toastId!==g.id)),setTimeout(()=>{G(g)},P1)},[g,G,S,k]);je.useEffect(()=>{if(g.promise&&Oe==="loading"||g.duration===1/0||g.type==="loading")return;let We;return L||_||ct?(()=>{if(q.current<x.current){const ve=new Date().getTime()-x.current;dt.current=dt.current-ve}q.current=new Date().getTime()})():(()=>{dt.current!==1/0&&(x.current=new Date().getTime(),We=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ht()},dt.current))})(),()=>clearTimeout(We)},[L,_,g,Oe,ct,ht]),je.useEffect(()=>{g.delete&&(ht(),g.onDismiss==null||g.onDismiss.call(g,g))},[ht,g.delete]);function zt(){var We;if(ne?.loading){var B;return je.createElement("div",{className:Sr(P?.loader,g==null||(B=g.classNames)==null?void 0:B.loader,"sonner-loader"),"data-visible":Oe==="loading"},ne.loading)}return je.createElement(x1,{className:Sr(P?.loader,g==null||(We=g.classNames)==null?void 0:We.loader),visible:Oe==="loading"})}const Bt=g.icon||ne?.[Oe]||y1(Oe);var Gt,Nn;return je.createElement("li",{tabIndex:0,ref:Nt,className:Sr(Ne,gt,P?.toast,g==null||(r=g.classNames)==null?void 0:r.toast,P?.default,P?.[Oe],g==null||(a=g.classNames)==null?void 0:a[Oe]),"data-sonner-toast":"","data-rich-colors":(Gt=g.richColors)!=null?Gt:C,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":oe,"data-promise":!!g.promise,"data-swiped":Ie,"data-removed":Q,"data-visible":Fe,"data-y-position":ue,"data-x-position":Ve,"data-index":N,"data-front":Te,"data-swiping":be,"data-dismissible":He,"data-type":Oe,"data-invert":ft,"data-swipe-out":Ae,"data-swipe-direction":X,"data-expanded":!!(L||Ce&&oe),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":O.length-N,"--offset":`${Q?Qe:k.current}px`,"--initial-height":Ce?"auto":`${St}px`,...H,...g.style},onDragEnd:()=>{le(!1),z(null),W.current=null},onPointerDown:We=>{We.button!==2&&($e||!He||(ot.current=new Date,Ke(k.current),We.target.setPointerCapture(We.pointerId),We.target.tagName!=="BUTTON"&&(le(!0),W.current={x:We.clientX,y:We.clientY})))},onPointerUp:()=>{var We,B,de;if(Ae||!He)return;W.current=null;const ve=Number(((We=Nt.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Re=Number(((B=Nt.current)==null?void 0:B.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),U=new Date().getTime()-((de=ot.current)==null?void 0:de.getTime()),$=ge==="x"?ve:Re,V=Math.abs($)/U;if(Math.abs($)>=B1||V>.11){Ke(k.current),g.onDismiss==null||g.onDismiss.call(g,g),ye(ge==="x"?ve>0?"right":"left":Re>0?"down":"up"),ht(),qe(!0);return}else{var re,_e;(re=Nt.current)==null||re.style.setProperty("--swipe-amount-x","0px"),(_e=Nt.current)==null||_e.style.setProperty("--swipe-amount-y","0px")}Xe(!1),le(!1),z(null)},onPointerMove:We=>{var B,de,ve;if(!W.current||!He||((B=window.getSelection())==null?void 0:B.toString().length)>0)return;const U=We.clientY-W.current.y,$=We.clientX-W.current.x;var V;const re=(V=t.swipeDirections)!=null?V:$1(ce);!ge&&(Math.abs($)>1||Math.abs(U)>1)&&z(Math.abs($)>Math.abs(U)?"x":"y");let _e={x:0,y:0};const Ue=De=>1/(1.5+Math.abs(De)/20);if(ge==="y"){if(re.includes("top")||re.includes("bottom"))if(re.includes("top")&&U<0||re.includes("bottom")&&U>0)_e.y=U;else{const De=U*Ue(U);_e.y=Math.abs(De)<Math.abs(U)?De:U}}else if(ge==="x"&&(re.includes("left")||re.includes("right")))if(re.includes("left")&&$<0||re.includes("right")&&$>0)_e.x=$;else{const De=$*Ue($);_e.x=Math.abs(De)<Math.abs($)?De:$}(Math.abs(_e.x)>0||Math.abs(_e.y)>0)&&Xe(!0),(de=Nt.current)==null||de.style.setProperty("--swipe-amount-x",`${_e.x}px`),(ve=Nt.current)==null||ve.style.setProperty("--swipe-amount-y",`${_e.y}px`)}},A&&!g.jsx&&Oe!=="loading"?je.createElement("button",{"aria-label":se,"data-disabled":$e,"data-close-button":!0,onClick:$e||!He?()=>{}:()=>{ht(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Sr(P?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Nn=ne?.close)!=null?Nn:j1):null,(Oe||g.icon||g.promise)&&g.icon!==null&&(ne?.[Oe]!==null||g.icon)?je.createElement("div",{"data-icon":"",className:Sr(P?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||zt():null,g.type!=="loading"?Bt:null):null,je.createElement("div",{"data-content":"",className:Sr(P?.content,g==null||(c=g.classNames)==null?void 0:c.content)},je.createElement("div",{"data-title":"",className:Sr(P?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?je.createElement("div",{"data-description":"",className:Sr(he,xt,P?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),je.isValidElement(g.cancel)?g.cancel:g.cancel&&rc(g.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||ae,onClick:We=>{rc(g.cancel)&&He&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,We),ht())},className:Sr(P?.cancelButton,g==null||(p=g.classNames)==null?void 0:p.cancelButton)},g.cancel.label):null,je.isValidElement(g.action)?g.action:g.action&&rc(g.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||fe,onClick:We=>{rc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,We),!We.defaultPrevented&&ht())},className:Sr(P?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function Kv(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function H1(t,r){const a={};return[t,r].forEach((s,o)=>{const c=o===1,u=c?"--mobile-offset":"--offset",d=c?U1:k1;function p(h){["top","right","bottom","left"].forEach(y=>{a[`${u}-${y}`]=typeof h=="number"?`${h}px`:h})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(h=>{s[h]===void 0?a[`${u}-${h}`]=d:a[`${u}-${h}`]=typeof s[h]=="number"?`${s[h]}px`:s[h]}):p(d)}),a}const q1=je.forwardRef(function(r,a){const{id:s,invert:o,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:p,className:h,offset:y,mobileOffset:g,theme:w="light",richColors:_,duration:S,style:T,visibleToasts:R=D1,toastOptions:N,dir:O=Kv(),gap:L=z1,icons:G,containerAriaLabel:C="Notifications"}=r,[D,H]=je.useState([]),ae=je.useMemo(()=>s?D.filter(oe=>oe.toasterId===s):D.filter(oe=>!oe.toasterId),[D,s]),fe=je.useMemo(()=>Array.from(new Set([c].concat(ae.filter(oe=>oe.position).map(oe=>oe.position)))),[ae,c]),[Ne,he]=je.useState([]),[pe,ce]=je.useState(!1),[Se,Ce]=je.useState(!1),[P,ne]=je.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=je.useRef(null),ge=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=je.useRef(null),X=je.useRef(!1),ye=je.useCallback(oe=>{H(Y=>{var Q;return(Q=Y.find(Z=>Z.id===oe.id))!=null&&Q.delete||kn.dismiss(oe.id),Y.filter(({id:Z})=>Z!==oe.id)})},[]);return je.useEffect(()=>kn.subscribe(oe=>{if(oe.dismiss){requestAnimationFrame(()=>{H(Y=>Y.map(Q=>Q.id===oe.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{g1.flushSync(()=>{H(Y=>{const Q=Y.findIndex(Z=>Z.id===oe.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...oe},...Y.slice(Q+1)]:[oe,...Y]})})})}),[D]),je.useEffect(()=>{if(w!=="system"){ne(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:Y})=>{ne(Y?"dark":"light")})}catch{oe.addListener(({matches:Q})=>{try{ne(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[w]),je.useEffect(()=>{D.length<=1&&ce(!1)},[D]),je.useEffect(()=>{const oe=Y=>{var Q;if(u.every(le=>Y[le]||Y.code===le)){var be;ce(!0),(be=se.current)==null||be.focus()}Y.code==="Escape"&&(document.activeElement===se.current||(Q=se.current)!=null&&Q.contains(document.activeElement))&&ce(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[u]),je.useEffect(()=>{if(se.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,X.current=!1)}},[se.current]),je.createElement("section",{ref:a,"aria-label":`${C} ${ge}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},fe.map((oe,Y)=>{var Q;const[Z,be]=oe.split("-");return ae.length?je.createElement("ol",{key:oe,dir:O==="auto"?Kv():O,tabIndex:-1,ref:se,className:h,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":Z,"data-x-position":be,style:{"--front-toast-height":`${((Q=Ne[0])==null?void 0:Q.height)||0}px`,"--width":`${L1}px`,"--gap":`${L}px`,...T,...H1(y,g)},onBlur:le=>{X.current&&!le.currentTarget.contains(le.relatedTarget)&&(X.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||X.current||(X.current=!0,z.current=le.relatedTarget)},onMouseEnter:()=>ce(!0),onMouseMove:()=>ce(!0),onMouseLeave:()=>{Se||ce(!1)},onDragEnd:()=>ce(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},ae.filter(le=>!le.position&&Y===0||le.position===oe).map((le,Ae)=>{var qe,Ie;return je.createElement(I1,{key:le.id,icons:G,index:Ae,toast:le,defaultRichColors:_,duration:(qe=N?.duration)!=null?qe:S,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:o,visibleToasts:R,closeButton:(Ie=N?.closeButton)!=null?Ie:p,interacting:Se,position:oe,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:ye,toasts:ae.filter(Xe=>Xe.position==le.position),heights:Ne.filter(Xe=>Xe.position==le.position),setHeights:he,expandByDefault:d,gap:L,expanded:pe,swipeDirections:r.swipeDirections})})):null}))});/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ky=t=>{throw TypeError(t)},F1=(t,r,a)=>r.has(t)||ky("Cannot "+a),yf=(t,r,a)=>(F1(t,r,"read from private field"),a?a.call(t):r.get(t)),G1=(t,r,a)=>r.has(t)?ky("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,a),Wv="popstate";function V1(t={}){function r(o,c){let{pathname:u="/",search:d="",hash:p=""}=na(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ro("",{pathname:u,search:d,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){let u=o.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let p=o.location.href,h=p.indexOf("#");d=h===-1?p:p.slice(0,h)}return d+"#"+(typeof c=="string"?c:Oa(c))}function s(o,c){Zt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return K1(r,a,s,t)}function bt(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Zt(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function Xv(t,r){return{usr:t.state,key:t.key,idx:r}}function Ro(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?na(r):r,state:a,key:r&&r.key||s||Y1()}}function Oa({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function na(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function K1(t,r,a,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,d="POP",p=null,h=y();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function y(){return(u.state||{idx:null}).idx}function g(){d="POP";let R=y(),N=R==null?null:R-h;h=R,p&&p({action:d,location:T.location,delta:N})}function w(R,N){d="PUSH";let O=Ro(T.location,R,N);a&&a(O,R),h=y()+1;let L=Xv(O,h),G=T.createHref(O);try{u.pushState(L,"",G)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;o.location.assign(G)}c&&p&&p({action:d,location:T.location,delta:1})}function _(R,N){d="REPLACE";let O=Ro(T.location,R,N);a&&a(O,R),h=y();let L=Xv(O,h),G=T.createHref(O);u.replaceState(L,"",G),c&&p&&p({action:d,location:T.location,delta:0})}function S(R){return Uy(R)}let T={get action(){return d},get location(){return t(o,u)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,g),p=R,()=>{o.removeEventListener(Wv,g),p=null}},createHref(R){return r(o,R)},createURL:S,encodeLocation(R){let N=S(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:_,go(R){return u.go(R)}};return T}function Uy(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),bt(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Oa(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}var _o,Qv=class{constructor(t){if(G1(this,_o,new Map),t)for(let[r,a]of t)this.set(r,a)}get(t){if(yf(this,_o).has(t))return yf(this,_o).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,r){yf(this,_o).set(t,r)}};_o=new WeakMap;var W1=new Set(["lazy","caseSensitive","path","id","index","children"]);function X1(t){return W1.has(t)}var Q1=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Z1(t){return Q1.has(t)}function J1(t){return t.index===!0}function Co(t,r,a=[],s={},o=!1){return t.map((c,u)=>{let d=[...a,String(u)],p=typeof c.id=="string"?c.id:d.join("-");if(bt(c.index!==!0||!c.children,"Cannot specify children on an index route"),bt(o||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),J1(c)){let h={...c,...r(c),id:p};return s[p]=h,h}else{let h={...c,...r(c),id:p,children:void 0};return s[p]=h,c.children&&(h.children=Co(c.children,r,d,s,o)),h}})}function Ra(t,r,a="/"){return _c(t,r,a,!1)}function _c(t,r,a,s){let o=typeof r=="string"?na(r):r,c=cr(o.pathname||"/",a);if(c==null)return null;let u=Ly(t);tS(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let h=fS(c);d=uS(u[p],h,s)}return d}function eS(t,r){let{route:a,pathname:s,params:o}=t;return{id:a.id,pathname:s,params:o,data:r[a.id],loaderData:r[a.id],handle:a.handle}}function Ly(t,r=[],a=[],s="",o=!1){let c=(u,d,p=o,h)=>{let y={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;bt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let g=Ar([s,y.relativePath]),w=a.concat(y);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ly(u.children,r,w,g,p)),!(u.path==null&&!u.index)&&r.push({path:g,score:lS(g,u.index),routesMeta:w})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))c(u,d);else for(let p of zy(u.path))c(u,d,!0,p)}),r}function zy(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=zy(s.join("/")),d=[];return d.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&d.push(...u),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function tS(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:cS(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var nS=/^:[\w-]+$/,rS=3,aS=2,iS=1,sS=10,oS=-2,Zv=t=>t==="*";function lS(t,r){let a=t.split("/"),s=a.length;return a.some(Zv)&&(s+=oS),r&&(s+=aS),a.filter(o=>!Zv(o)).reduce((o,c)=>o+(nS.test(c)?rS:c===""?iS:sS),s)}function cS(t,r){return t.length===r.length&&t.slice(0,-1).every((s,o)=>s===r[o])?t[t.length-1]-r[r.length-1]:0}function uS(t,r,a=!1){let{routesMeta:s}=t,o={},c="/",u=[];for(let d=0;d<s.length;++d){let p=s[d],h=d===s.length-1,y=c==="/"?r:r.slice(c.length)||"/",g=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},y),w=p.route;if(!g&&h&&a&&!s[s.length-1].route.index&&(g=Mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:Ar([c,g.pathname]),pathnameBase:gS(Ar([c,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(c=Ar([c,g.pathnameBase]))}return u}function Mc(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=dS(t.path,t.caseSensitive,t.end),o=r.match(a);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((h,{paramName:y,isOptional:g},w)=>{if(y==="*"){let S=d[w]||"";u=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const _=d[w];return g&&!_?h[y]=void 0:h[y]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:u,pattern:t}}function dS(t,r=!1,a=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),s]}function fS(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function cr(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function hS({basename:t,pathname:r}){return r==="/"?t:Ar([t,r])}function mS(t,r="/"){let{pathname:a,search:s="",hash:o=""}=typeof t=="string"?na(t):t;return{pathname:a?a.startsWith("/")?a:pS(a,r):r,search:vS(s),hash:yS(o)}}function pS(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function bf(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function By(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function jh(t){let r=By(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function Nh(t,r,a,s=!1){let o;typeof t=="string"?o=na(t):(o={...t},bt(!o.pathname||!o.pathname.includes("?"),bf("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),bf("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),bf("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,d;if(u==null)d=a;else{let g=r.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),g-=1;o.pathname=w.join("/")}d=g>=0?r[g]:"/"}let p=mS(o,d),h=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(h||y)&&(p.pathname+="/"),p}var Ar=t=>t.join("/").replace(/\/\/+/g,"/"),gS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Oc=class{constructor(t,r,a,s=!1){this.status=t,this.statusText=r||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Mo(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Py=["POST","PUT","PATCH","DELETE"],bS=new Set(Py),xS=["GET",...Py],wS=new Set(xS),_S=new Set([301,302,303,307,308]),SS=new Set([307,308]),xf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ES={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},po={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Th=t=>jS.test(t),NS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$y="remix-router-transitions",Iy=Symbol("ResetLoaderData");function TS(t){const r=t.window?t.window:typeof window<"u"?window:void 0,a=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u";bt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||NS,c={},u=Co(t.routes,o,void 0,c),d,p=t.basename||"/";p.startsWith("/")||(p=`/${p}`);let h=t.dataStrategy||OS,y={...t.future},g=null,w=new Set,_=null,S=null,T=null,R=t.hydrationData!=null,N=Ra(u,t.history.location,p),O=!1,L=null,G;if(N==null&&!t.patchRoutesOnNavigation){let U=or(404,{pathname:t.history.location.pathname}),{matches:$,route:V}=ac(u);G=!0,N=$,L={[V.id]:U}}else if(N&&!t.hydrationData&&B(N,u,t.history.location.pathname).active&&(N=null),N)if(N.some(U=>U.route.lazy))G=!1;else if(!N.some(U=>Ah(U.route)))G=!0;else{let U=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let V=N.findIndex(re=>$[re.route.id]!==void 0);G=N.slice(0,V+1).every(re=>!Zf(re.route,U,$))}else G=N.every(V=>!Zf(V.route,U,$))}else{G=!1,N=[];let U=B(null,u,t.history.location.pathname);U.active&&U.matches&&(O=!0,N=U.matches)}let C,D={historyAction:t.history.action,location:t.history.location,matches:N,initialized:G,navigation:xf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},H="POP",ae=!1,fe,Ne=!1,he=new Map,pe=null,ce=!1,Se=!1,Ce=new Set,P=new Map,ne=0,se=-1,ge=new Map,z=new Set,X=new Map,ye=new Map,oe=new Set,Y=new Map,Q,Z=null;function be(){if(g=t.history.listen(({action:U,location:$,delta:V})=>{if(Q){Q(),Q=void 0;return}Zt(Y.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=ht({currentLocation:D.location,nextLocation:$,historyAction:U});if(re&&V!=null){let _e=new Promise(Ue=>{Q=Ue});t.history.go(V*-1),$e(re,{state:"blocked",location:$,proceed(){$e(re,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),_e.then(()=>t.history.go(V))},reset(){let Ue=new Map(D.blockers);Ue.set(re,po),qe({blockers:Ue})}});return}return Ke(U,$)}),a){YS(r,he);let U=()=>KS(r,he);r.addEventListener("pagehide",U),pe=()=>r.removeEventListener("pagehide",U)}return D.initialized||Ke("POP",D.location,{initialHydration:!0}),C}function le(){g&&g(),pe&&pe(),w.clear(),fe&&fe.abort(),D.fetchers.forEach((U,$)=>k($)),D.blockers.forEach((U,$)=>ft($))}function Ae(U){return w.add(U),()=>w.delete(U)}function qe(U,$={}){U.matches&&(U.matches=U.matches.map(_e=>{let Ue=c[_e.route.id],De=_e.route;return De.element!==Ue.element||De.errorElement!==Ue.errorElement||De.hydrateFallbackElement!==Ue.hydrateFallbackElement?{..._e,route:Ue}:_e})),D={...D,...U};let V=[],re=[];D.fetchers.forEach((_e,Ue)=>{_e.state==="idle"&&(oe.has(Ue)?V.push(Ue):re.push(Ue))}),oe.forEach(_e=>{!D.fetchers.has(_e)&&!P.has(_e)&&V.push(_e)}),[...w].forEach(_e=>_e(D,{deletedFetchers:V,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),V.forEach(_e=>k(_e)),re.forEach(_e=>D.fetchers.delete(_e))}function Ie(U,$,{flushSync:V}={}){let re=D.actionData!=null&&D.navigation.formMethod!=null&&Un(D.navigation.formMethod)&&D.navigation.state==="loading"&&U.state?._isRedirect!==!0,_e;$.actionData?Object.keys($.actionData).length>0?_e=$.actionData:_e=null:re?_e=D.actionData:_e=null;let Ue=$.loaderData?l0(D.loaderData,$.loaderData,$.matches||[],$.errors):D.loaderData,De=D.blockers;De.size>0&&(De=new Map(De),De.forEach((ke,Ee)=>De.set(Ee,po)));let Le=ce?!1:We(U,$.matches||D.matches),Me=ae===!0||D.navigation.formMethod!=null&&Un(D.navigation.formMethod)&&U.state?._isRedirect!==!0;d&&(u=d,d=void 0),ce||H==="POP"||(H==="PUSH"?t.history.push(U,U.state):H==="REPLACE"&&t.history.replace(U,U.state));let ze;if(H==="POP"){let ke=he.get(D.location.pathname);ke&&ke.has(U.pathname)?ze={currentLocation:D.location,nextLocation:U}:he.has(U.pathname)&&(ze={currentLocation:U,nextLocation:D.location})}else if(Ne){let ke=he.get(D.location.pathname);ke?ke.add(U.pathname):(ke=new Set([U.pathname]),he.set(D.location.pathname,ke)),ze={currentLocation:D.location,nextLocation:U}}qe({...$,actionData:_e,loaderData:Ue,historyAction:H,location:U,initialized:!0,navigation:xf,revalidation:"idle",restoreScrollPosition:Le,preventScrollReset:Me,blockers:De},{viewTransitionOpts:ze,flushSync:V===!0}),H="POP",ae=!1,Ne=!1,ce=!1,Se=!1,Z?.resolve(),Z=null}async function Xe(U,$){if(typeof U=="number"){t.history.go(U);return}let V=Qf(D.location,D.matches,p,U,$?.fromRouteId,$?.relative),{path:re,submission:_e,error:Ue}=Jv(!1,V,$),De=D.location,Le=Ro(D.location,re,$&&$.state);Le={...Le,...t.history.encodeLocation(Le)};let Me=$&&$.replace!=null?$.replace:void 0,ze="PUSH";Me===!0?ze="REPLACE":Me===!1||_e!=null&&Un(_e.formMethod)&&_e.formAction===D.location.pathname+D.location.search&&(ze="REPLACE");let ke=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ee=($&&$.flushSync)===!0,Be=ht({currentLocation:De,nextLocation:Le,historyAction:ze});if(Be){$e(Be,{state:"blocked",location:Le,proceed(){$e(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:Le}),Xe(U,$)},reset(){let Ye=new Map(D.blockers);Ye.set(Be,po),qe({blockers:Ye})}});return}await Ke(ze,Le,{submission:_e,pendingError:Ue,preventScrollReset:ke,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ee})}function Qe(){Z||(Z=WS()),xt(),qe({revalidation:"loading"});let U=Z.promise;return D.navigation.state==="submitting"?U:D.navigation.state==="idle"?(Ke(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),U):(Ke(H||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:Ne===!0}),U)}async function Ke(U,$,V){fe&&fe.abort(),fe=null,H=U,ce=(V&&V.startUninterruptedRevalidation)===!0,Nn(D.location,D.matches),ae=(V&&V.preventScrollReset)===!0,Ne=(V&&V.enableViewTransition)===!0;let re=d||u,_e=V&&V.overrideNavigation,Ue=V?.initialHydration&&D.matches&&D.matches.length>0&&!O?D.matches:Ra(re,$,p),De=(V&&V.flushSync)===!0;if(Ue&&D.initialized&&!Se&&$S(D.location,$)&&!(V&&V.submission&&Un(V.submission.formMethod))){Ie($,{matches:Ue},{flushSync:De});return}let Le=B(Ue,re,$.pathname);if(Le.active&&Le.matches&&(Ue=Le.matches),!Ue){let{error:et,notFoundMatches:Et,route:At}=zt($.pathname);Ie($,{matches:Et,loaderData:{},errors:{[At.id]:et}},{flushSync:De});return}fe=new AbortController;let Me=is(t.history,$,fe.signal,V&&V.submission),ze=t.getContext?await t.getContext():new Qv,ke;if(V&&V.pendingError)ke=[Ca(Ue).route.id,{type:"error",error:V.pendingError}];else if(V&&V.submission&&Un(V.submission.formMethod)){let et=await St(Me,$,V.submission,Ue,ze,Le.active,V&&V.initialHydration===!0,{replace:V.replace,flushSync:De});if(et.shortCircuited)return;if(et.pendingActionResult){let[Et,At]=et.pendingActionResult;if(Kn(At)&&Mo(At.error)&&At.error.status===404){fe=null,Ie($,{matches:et.matches,loaderData:{},errors:{[Et]:At.error}});return}}Ue=et.matches||Ue,ke=et.pendingActionResult,_e=wf($,V.submission),De=!1,Le.active=!1,Me=is(t.history,Me.url,Me.signal)}let{shortCircuited:Ee,matches:Be,loaderData:Ye,errors:it}=await $t(Me,$,Ue,ze,Le.active,_e,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,De,ke);Ee||(fe=null,Ie($,{matches:Be||Ue,...c0(ke),loaderData:Ye,errors:it}))}async function St(U,$,V,re,_e,Ue,De,Le={}){xt();let Me=GS($,V);if(qe({navigation:Me},{flushSync:Le.flushSync===!0}),Ue){let Ee=await de(re,$.pathname,U.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:Ye,route:it}=ac(u);return{matches:Ye,pendingActionResult:[it.id,{type:"error",error:Ee.error}]}}let Be=Ca(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Be,{type:"error",error:Ee.error}]}}else if(Ee.matches)re=Ee.matches;else{let{notFoundMatches:Be,error:Ye,route:it}=zt($.pathname);return{matches:Be,pendingActionResult:[it.id,{type:"error",error:Ye}]}}}let ze,ke=Sc(re,$);if(!ke.route.action&&!ke.route.lazy)ze={type:"error",error:or(405,{method:U.method,pathname:$.pathname,routeId:ke.route.id})};else{let Ee=ls(o,c,U,re,ke,De?[]:s,_e),Be=await He(U,Ee,_e,null);if(ze=Be[ke.route.id],!ze){for(let Ye of re)if(Be[Ye.route.id]){ze=Be[Ye.route.id];break}}if(U.signal.aborted)return{shortCircuited:!0}}if(ri(ze)){let Ee;return Le&&Le.replace!=null?Ee=Le.replace:Ee=i0(ze.response.headers.get("Location"),new URL(U.url),p)===D.location.pathname+D.location.search,await Oe(U,ze,!0,{submission:V,replace:Ee}),{shortCircuited:!0}}if(Kn(ze)){let Ee=Ca(re,ke.route.id);return(Le&&Le.replace)!==!0&&(H="PUSH"),{matches:re,pendingActionResult:[Ee.route.id,ze,ke.route.id]}}return{matches:re,pendingActionResult:[ke.route.id,ze]}}async function $t(U,$,V,re,_e,Ue,De,Le,Me,ze,ke,Ee){let Be=Ue||wf($,De),Ye=De||Le||d0(Be),it=!ce&&!ze;if(_e){if(it){let Rt=dt(Ee);qe({navigation:Be,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:ke})}let at=await de(V,$.pathname,U.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){if(at.partialMatches.length===0){let{matches:Jt,route:qt}=ac(u);return{matches:Jt,loaderData:{},errors:{[qt.id]:at.error}}}let Rt=Ca(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[Rt]:at.error}}}else if(at.matches)V=at.matches;else{let{error:Rt,notFoundMatches:Jt,route:qt}=zt($.pathname);return{matches:Jt,loaderData:{},errors:{[qt.id]:Rt}}}}let et=d||u,{dsMatches:Et,revalidatingFetchers:At}=e0(U,re,o,c,t.history,D,V,Ye,$,ze?[]:s,ze===!0,Se,Ce,oe,X,z,et,p,t.patchRoutesOnNavigation!=null,Ee);if(se=++ne,!t.dataStrategy&&!Et.some(at=>at.shouldLoad)&&!Et.some(at=>at.route.middleware&&at.route.middleware.length>0)&&At.length===0){let at=Ve();return Ie($,{matches:V,loaderData:{},errors:Ee&&Kn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...c0(Ee),...at?{fetchers:new Map(D.fetchers)}:{}},{flushSync:ke}),{shortCircuited:!0}}if(it){let at={};if(!_e){at.navigation=Be;let Rt=dt(Ee);Rt!==void 0&&(at.actionData=Rt)}At.length>0&&(at.fetchers=ot(At)),qe(at,{flushSync:ke})}At.forEach(at=>{W(at.key),at.controller&&P.set(at.key,at.controller)});let ln=()=>At.forEach(at=>W(at.key));fe&&fe.signal.addEventListener("abort",ln);let{loaderResults:Tn,fetcherResults:Qn}=await gt(Et,At,U,re);if(U.signal.aborted)return{shortCircuited:!0};fe&&fe.signal.removeEventListener("abort",ln),At.forEach(at=>P.delete(at.key));let _n=ic(Tn);if(_n)return await Oe(U,_n.result,!0,{replace:Me}),{shortCircuited:!0};if(_n=ic(Qn),_n)return z.add(_n.key),await Oe(U,_n.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:kr,errors:$n}=o0(D,V,Tn,Ee,At,Qn);ze&&D.errors&&($n={...D.errors,...$n});let An=Ve(),ur=nt(se),Yt=An||ur||At.length>0;return{matches:V,loaderData:kr,errors:$n,...Yt?{fetchers:new Map(D.fetchers)}:{}}}function dt(U){if(U&&!Kn(U[1]))return{[U[0]]:U[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function ot(U){return U.forEach($=>{let V=D.fetchers.get($.key),re=go(void 0,V?V.data:void 0);D.fetchers.set($.key,re)}),new Map(D.fetchers)}async function Nt(U,$,V,re){W(U);let _e=(re&&re.flushSync)===!0,Ue=d||u,De=Qf(D.location,D.matches,p,V,$,re?.relative),Le=Ra(Ue,De,p),Me=B(Le,Ue,De);if(Me.active&&Me.matches&&(Le=Me.matches),!Le){A(U,$,or(404,{pathname:De}),{flushSync:_e});return}let{path:ze,submission:ke,error:Ee}=Jv(!0,De,re);if(Ee){A(U,$,Ee,{flushSync:_e});return}let Be=t.getContext?await t.getContext():new Qv,Ye=(re&&re.preventScrollReset)===!0;if(ke&&Un(ke.formMethod)){await Te(U,$,ze,Le,Be,Me.active,_e,Ye,ke);return}X.set(U,{routeId:$,path:ze}),await Fe(U,$,ze,Le,Be,Me.active,_e,Ye,ke)}async function Te(U,$,V,re,_e,Ue,De,Le,Me){xt(),X.delete(U);let ze=D.fetchers.get(U);lt(U,VS(Me,ze),{flushSync:De});let ke=new AbortController,Ee=is(t.history,V,ke.signal,Me);if(Ue){let Ot=await de(re,new URL(Ee.url).pathname,Ee.signal,U);if(Ot.type==="aborted")return;if(Ot.type==="error"){A(U,$,Ot.error,{flushSync:De});return}else if(Ot.matches)re=Ot.matches;else{A(U,$,or(404,{pathname:V}),{flushSync:De});return}}let Be=Sc(re,V);if(!Be.route.action&&!Be.route.lazy){let Ot=or(405,{method:Me.formMethod,pathname:V,routeId:$});A(U,$,Ot,{flushSync:De});return}P.set(U,ke);let Ye=ne,it=ls(o,c,Ee,re,Be,s,_e),Et=(await He(Ee,it,_e,U))[Be.route.id];if(Ee.signal.aborted){P.get(U)===ke&&P.delete(U);return}if(oe.has(U)){if(ri(Et)||Kn(Et)){lt(U,Xr(void 0));return}}else{if(ri(Et))if(P.delete(U),se>Ye){lt(U,Xr(void 0));return}else return z.add(U),lt(U,go(Me)),Oe(Ee,Et,!1,{fetcherSubmission:Me,preventScrollReset:Le});if(Kn(Et)){A(U,$,Et.error);return}}let At=D.navigation.location||D.location,ln=is(t.history,At,ke.signal),Tn=d||u,Qn=D.navigation.state!=="idle"?Ra(Tn,D.navigation.location,p):D.matches;bt(Qn,"Didn't find any matches after fetcher action");let _n=++ne;ge.set(U,_n);let kr=go(Me,Et.data);D.fetchers.set(U,kr);let{dsMatches:$n,revalidatingFetchers:An}=e0(ln,_e,o,c,t.history,D,Qn,Me,At,s,!1,Se,Ce,oe,X,z,Tn,p,t.patchRoutesOnNavigation!=null,[Be.route.id,Et]);An.filter(Ot=>Ot.key!==U).forEach(Ot=>{let Ur=Ot.key,ra=D.fetchers.get(Ur),yn=go(void 0,ra?ra.data:void 0);D.fetchers.set(Ur,yn),W(Ur),Ot.controller&&P.set(Ur,Ot.controller)}),qe({fetchers:new Map(D.fetchers)});let ur=()=>An.forEach(Ot=>W(Ot.key));ke.signal.addEventListener("abort",ur);let{loaderResults:Yt,fetcherResults:at}=await gt($n,An,ln,_e);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",ur),ge.delete(U),P.delete(U),An.forEach(Ot=>P.delete(Ot.key)),D.fetchers.has(U)){let Ot=Xr(Et.data);D.fetchers.set(U,Ot)}let Rt=ic(Yt);if(Rt)return Oe(ln,Rt.result,!1,{preventScrollReset:Le});if(Rt=ic(at),Rt)return z.add(Rt.key),Oe(ln,Rt.result,!1,{preventScrollReset:Le});let{loaderData:Jt,errors:qt}=o0(D,Qn,Yt,void 0,An,at);nt(_n),D.navigation.state==="loading"&&_n>se?(bt(H,"Expected pending action"),fe&&fe.abort(),Ie(D.navigation.location,{matches:Qn,loaderData:Jt,errors:qt,fetchers:new Map(D.fetchers)})):(qe({errors:qt,loaderData:l0(D.loaderData,Jt,Qn,qt),fetchers:new Map(D.fetchers)}),Se=!1)}async function Fe(U,$,V,re,_e,Ue,De,Le,Me){let ze=D.fetchers.get(U);lt(U,go(Me,ze?ze.data:void 0),{flushSync:De});let ke=new AbortController,Ee=is(t.history,V,ke.signal);if(Ue){let At=await de(re,new URL(Ee.url).pathname,Ee.signal,U);if(At.type==="aborted")return;if(At.type==="error"){A(U,$,At.error,{flushSync:De});return}else if(At.matches)re=At.matches;else{A(U,$,or(404,{pathname:V}),{flushSync:De});return}}let Be=Sc(re,V);P.set(U,ke);let Ye=ne,it=ls(o,c,Ee,re,Be,s,_e),Et=(await He(Ee,it,_e,U))[Be.route.id];if(P.get(U)===ke&&P.delete(U),!Ee.signal.aborted){if(oe.has(U)){lt(U,Xr(void 0));return}if(ri(Et))if(se>Ye){lt(U,Xr(void 0));return}else{z.add(U),await Oe(Ee,Et,!1,{preventScrollReset:Le});return}if(Kn(Et)){A(U,$,Et.error);return}lt(U,Xr(Et.data))}}async function Oe(U,$,V,{submission:re,fetcherSubmission:_e,preventScrollReset:Ue,replace:De}={}){$.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Le=$.response.headers.get("Location");bt(Le,"Expected a Location header on the redirect Response"),Le=i0(Le,new URL(U.url),p);let Me=Ro(D.location,Le,{_isRedirect:!0});if(a){let it=!1;if($.response.headers.has("X-Remix-Reload-Document"))it=!0;else if(Th(Le)){const et=Uy(Le,!0);it=et.origin!==r.location.origin||cr(et.pathname,p)==null}if(it){De?r.location.replace(Le):r.location.assign(Le);return}}fe=null;let ze=De===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ke,formAction:Ee,formEncType:Be}=D.navigation;!re&&!_e&&ke&&Ee&&Be&&(re=d0(D.navigation));let Ye=re||_e;if(SS.has($.response.status)&&Ye&&Un(Ye.formMethod))await Ke(ze,Me,{submission:{...Ye,formAction:Le},preventScrollReset:Ue||ae,enableViewTransition:V?Ne:void 0});else{let it=wf(Me,re);await Ke(ze,Me,{overrideNavigation:it,fetcherSubmission:_e,preventScrollReset:Ue||ae,enableViewTransition:V?Ne:void 0})}}async function He(U,$,V,re){let _e,Ue={};try{_e=await kS(h,U,$,re,V,!1)}catch(De){return $.filter(Le=>Le.shouldLoad).forEach(Le=>{Ue[Le.route.id]={type:"error",error:De}}),Ue}if(U.signal.aborted)return Ue;for(let[De,Le]of Object.entries(_e))if(qS(Le)){let Me=Le.result;Ue[De]={type:"redirect",response:BS(Me,U,De,$,p)}}else Ue[De]=await zS(Le);return Ue}async function gt(U,$,V,re){let _e=He(V,U,re,null),Ue=Promise.all($.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let ke=(await He(Me.request,Me.matches,re,Me.key))[Me.match.route.id];return{[Me.key]:ke}}else return Promise.resolve({[Me.key]:{type:"error",error:or(404,{pathname:Me.path})}})})),De=await _e,Le=(await Ue).reduce((Me,ze)=>Object.assign(Me,ze),{});return{loaderResults:De,fetcherResults:Le}}function xt(){Se=!0,X.forEach((U,$)=>{P.has($)&&Ce.add($),W($)})}function lt(U,$,V={}){D.fetchers.set(U,$),qe({fetchers:new Map(D.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function A(U,$,V,re={}){let _e=Ca(D.matches,$);k(U),qe({errors:{[_e.route.id]:V},fetchers:new Map(D.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function b(U){return ye.set(U,(ye.get(U)||0)+1),oe.has(U)&&oe.delete(U),D.fetchers.get(U)||ES}function x(U,$){W(U,$?.reason),lt(U,Xr(null))}function k(U){let $=D.fetchers.get(U);P.has(U)&&!($&&$.state==="loading"&&ge.has(U))&&W(U),X.delete(U),ge.delete(U),z.delete(U),oe.delete(U),Ce.delete(U),D.fetchers.delete(U)}function q(U){let $=(ye.get(U)||0)-1;$<=0?(ye.delete(U),oe.add(U)):ye.set(U,$),qe({fetchers:new Map(D.fetchers)})}function W(U,$){let V=P.get(U);V&&(V.abort($),P.delete(U))}function ue(U){for(let $ of U){let V=b($),re=Xr(V.data);D.fetchers.set($,re)}}function Ve(){let U=[],$=!1;for(let V of z){let re=D.fetchers.get(V);bt(re,`Expected fetcher: ${V}`),re.state==="loading"&&(z.delete(V),U.push(V),$=!0)}return ue(U),$}function nt(U){let $=[];for(let[V,re]of ge)if(re<U){let _e=D.fetchers.get(V);bt(_e,`Expected fetcher: ${V}`),_e.state==="loading"&&(W(V),ge.delete(V),$.push(V))}return ue($),$.length>0}function ct(U,$){let V=D.blockers.get(U)||po;return Y.get(U)!==$&&Y.set(U,$),V}function ft(U){D.blockers.delete(U),Y.delete(U)}function $e(U,$){let V=D.blockers.get(U)||po;bt(V.state==="unblocked"&&$.state==="blocked"||V.state==="blocked"&&$.state==="blocked"||V.state==="blocked"&&$.state==="proceeding"||V.state==="blocked"&&$.state==="unblocked"||V.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${V.state} -> ${$.state}`);let re=new Map(D.blockers);re.set(U,$),qe({blockers:re})}function ht({currentLocation:U,nextLocation:$,historyAction:V}){if(Y.size===0)return;Y.size>1&&Zt(!1,"A router only supports one blocker at a time");let re=Array.from(Y.entries()),[_e,Ue]=re[re.length-1],De=D.blockers.get(_e);if(!(De&&De.state==="proceeding")&&Ue({currentLocation:U,nextLocation:$,historyAction:V}))return _e}function zt(U){let $=or(404,{pathname:U}),V=d||u,{matches:re,route:_e}=ac(V);return{notFoundMatches:re,route:_e,error:$}}function Bt(U,$,V){if(_=U,T=$,S=V||null,!R&&D.navigation===xf){R=!0;let re=We(D.location,D.matches);re!=null&&qe({restoreScrollPosition:re})}return()=>{_=null,T=null,S=null}}function Gt(U,$){return S&&S(U,$.map(re=>eS(re,D.loaderData)))||U.key}function Nn(U,$){if(_&&T){let V=Gt(U,$);_[V]=T()}}function We(U,$){if(_){let V=Gt(U,$),re=_[V];if(typeof re=="number")return re}return null}function B(U,$,V){if(t.patchRoutesOnNavigation)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:_c($,V,p,!0)}}else return{active:!0,matches:_c($,V,p,!0)||[]};return{active:!1,matches:null}}async function de(U,$,V,re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:U};let _e=U;for(;;){let Ue=d==null,De=d||u,Le=c;try{await t.patchRoutesOnNavigation({signal:V,path:$,matches:_e,fetcherKey:re,patch:(ke,Ee)=>{V.aborted||t0(ke,Ee,De,Le,o,!1)}})}catch(ke){return{type:"error",error:ke,partialMatches:_e}}finally{Ue&&!V.aborted&&(u=[...u])}if(V.aborted)return{type:"aborted"};let Me=Ra(De,$,p);if(Me)return{type:"success",matches:Me};let ze=_c(De,$,p,!0);if(!ze||_e.length===ze.length&&_e.every((ke,Ee)=>ke.route.id===ze[Ee].route.id))return{type:"success",matches:null};_e=ze}}function ve(U){c={},d=Co(U,o,void 0,c)}function Re(U,$,V=!1){let re=d==null;t0(U,$,d||u,c,o,V),re&&(u=[...u],qe({}))}return C={get basename(){return p},get future(){return y},get state(){return D},get routes(){return u},get window(){return r},initialize:be,subscribe:Ae,enableScrollRestoration:Bt,navigate:Xe,fetch:Nt,revalidate:Qe,createHref:U=>t.history.createHref(U),encodeLocation:U=>t.history.encodeLocation(U),getFetcher:b,resetFetcher:x,deleteFetcher:q,dispose:le,getBlocker:ct,deleteBlocker:ft,patchRoutes:Re,_internalFetchControllers:P,_internalSetRoutes:ve,_internalSetStateDoNotUseOrYouWillBreakYourApp(U){qe(U)}},C}function AS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Qf(t,r,a,s,o,c){let u,d;if(o){u=[];for(let h of r)if(u.push(h),h.route.id===o){d=h;break}}else u=r,d=r[r.length-1];let p=Nh(s||".",jh(u),cr(t.pathname,a)||t.pathname,c==="path");if(s==null&&(p.search=t.search,p.hash=t.hash),(s==null||s===""||s===".")&&d){let h=Rh(p.search);if(d.route.index&&!h)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let y=new URLSearchParams(p.search),g=y.getAll("index");y.delete("index"),g.filter(_=>_).forEach(_=>y.append("index",_));let w=y.toString();p.search=w?`?${w}`:""}}return a!=="/"&&(p.pathname=hS({basename:a,pathname:p.pathname})),Oa(p)}function Jv(t,r,a){if(!a||!AS(a))return{path:r};if(a.formMethod&&!FS(a.formMethod))return{path:r,error:or(405,{method:a.formMethod})};let s=()=>({path:r,error:or(400,{type:"invalid-body"})}),c=(a.formMethod||"get").toUpperCase(),u=Yy(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!Un(c))return s();let g=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((w,[_,S])=>`${w}${_}=${S}
`,""):String(a.body);return{path:r,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:void 0,text:g}}}else if(a.formEncType==="application/json"){if(!Un(c))return s();try{let g=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:c,formAction:u,formEncType:a.formEncType,formData:void 0,json:g,text:void 0}}}catch{return s()}}}bt(typeof FormData=="function","FormData is not available in this environment");let d,p;if(a.formData)d=eh(a.formData),p=a.formData;else if(a.body instanceof FormData)d=eh(a.body),p=a.body;else if(a.body instanceof URLSearchParams)d=a.body,p=s0(d);else if(a.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(a.body),p=s0(d)}catch{return s()}let h={formMethod:c,formAction:u,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Un(h.formMethod))return{path:r,submission:h};let y=na(r);return t&&y.search&&Rh(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Oa(y),submission:h}}function e0(t,r,a,s,o,c,u,d,p,h,y,g,w,_,S,T,R,N,O,L){let G=L?Kn(L[1])?L[1].error:L[1].data:void 0,C=o.createURL(c.location),D=o.createURL(p),H;if(y&&c.errors){let ce=Object.keys(c.errors)[0];H=u.findIndex(Se=>Se.route.id===ce)}else if(L&&Kn(L[1])){let ce=L[0];H=u.findIndex(Se=>Se.route.id===ce)-1}let ae=L?L[1].statusCode:void 0,fe=ae&&ae>=400,Ne={currentUrl:C,currentParams:c.matches[0]?.params||{},nextUrl:D,nextParams:u[0].params,...d,actionResult:G,actionStatus:ae},he=u.map((ce,Se)=>{let{route:Ce}=ce,P=null;if(H!=null&&Se>H?P=!1:Ce.lazy?P=!0:Ah(Ce)?y?P=Zf(Ce,c.loaderData,c.errors):RS(c.loaderData,c.matches[Se],ce)&&(P=!0):P=!1,P!==null)return Jf(a,s,t,ce,h,r,P);let ne=fe?!1:g||C.pathname+C.search===D.pathname+D.search||C.search!==D.search||CS(c.matches[Se],ce),se={...Ne,defaultShouldRevalidate:ne},ge=Dc(ce,se);return Jf(a,s,t,ce,h,r,ge,se)}),pe=[];return S.forEach((ce,Se)=>{if(y||!u.some(ye=>ye.route.id===ce.routeId)||_.has(Se))return;let Ce=c.fetchers.get(Se),P=Ce&&Ce.state!=="idle"&&Ce.data===void 0,ne=Ra(R,ce.path,N);if(!ne){if(O&&P)return;pe.push({key:Se,routeId:ce.routeId,path:ce.path,matches:null,match:null,request:null,controller:null});return}if(T.has(Se))return;let se=Sc(ne,ce.path),ge=new AbortController,z=is(o,ce.path,ge.signal),X=null;if(w.has(Se))w.delete(Se),X=ls(a,s,z,ne,se,h,r);else if(P)g&&(X=ls(a,s,z,ne,se,h,r));else{let ye={...Ne,defaultShouldRevalidate:fe?!1:g};Dc(se,ye)&&(X=ls(a,s,z,ne,se,h,r,ye))}X&&pe.push({key:Se,routeId:ce.routeId,path:ce.path,matches:X,match:se,request:z,controller:ge})}),{dsMatches:he,revalidatingFetchers:pe}}function Ah(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Zf(t,r,a){if(t.lazy)return!0;if(!Ah(t))return!1;let s=r!=null&&t.id in r,o=a!=null&&a[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function RS(t,r,a){let s=!r||a.route.id!==r.route.id,o=!t.hasOwnProperty(a.route.id);return s||o}function CS(t,r){let a=t.route.path;return t.pathname!==r.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==r.params["*"]}function Dc(t,r){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(r);if(typeof a=="boolean")return a}return r.defaultShouldRevalidate}function t0(t,r,a,s,o,c){let u;if(t){let h=s[t];bt(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),u=h.children}else u=a;let d=[],p=[];if(r.forEach(h=>{let y=u.find(g=>Hy(h,g));y?p.push({existingRoute:y,newRoute:h}):d.push(h)}),d.length>0){let h=Co(d,o,[t||"_","patch",String(u?.length||"0")],s);u.push(...h)}if(c&&p.length>0)for(let h=0;h<p.length;h++){let{existingRoute:y,newRoute:g}=p[h],w=y,[_]=Co([g],o,[],{},!0);Object.assign(w,{element:_.element?_.element:w.element,errorElement:_.errorElement?_.errorElement:w.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:w.hydrateFallbackElement})}}function Hy(t,r){return"id"in t&&"id"in r&&t.id===r.id?!0:t.index===r.index&&t.path===r.path&&t.caseSensitive===r.caseSensitive?(!t.children||t.children.length===0)&&(!r.children||r.children.length===0)?!0:t.children.every((a,s)=>r.children?.some(o=>Hy(a,o))):!1}var n0=new WeakMap,qy=({key:t,route:r,manifest:a,mapRouteProperties:s})=>{let o=a[r.id];if(bt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let c=o.lazy[t];if(!c)return;let u=n0.get(o);u||(u={},n0.set(o,u));let d=u[t];if(d)return d;let p=(async()=>{let h=X1(t),g=o[t]!==void 0&&t!=="hasErrorBoundary";if(h)Zt(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(g)Zt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await c();w!=null&&(Object.assign(o,{[t]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return u[t]=p,p},r0=new WeakMap;function MS(t,r,a,s,o){let c=a[t.id];if(bt(c,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=r0.get(c);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let g=(async()=>{bt(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),_={};for(let S in w){let T=w[S];if(T===void 0)continue;let R=Z1(S),O=c[S]!==void 0&&S!=="hasErrorBoundary";R?Zt(!R,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):O?Zt(!O,`Route "${c.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):_[S]=T}Object.assign(c,_),Object.assign(c,{...s(c),lazy:void 0})})();return r0.set(c,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let u=Object.keys(t.lazy),d=[],p;for(let y of u){if(o&&o.includes(y))continue;let g=qy({key:y,route:t,manifest:a,mapRouteProperties:s});g&&(d.push(g),y===r&&(p=g))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:p}}async function a0(t){let r=t.matches.filter(o=>o.shouldLoad),a={};return(await Promise.all(r.map(o=>o.resolve()))).forEach((o,c)=>{a[r[c].route.id]=o}),a}async function OS(t){return t.matches.some(r=>r.route.middleware)?Fy(t,()=>a0(t)):a0(t)}function Fy(t,r){return DS(t,r,s=>s,IS,a);function a(s,o,c){if(c)return Promise.resolve(Object.assign(c.value,{[o]:{type:"error",result:s}}));{let{matches:u}=t,d=Math.min(Math.max(u.findIndex(h=>h.route.id===o),0),Math.max(u.findIndex(h=>h.unstable_shouldCallHandler()),0)),p=Ca(u,u[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:s}})}}}async function DS(t,r,a,s,o){let{matches:c,request:u,params:d,context:p}=t,h=c.flatMap(g=>g.route.middleware?g.route.middleware.map(w=>[g.route.id,w]):[]);return await Gy({request:u,params:d,context:p},h,r,a,s,o)}async function Gy(t,r,a,s,o,c,u=0){let{request:d}=t;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=r[u];if(!p)return await a();let[h,y]=p,g,w=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await Gy(t,r,a,s,o,c,u+1)},g.value}catch(_){return g={value:await c(_,h,g)},g.value}};try{let _=await y(t,w),S=_!=null?s(_):void 0;return o(S)?S:g?S??g.value:(g={value:await w()},g.value)}catch(_){return await c(_,h,g)}}function Vy(t,r,a,s,o){let c=qy({key:"middleware",route:s.route,manifest:r,mapRouteProperties:t}),u=MS(s.route,Un(a.method)?"action":"loader",r,t,o);return{middleware:c,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Jf(t,r,a,s,o,c,u,d=null){let p=!1,h=Vy(t,r,a,s,o);return{...s,_lazyPromises:h,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return p=!0,d?typeof y=="boolean"?Dc(s,{...d,defaultShouldRevalidate:y}):Dc(s,d):u},resolve(y){let{lazy:g,loader:w,middleware:_}=s.route,S=p||u||y&&!Un(a.method)&&(g||w),T=_&&_.length>0&&!w&&!g;return S&&!T?US({request:a,match:s,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:y,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ls(t,r,a,s,o,c,u,d=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Vy(t,r,a,p,c),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Jf(t,r,a,p,c,u,!0,d))}async function kS(t,r,a,s,o,c){a.some(h=>h._lazyPromises?.middleware)&&await Promise.all(a.map(h=>h._lazyPromises?.middleware));let u={request:r,params:a[0].params,context:o,matches:a},p=await t({...u,fetcherKey:s,runClientMiddleware:h=>{let y=u;return Fy(y,()=>h({...y,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(a.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return p}async function US({request:t,match:r,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:o,scopedContext:c}){let u,d,p=Un(t.method),h=p?"action":"loader",y=g=>{let w,_=new Promise((R,N)=>w=N);d=()=>w(),t.signal.addEventListener("abort",d);let S=R=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${r.route.id}]`)):g({request:t,params:r.params,context:c},...R!==void 0?[R]:[]),T=(async()=>{try{return{type:"data",result:await(o?o(N=>S(N)):S())}}catch(R){return{type:"error",result:R}}})();return Promise.race([T,_])};try{let g=p?r.route.action:r.route.loader;if(a||s)if(g){let w,[_]=await Promise.all([y(g).catch(S=>{w=S}),a,s]);if(w!==void 0)throw w;u=_}else{await a;let w=p?r.route.action:r.route.loader;if(w)[u]=await Promise.all([y(w),s]);else if(h==="action"){let _=new URL(t.url),S=_.pathname+_.search;throw or(405,{method:t.method,pathname:S,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(g)u=await y(g);else{let w=new URL(t.url),_=w.pathname+w.search;throw or(404,{pathname:_})}}catch(g){return{type:"error",result:g}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function LS(t){let r=t.headers.get("Content-Type");return r&&/\bapplication\/json\b/.test(r)?t.body==null?null:t.json():t.text()}async function zS(t){let{result:r,type:a}=t;if(Ky(r)){let s;try{s=await LS(r)}catch(o){return{type:"error",error:o}}return a==="error"?{type:"error",error:new Oc(r.status,r.statusText,s),statusCode:r.status,headers:r.headers}:{type:"data",data:s,statusCode:r.status,headers:r.headers}}return a==="error"?u0(r)?r.data instanceof Error?{type:"error",error:r.data,statusCode:r.init?.status,headers:r.init?.headers?new Headers(r.init.headers):void 0}:{type:"error",error:new Oc(r.init?.status||500,void 0,r.data),statusCode:Mo(r)?r.status:void 0,headers:r.init?.headers?new Headers(r.init.headers):void 0}:{type:"error",error:r,statusCode:Mo(r)?r.status:void 0}:u0(r)?{type:"data",data:r.data,statusCode:r.init?.status,headers:r.init?.headers?new Headers(r.init.headers):void 0}:{type:"data",data:r}}function BS(t,r,a,s,o){let c=t.headers.get("Location");if(bt(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Th(c)){let u=s.slice(0,s.findIndex(d=>d.route.id===a)+1);c=Qf(new URL(r.url),u,o,c),t.headers.set("Location",c)}return t}function i0(t,r,a){if(Th(t)){let s=t,o=s.startsWith("//")?new URL(r.protocol+s):new URL(s),c=cr(o.pathname,a)!=null;if(o.origin===r.origin&&c)return o.pathname+o.search+o.hash}return t}function is(t,r,a,s){let o=t.createURL(Yy(r)).toString(),c={signal:a};if(s&&Un(s.formMethod)){let{formMethod:u,formEncType:d}=s;c.method=u.toUpperCase(),d==="application/json"?(c.headers=new Headers({"Content-Type":d}),c.body=JSON.stringify(s.json)):d==="text/plain"?c.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?c.body=eh(s.formData):c.body=s.formData}return new Request(o,c)}function eh(t){let r=new URLSearchParams;for(let[a,s]of t.entries())r.append(a,typeof s=="string"?s:s.name);return r}function s0(t){let r=new FormData;for(let[a,s]of t.entries())r.append(a,s);return r}function PS(t,r,a,s=!1,o=!1){let c={},u=null,d,p=!1,h={},y=a&&Kn(a[1])?a[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in r))return;let w=g.route.id,_=r[w];if(bt(!ri(_),"Cannot handle redirect results in processLoaderData"),Kn(_)){let S=_.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},o)u[w]=S;else{let T=Ca(t,w);u[T.route.id]==null&&(u[T.route.id]=S)}s||(c[w]=Iy),p||(p=!0,d=Mo(_.error)?_.error.status:500),_.headers&&(h[w]=_.headers)}else c[w]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(d=_.statusCode),_.headers&&(h[w]=_.headers)}),y!==void 0&&a&&(u={[a[0]]:y},a[2]&&(c[a[2]]=void 0)),{loaderData:c,errors:u,statusCode:d||200,loaderHeaders:h}}function o0(t,r,a,s,o,c){let{loaderData:u,errors:d}=PS(r,a,s);return o.filter(p=>!p.matches||p.matches.some(h=>h.shouldLoad)).forEach(p=>{let{key:h,match:y,controller:g}=p;if(g&&g.signal.aborted)return;let w=c[h];if(bt(w,"Did not find corresponding fetcher result"),Kn(w)){let _=Ca(t.matches,y?.route.id);d&&d[_.route.id]||(d={...d,[_.route.id]:w.error}),t.fetchers.delete(h)}else if(ri(w))bt(!1,"Unhandled fetcher revalidation redirect");else{let _=Xr(w.data);t.fetchers.set(h,_)}}),{loaderData:u,errors:d}}function l0(t,r,a,s){let o=Object.entries(r).filter(([,c])=>c!==Iy).reduce((c,[u,d])=>(c[u]=d,c),{});for(let c of a){let u=c.route.id;if(!r.hasOwnProperty(u)&&t.hasOwnProperty(u)&&c.route.loader&&(o[u]=t[u]),s&&s.hasOwnProperty(u))break}return o}function c0(t){return t?Kn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ca(t,r){return(r?t.slice(0,t.findIndex(s=>s.route.id===r)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function ac(t){let r=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function or(t,{pathname:r,routeId:a,method:s,type:o,message:c}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",s&&r&&a?d=`You made a ${s} request to "${r}" but did not provide a \`loader\` for route "${a}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${a}" does not match URL "${r}"`):t===404?(u="Not Found",d=`No route matches URL "${r}"`):t===405&&(u="Method Not Allowed",s&&r&&a?d=`You made a ${s.toUpperCase()} request to "${r}" but did not provide an \`action\` for route "${a}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new Oc(t||500,u,new Error(d),!0)}function ic(t){let r=Object.entries(t);for(let a=r.length-1;a>=0;a--){let[s,o]=r[a];if(ri(o))return{key:s,result:o}}}function Yy(t){let r=typeof t=="string"?na(t):t;return Oa({...r,hash:""})}function $S(t,r){return t.pathname!==r.pathname||t.search!==r.search?!1:t.hash===""?r.hash!=="":t.hash===r.hash?!0:r.hash!==""}function IS(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([r,a])=>typeof r=="string"&&HS(a))}function HS(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function qS(t){return Ky(t.result)&&_S.has(t.result.status)}function Kn(t){return t.type==="error"}function ri(t){return(t&&t.type)==="redirect"}function u0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ky(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function FS(t){return wS.has(t.toUpperCase())}function Un(t){return bS.has(t.toUpperCase())}function Rh(t){return new URLSearchParams(t).getAll("index").some(r=>r==="")}function Sc(t,r){let a=typeof r=="string"?na(r).search:r.search;if(t[t.length-1].route.index&&Rh(a||""))return t[t.length-1];let s=By(t);return s[s.length-1]}function d0(t){let{formMethod:r,formAction:a,formEncType:s,text:o,formData:c,json:u}=t;if(!(!r||!a||!s)){if(o!=null)return{formMethod:r,formAction:a,formEncType:s,formData:void 0,json:void 0,text:o};if(c!=null)return{formMethod:r,formAction:a,formEncType:s,formData:c,json:void 0,text:void 0};if(u!==void 0)return{formMethod:r,formAction:a,formEncType:s,formData:void 0,json:u,text:void 0}}}function wf(t,r){return r?{state:"loading",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function GS(t,r){return{state:"submitting",location:t,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function go(t,r){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function VS(t,r){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:r?r.data:void 0}}function Xr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function YS(t,r){try{let a=t.sessionStorage.getItem($y);if(a){let s=JSON.parse(a);for(let[o,c]of Object.entries(s||{}))c&&Array.isArray(c)&&r.set(o,new Set(c||[]))}}catch{}}function KS(t,r){if(r.size>0){let a={};for(let[s,o]of r)a[s]=[...o];try{t.sessionStorage.setItem($y,JSON.stringify(a))}catch(s){Zt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function WS(){let t,r,a=new Promise((s,o)=>{t=async c=>{s(c);try{await a}catch{}},r=async c=>{o(c);try{await a}catch{}}});return{promise:a,resolve:t,reject:r}}var ci=E.createContext(null);ci.displayName="DataRouter";var Po=E.createContext(null);Po.displayName="DataRouterState";E.createContext(!1);var Ch=E.createContext({isTransitioning:!1});Ch.displayName="ViewTransition";var Wy=E.createContext(new Map);Wy.displayName="Fetchers";var XS=E.createContext(null);XS.displayName="Await";var Or=E.createContext(null);Or.displayName="Navigation";var Vc=E.createContext(null);Vc.displayName="Location";var vr=E.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Mh=E.createContext(null);Mh.displayName="RouteError";function QS(t,{relative:r}={}){bt($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=E.useContext(Or),{hash:o,pathname:c,search:u}=Io(t,{relative:r}),d=c;return a!=="/"&&(d=c==="/"?a:Ar([a,c])),s.createHref({pathname:d,search:u,hash:o})}function $o(){return E.useContext(Vc)!=null}function ui(){return bt($o(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Vc).location}var Xy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qy(t){E.useContext(Or).static||E.useLayoutEffect(t)}function Oh(){let{isDataRoute:t}=E.useContext(vr);return t?hE():ZS()}function ZS(){bt($o(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(ci),{basename:r,navigator:a}=E.useContext(Or),{matches:s}=E.useContext(vr),{pathname:o}=ui(),c=JSON.stringify(jh(s)),u=E.useRef(!1);return Qy(()=>{u.current=!0}),E.useCallback((p,h={})=>{if(Zt(u.current,Xy),!u.current)return;if(typeof p=="number"){a.go(p);return}let y=Nh(p,JSON.parse(c),o,h.relative==="path");t==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Ar([r,y.pathname])),(h.replace?a.replace:a.push)(y,h.state,h)},[r,a,c,o,t])}var JS=E.createContext(null);function eE(t){let r=E.useContext(vr).outlet;return E.useMemo(()=>r&&E.createElement(JS.Provider,{value:t},r),[r,t])}function tE(){let{matches:t}=E.useContext(vr),r=t[t.length-1];return r?r.params:{}}function Io(t,{relative:r}={}){let{matches:a}=E.useContext(vr),{pathname:s}=ui(),o=JSON.stringify(jh(a));return E.useMemo(()=>Nh(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function nE(t,r,a,s,o){bt($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=E.useContext(Or),{matches:u}=E.useContext(vr),d=u[u.length-1],p=d?d.params:{},h=d?d.pathname:"/",y=d?d.pathnameBase:"/",g=d&&d.route;{let O=g&&g.path||"";Zy(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=ui(),_;_=w;let S=_.pathname||"/",T=S;if(y!=="/"){let O=y.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=Ra(t,{pathname:T});return Zt(g||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Zt(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oE(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:Ar([y,c.encodeLocation?c.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Ar([y,c.encodeLocation?c.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,a,s,o)}function rE(){let t=fE(),r=Mo(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:c},"ErrorBoundary")," or"," ",E.createElement("code",{style:c},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},r),a?E.createElement("pre",{style:o},a):null,u)}var aE=E.createElement(rE,null),iE=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(vr.Provider,{value:this.props.routeContext},E.createElement(Mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sE({routeContext:t,match:r,children:a}){let s=E.useContext(ci);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(vr.Provider,{value:t},a)}function oE(t,r=[],a=null,s=null,o=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let c=t,u=a?.errors;if(u!=null){let h=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);bt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let d=!1,p=-1;if(a)for(let h=0;h<c.length;h++){let y=c[h];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=h),y.route.id){let{loaderData:g,errors:w}=a,_=y.route.loader&&!g.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((h,y,g)=>{let w,_=!1,S=null,T=null;a&&(w=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||aE,d&&(p<0&&g===0?(Zy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):p===g&&(_=!0,T=y.route.hydrateFallbackElement||null)));let R=r.concat(c.slice(0,g+1)),N=()=>{let O;return w?O=S:_?O=T:y.route.Component?O=E.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=h,E.createElement(sE,{match:y,routeContext:{outlet:h,matches:R,isDataRoute:a!=null},children:O})};return a&&(y.route.ErrorBoundary||y.route.errorElement||g===0)?E.createElement(iE,{location:a.location,revalidation:a.revalidation,component:S,error:w,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:s}):N()},null)}function Dh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lE(t){let r=E.useContext(ci);return bt(r,Dh(t)),r}function cE(t){let r=E.useContext(Po);return bt(r,Dh(t)),r}function uE(t){let r=E.useContext(vr);return bt(r,Dh(t)),r}function kh(t){let r=uE(t),a=r.matches[r.matches.length-1];return bt(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function dE(){return kh("useRouteId")}function fE(){let t=E.useContext(Mh),r=cE("useRouteError"),a=kh("useRouteError");return t!==void 0?t:r.errors?.[a]}function hE(){let{router:t}=lE("useNavigate"),r=kh("useNavigate"),a=E.useRef(!1);return Qy(()=>{a.current=!0}),E.useCallback(async(o,c={})=>{Zt(a.current,Xy),a.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:r,...c}))},[t,r])}var f0={};function Zy(t,r,a){!r&&!f0[t]&&(f0[t]=!0,Zt(!1,a))}var h0={};function m0(t,r){!t&&!h0[r]&&(h0[r]=!0,console.warn(r))}function mE(t){let r={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(r,{element:E.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(r,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(r,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),r}var pE=["HydrateFallback","hydrateFallbackElement"],gE=class{constructor(){this.status="pending",this.promise=new Promise((r,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",r(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}};function vE({router:t,flushSync:r,unstable_onError:a}){let[s,o]=E.useState(t.state),[c,u]=E.useState(),[d,p]=E.useState({isTransitioning:!1}),[h,y]=E.useState(),[g,w]=E.useState(),[_,S]=E.useState(),T=E.useRef(new Map),R=E.useCallback(C=>{o(D=>(C.errors&&a&&Object.entries(C.errors).forEach(([H,ae])=>{D.errors?.[H]!==ae&&a(ae)}),C))},[a]),N=E.useCallback((C,{deletedFetchers:D,flushSync:H,viewTransitionOpts:ae})=>{C.fetchers.forEach((Ne,he)=>{Ne.data!==void 0&&T.current.set(he,Ne.data)}),D.forEach(Ne=>T.current.delete(Ne)),m0(H===!1||r!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let fe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(m0(ae==null||fe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ae||!fe){r&&H?r(()=>R(C)):E.startTransition(()=>R(C));return}if(r&&H){r(()=>{g&&(h&&h.resolve(),g.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation})});let Ne=t.window.document.startViewTransition(()=>{r(()=>R(C))});Ne.finished.finally(()=>{r(()=>{y(void 0),w(void 0),u(void 0),p({isTransitioning:!1})})}),r(()=>w(Ne));return}g?(h&&h.resolve(),g.skipTransition(),S({state:C,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation})):(u(C),p({isTransitioning:!0,flushSync:!1,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation}))},[t.window,r,g,h,R]);E.useLayoutEffect(()=>t.subscribe(N),[t,N]),E.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new gE)},[d]),E.useEffect(()=>{if(h&&c&&t.window){let C=c,D=h.promise,H=t.window.document.startViewTransition(async()=>{E.startTransition(()=>R(C)),await D});H.finished.finally(()=>{y(void 0),w(void 0),u(void 0),p({isTransitioning:!1})}),w(H)}},[c,h,t.window,R]),E.useEffect(()=>{h&&c&&s.location.key===c.location.key&&h.resolve()},[h,g,s.location,c]),E.useEffect(()=>{!d.isTransitioning&&_&&(u(_.state),p({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),S(void 0))},[d.isTransitioning,_]);let O=E.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,D,H)=>t.navigate(C,{state:D,preventScrollReset:H?.preventScrollReset}),replace:(C,D,H)=>t.navigate(C,{replace:!0,state:D,preventScrollReset:H?.preventScrollReset})}),[t]),L=t.basename||"/",G=E.useMemo(()=>({router:t,navigator:O,static:!1,basename:L,unstable_onError:a}),[t,O,L,a]);return E.createElement(E.Fragment,null,E.createElement(ci.Provider,{value:G},E.createElement(Po.Provider,{value:s},E.createElement(Wy.Provider,{value:T.current},E.createElement(Ch.Provider,{value:d},E.createElement(wE,{basename:L,location:s.location,navigationType:s.historyAction,navigator:O},E.createElement(yE,{routes:t.routes,future:t.future,state:s,unstable_onError:a})))))),null)}var yE=E.memo(bE);function bE({routes:t,future:r,state:a,unstable_onError:s}){return nE(t,void 0,a,s,r)}function xE(t){return eE(t.context)}function wE({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:o,static:c=!1}){bt(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof a=="string"&&(a=na(a));let{pathname:p="/",search:h="",hash:y="",state:g=null,key:w="default"}=a,_=E.useMemo(()=>{let S=cr(p,u);return S==null?null:{location:{pathname:S,search:h,hash:y,state:g,key:w},navigationType:s}},[u,p,h,y,g,w,s]);return Zt(_!=null,`<Router basename="${u}"> is not able to match the URL "${p}${h}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:E.createElement(Or.Provider,{value:d},E.createElement(Vc.Provider,{children:r,value:_}))}var Ec="get",jc="application/x-www-form-urlencoded";function Yc(t){return t!=null&&typeof t.tagName=="string"}function _E(t){return Yc(t)&&t.tagName.toLowerCase()==="button"}function SE(t){return Yc(t)&&t.tagName.toLowerCase()==="form"}function EE(t){return Yc(t)&&t.tagName.toLowerCase()==="input"}function jE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NE(t,r){return t.button===0&&(!r||r==="_self")&&!jE(t)}var sc=null;function TE(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var AE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _f(t){return t!=null&&!AE.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):t}function RE(t,r){let a,s,o,c,u;if(SE(t)){let d=t.getAttribute("action");s=d?cr(d,r):null,a=t.getAttribute("method")||Ec,o=_f(t.getAttribute("enctype"))||jc,c=new FormData(t)}else if(_E(t)||EE(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(s=p?cr(p,r):null,a=t.getAttribute("formmethod")||d.getAttribute("method")||Ec,o=_f(t.getAttribute("formenctype"))||_f(d.getAttribute("enctype"))||jc,c=new FormData(d,t),!TE()){let{name:h,type:y,value:g}=t;if(y==="image"){let w=h?`${h}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else h&&c.append(h,g)}}else{if(Yc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ec,s=null,o=jc,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uh(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function CE(t,r,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${a}`:r&&cr(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function ME(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DE(t,r,a){let s=await Promise.all(t.map(async o=>{let c=r.routes[o.route.id];if(c){let u=await ME(c,a);return u.links?u.links():[]}return[]}));return zE(s.flat(1).filter(OE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p0(t,r,a,s,o,c){let u=(p,h)=>a[h]?p.route.id!==a[h].route.id:!0,d=(p,h)=>a[h].pathname!==p.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==p.params["*"];return c==="assets"?r.filter((p,h)=>u(p,h)||d(p,h)):c==="data"?r.filter((p,h)=>{let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,h)||d(p,h))return!0;if(p.route.shouldRevalidate){let g=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function kE(t,r,{includeHydrateFallback:a}={}){return UE(t.map(s=>{let o=r.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function UE(t){return[...new Set(t)]}function LE(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function zE(t,r){let a=new Set;return new Set(r),t.reduce((s,o)=>{let c=JSON.stringify(LE(o));return a.has(c)||(a.add(c),s.push({key:c,link:o})),s},[])}function Jy(){let t=E.useContext(ci);return Uh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BE(){let t=E.useContext(Po);return Uh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lh=E.createContext(void 0);Lh.displayName="FrameworkContext";function eb(){let t=E.useContext(Lh);return Uh(t,"You must render this element inside a <HydratedRouter> element"),t}function PE(t,r){let a=E.useContext(Lh),[s,o]=E.useState(!1),[c,u]=E.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:h,onMouseLeave:y,onTouchStart:g}=r,w=E.useRef(null);E.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let T=N=>{N.forEach(O=>{u(O.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(s){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[s]);let _=()=>{o(!0)},S=()=>{o(!1),u(!1)};return a?t!=="intent"?[c,w,{}]:[c,w,{onFocus:vo(d,_),onBlur:vo(p,S),onMouseEnter:vo(h,_),onMouseLeave:vo(y,S),onTouchStart:vo(g,_)}]:[!1,w,{}]}function vo(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function $E({page:t,...r}){let{router:a}=Jy(),s=E.useMemo(()=>Ra(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?E.createElement(HE,{page:t,matches:s,...r}):null}function IE(t){let{manifest:r,routeModules:a}=eb(),[s,o]=E.useState([]);return E.useEffect(()=>{let c=!1;return DE(t,r,a).then(u=>{c||o(u)}),()=>{c=!0}},[t,r,a]),s}function HE({page:t,matches:r,...a}){let s=ui(),{manifest:o,routeModules:c}=eb(),{basename:u}=Jy(),{loaderData:d,matches:p}=BE(),h=E.useMemo(()=>p0(t,r,p,o,s,"data"),[t,r,p,o,s]),y=E.useMemo(()=>p0(t,r,p,o,s,"assets"),[t,r,p,o,s]),g=E.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,T=!1;if(r.forEach(N=>{let O=o.routes[N.route.id];!O||!O.hasLoader||(!h.some(L=>L.route.id===N.route.id)&&N.route.id in d&&c[N.route.id]?.shouldRevalidate||O.hasClientLoader?T=!0:S.add(N.route.id))}),S.size===0)return[];let R=CE(t,u,"data");return T&&S.size>0&&R.searchParams.set("_routes",r.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[u,d,s,o,h,r,t,c]),w=E.useMemo(()=>kE(y,o),[y,o]),_=IE(y);return E.createElement(E.Fragment,null,g.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),w.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),_.map(({key:S,link:T})=>E.createElement("link",{key:S,nonce:a.nonce,...T})))}function qE(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tb&&(window.__reactRouterVersion="7.9.3")}catch{}function FE(t,r){return TS({basename:r?.basename,getContext:r?.getContext,future:r?.future,history:V1({window:r?.window}),hydrationData:GE(),routes:t,mapRouteProperties:mE,hydrationRouteProperties:pE,dataStrategy:r?.dataStrategy,patchRoutesOnNavigation:r?.patchRoutesOnNavigation,window:r?.window}).initialize()}function GE(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:VE(t.errors)}),t}function VE(t){if(!t)return null;let r=Object.entries(t),a={};for(let[s,o]of r)if(o&&o.__type==="RouteErrorResponse")a[s]=new Oc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let c=window[o.__subType];if(typeof c=="function")try{let u=new c(o.message);u.stack="",a[s]=u}catch{}}if(a[s]==null){let c=new Error(o.message);c.stack="",a[s]=c}}else a[s]=o;return a}var nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kc=E.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:d,target:p,to:h,preventScrollReset:y,viewTransition:g,...w},_){let{basename:S}=E.useContext(Or),T=typeof h=="string"&&nb.test(h),R,N=!1;if(typeof h=="string"&&T&&(R=h,tb))try{let fe=new URL(window.location.href),Ne=h.startsWith("//")?new URL(fe.protocol+h):new URL(h),he=cr(Ne.pathname,S);Ne.origin===fe.origin&&he!=null?h=he+Ne.search+Ne.hash:N=!0}catch{Zt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=QS(h,{relative:o}),[L,G,C]=PE(s,w),D=XE(h,{replace:u,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:g});function H(fe){r&&r(fe),fe.defaultPrevented||D(fe)}let ae=E.createElement("a",{...w,...C,href:R||O,onClick:N||c?r:H,ref:qE(_,G),target:p,"data-discover":!T&&a==="render"?"true":void 0});return L&&!T?E.createElement(E.Fragment,null,ae,E.createElement($E,{page:O})):ae});Kc.displayName="Link";var YE=E.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:d,children:p,...h},y){let g=Io(u,{relative:h.relative}),w=ui(),_=E.useContext(Po),{navigator:S,basename:T}=E.useContext(Or),R=_!=null&&tj(g)&&d===!0,N=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=w.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;a||(O=O.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&T&&(L=cr(L,T)||L);const G=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let C=O===N||!o&&O.startsWith(N)&&O.charAt(G)==="/",D=L!=null&&(L===N||!o&&L.startsWith(N)&&L.charAt(N.length)==="/"),H={isActive:C,isPending:D,isTransitioning:R},ae=C?r:void 0,fe;typeof s=="function"?fe=s(H):fe=[s,C?"active":null,D?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof c=="function"?c(H):c;return E.createElement(Kc,{...h,"aria-current":ae,className:fe,ref:y,style:Ne,to:u,viewTransition:d},typeof p=="function"?p(H):p)});YE.displayName="NavLink";var KE=E.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:o,state:c,method:u=Ec,action:d,onSubmit:p,relative:h,preventScrollReset:y,viewTransition:g,...w},_)=>{let S=JE(),T=ej(d,{relative:h}),R=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&nb.test(d),O=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let G=L.nativeEvent.submitter,C=G?.getAttribute("formmethod")||u;S(G||L.currentTarget,{fetcherKey:r,method:C,navigate:a,replace:o,state:c,relative:h,preventScrollReset:y,viewTransition:g})};return E.createElement("form",{ref:_,method:R,action:T,onSubmit:s?p:O,...w,"data-discover":!N&&t==="render"?"true":void 0})});KE.displayName="Form";function WE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(t){let r=E.useContext(ci);return bt(r,WE(t)),r}function XE(t,{target:r,replace:a,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let d=Oh(),p=ui(),h=Io(t,{relative:c});return E.useCallback(y=>{if(NE(y,r)){y.preventDefault();let g=a!==void 0?a:Oa(p)===Oa(h);d(t,{replace:g,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[p,d,h,a,s,r,t,o,c,u])}var QE=0,ZE=()=>`__${String(++QE)}__`;function JE(){let{router:t}=rb("useSubmit"),{basename:r}=E.useContext(Or),a=dE();return E.useCallback(async(s,o={})=>{let{action:c,method:u,encType:d,formData:p,body:h}=RE(s,r);if(o.navigate===!1){let y=o.fetcherKey||ZE();await t.fetch(y,a,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:h,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,r,a])}function ej(t,{relative:r}={}){let{basename:a}=E.useContext(Or),s=E.useContext(vr);bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Io(t||".",{relative:r})},u=ui();if(t==null){c.search=u.search;let d=new URLSearchParams(c.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(g=>g).forEach(g=>d.append("index",g));let y=d.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Ar([a,c.pathname])),Oa(c)}function tj(t,{relative:r}={}){let a=E.useContext(Ch);bt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rb("useViewTransitionState"),o=Io(t,{relative:r});if(!a.isTransitioning)return!1;let c=cr(a.currentLocation.pathname,s)||a.currentLocation.pathname,u=cr(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Mc(o.pathname,u)!=null||Mc(o.pathname,c)!=null}function nj(t){return E.createElement(vE,{flushSync:Gc.flushSync,...t})}var Sf={},yo={},g0;function rj(){if(g0)return yo;g0=1,yo.byteLength=d,yo.toByteArray=h,yo.fromByteArray=w;for(var t=[],r=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=s.length;o<c;++o)t[o]=s[o],r[s.charCodeAt(o)]=o;r[45]=62,r[95]=63;function u(_){var S=_.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=_.indexOf("=");T===-1&&(T=S);var R=T===S?0:4-T%4;return[T,R]}function d(_){var S=u(_),T=S[0],R=S[1];return(T+R)*3/4-R}function p(_,S,T){return(S+T)*3/4-T}function h(_){var S,T=u(_),R=T[0],N=T[1],O=new a(p(_,R,N)),L=0,G=N>0?R-4:R,C;for(C=0;C<G;C+=4)S=r[_.charCodeAt(C)]<<18|r[_.charCodeAt(C+1)]<<12|r[_.charCodeAt(C+2)]<<6|r[_.charCodeAt(C+3)],O[L++]=S>>16&255,O[L++]=S>>8&255,O[L++]=S&255;return N===2&&(S=r[_.charCodeAt(C)]<<2|r[_.charCodeAt(C+1)]>>4,O[L++]=S&255),N===1&&(S=r[_.charCodeAt(C)]<<10|r[_.charCodeAt(C+1)]<<4|r[_.charCodeAt(C+2)]>>2,O[L++]=S>>8&255,O[L++]=S&255),O}function y(_){return t[_>>18&63]+t[_>>12&63]+t[_>>6&63]+t[_&63]}function g(_,S,T){for(var R,N=[],O=S;O<T;O+=3)R=(_[O]<<16&16711680)+(_[O+1]<<8&65280)+(_[O+2]&255),N.push(y(R));return N.join("")}function w(_){for(var S,T=_.length,R=T%3,N=[],O=16383,L=0,G=T-R;L<G;L+=O)N.push(g(_,L,L+O>G?G:L+O));return R===1?(S=_[T-1],N.push(t[S>>2]+t[S<<4&63]+"==")):R===2&&(S=(_[T-2]<<8)+_[T-1],N.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),N.join("")}return yo}var oc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var v0;function aj(){return v0||(v0=1,oc.read=function(t,r,a,s,o){var c,u,d=o*8-s-1,p=(1<<d)-1,h=p>>1,y=-7,g=a?o-1:0,w=a?-1:1,_=t[r+g];for(g+=w,c=_&(1<<-y)-1,_>>=-y,y+=d;y>0;c=c*256+t[r+g],g+=w,y-=8);for(u=c&(1<<-y)-1,c>>=-y,y+=s;y>0;u=u*256+t[r+g],g+=w,y-=8);if(c===0)c=1-h;else{if(c===p)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,s),c=c-h}return(_?-1:1)*u*Math.pow(2,c-s)},oc.write=function(t,r,a,s,o,c){var u,d,p,h=c*8-o-1,y=(1<<h)-1,g=y>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=s?0:c-1,S=s?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(d=isNaN(r)?1:0,u=y):(u=Math.floor(Math.log(r)/Math.LN2),r*(p=Math.pow(2,-u))<1&&(u--,p*=2),u+g>=1?r+=w/p:r+=w*Math.pow(2,1-g),r*p>=2&&(u++,p/=2),u+g>=y?(d=0,u=y):u+g>=1?(d=(r*p-1)*Math.pow(2,o),u=u+g):(d=r*Math.pow(2,g-1)*Math.pow(2,o),u=0));o>=8;t[a+_]=d&255,_+=S,d/=256,o-=8);for(u=u<<o|d,h+=o;h>0;t[a+_]=u&255,_+=S,u/=256,h-=8);t[a+_-S]|=T*128}),oc}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var y0;function ij(){return y0||(y0=1,(function(t){const r=rj(),a=aj(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const A=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(A,b),A.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(A){if(A>o)throw new RangeError('The value "'+A+'" is invalid for option "size"');const b=new Uint8Array(A);return Object.setPrototypeOf(b,d.prototype),b}function d(A,b,x){if(typeof A=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(A)}return p(A,b,x)}d.poolSize=8192;function p(A,b,x){if(typeof A=="string")return w(A,b);if(ArrayBuffer.isView(A))return S(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(Oe(A,ArrayBuffer)||A&&Oe(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe(A,SharedArrayBuffer)||A&&Oe(A.buffer,SharedArrayBuffer)))return T(A,b,x);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=A.valueOf&&A.valueOf();if(k!=null&&k!==A)return d.from(k,b,x);const q=R(A);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return d.from(A[Symbol.toPrimitive]("string"),b,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}d.from=function(A,b,x){return p(A,b,x)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function h(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function y(A,b,x){return h(A),A<=0?u(A):b!==void 0?typeof x=="string"?u(A).fill(b,x):u(A).fill(b):u(A)}d.alloc=function(A,b,x){return y(A,b,x)};function g(A){return h(A),u(A<0?0:N(A)|0)}d.allocUnsafe=function(A){return g(A)},d.allocUnsafeSlow=function(A){return g(A)};function w(A,b){if((typeof b!="string"||b==="")&&(b="utf8"),!d.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const x=L(A,b)|0;let k=u(x);const q=k.write(A,b);return q!==x&&(k=k.slice(0,q)),k}function _(A){const b=A.length<0?0:N(A.length)|0,x=u(b);for(let k=0;k<b;k+=1)x[k]=A[k]&255;return x}function S(A){if(Oe(A,Uint8Array)){const b=new Uint8Array(A);return T(b.buffer,b.byteOffset,b.byteLength)}return _(A)}function T(A,b,x){if(b<0||A.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<b+(x||0))throw new RangeError('"length" is outside of buffer bounds');let k;return b===void 0&&x===void 0?k=new Uint8Array(A):x===void 0?k=new Uint8Array(A,b):k=new Uint8Array(A,b,x),Object.setPrototypeOf(k,d.prototype),k}function R(A){if(d.isBuffer(A)){const b=N(A.length)|0,x=u(b);return x.length===0||A.copy(x,0,0,b),x}if(A.length!==void 0)return typeof A.length!="number"||He(A.length)?u(0):_(A);if(A.type==="Buffer"&&Array.isArray(A.data))return _(A.data)}function N(A){if(A>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return A|0}function O(A){return+A!=A&&(A=0),d.alloc(+A)}d.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==d.prototype},d.compare=function(b,x){if(Oe(b,Uint8Array)&&(b=d.from(b,b.offset,b.byteLength)),Oe(x,Uint8Array)&&(x=d.from(x,x.offset,x.byteLength)),!d.isBuffer(b)||!d.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===x)return 0;let k=b.length,q=x.length;for(let W=0,ue=Math.min(k,q);W<ue;++W)if(b[W]!==x[W]){k=b[W],q=x[W];break}return k<q?-1:q<k?1:0},d.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(b,x){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return d.alloc(0);let k;if(x===void 0)for(x=0,k=0;k<b.length;++k)x+=b[k].length;const q=d.allocUnsafe(x);let W=0;for(k=0;k<b.length;++k){let ue=b[k];if(Oe(ue,Uint8Array))W+ue.length>q.length?(d.isBuffer(ue)||(ue=d.from(ue)),ue.copy(q,W)):Uint8Array.prototype.set.call(q,ue,W);else if(d.isBuffer(ue))ue.copy(q,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=ue.length}return q};function L(A,b){if(d.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||Oe(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const x=A.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&x===0)return 0;let q=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return dt(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return Te(A).length;default:if(q)return k?-1:dt(A).length;b=(""+b).toLowerCase(),q=!0}}d.byteLength=L;function G(A,b,x){let k=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,b>>>=0,x<=b))return"";for(A||(A="utf8");;)switch(A){case"hex":return ge(this,b,x);case"utf8":case"utf-8":return Se(this,b,x);case"ascii":return ne(this,b,x);case"latin1":case"binary":return se(this,b,x);case"base64":return ce(this,b,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,b,x);default:if(k)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),k=!0}}d.prototype._isBuffer=!0;function C(A,b,x){const k=A[b];A[b]=A[x],A[x]=k}d.prototype.swap16=function(){const b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<b;x+=2)C(this,x,x+1);return this},d.prototype.swap32=function(){const b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<b;x+=4)C(this,x,x+3),C(this,x+1,x+2);return this},d.prototype.swap64=function(){const b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<b;x+=8)C(this,x,x+7),C(this,x+1,x+6),C(this,x+2,x+5),C(this,x+3,x+4);return this},d.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?Se(this,0,b):G.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(b){if(!d.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:d.compare(this,b)===0},d.prototype.inspect=function(){let b="";const x=t.INSPECT_MAX_BYTES;return b=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(b+=" ... "),"<Buffer "+b+">"},s&&(d.prototype[s]=d.prototype.inspect),d.prototype.compare=function(b,x,k,q,W){if(Oe(b,Uint8Array)&&(b=d.from(b,b.offset,b.byteLength)),!d.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(x===void 0&&(x=0),k===void 0&&(k=b?b.length:0),q===void 0&&(q=0),W===void 0&&(W=this.length),x<0||k>b.length||q<0||W>this.length)throw new RangeError("out of range index");if(q>=W&&x>=k)return 0;if(q>=W)return-1;if(x>=k)return 1;if(x>>>=0,k>>>=0,q>>>=0,W>>>=0,this===b)return 0;let ue=W-q,Ve=k-x;const nt=Math.min(ue,Ve),ct=this.slice(q,W),ft=b.slice(x,k);for(let $e=0;$e<nt;++$e)if(ct[$e]!==ft[$e]){ue=ct[$e],Ve=ft[$e];break}return ue<Ve?-1:Ve<ue?1:0};function D(A,b,x,k,q){if(A.length===0)return-1;if(typeof x=="string"?(k=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,He(x)&&(x=q?0:A.length-1),x<0&&(x=A.length+x),x>=A.length){if(q)return-1;x=A.length-1}else if(x<0)if(q)x=0;else return-1;if(typeof b=="string"&&(b=d.from(b,k)),d.isBuffer(b))return b.length===0?-1:H(A,b,x,k,q);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(A,b,x):Uint8Array.prototype.lastIndexOf.call(A,b,x):H(A,[b],x,k,q);throw new TypeError("val must be string, number or Buffer")}function H(A,b,x,k,q){let W=1,ue=A.length,Ve=b.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(A.length<2||b.length<2)return-1;W=2,ue/=2,Ve/=2,x/=2}function nt(ft,$e){return W===1?ft[$e]:ft.readUInt16BE($e*W)}let ct;if(q){let ft=-1;for(ct=x;ct<ue;ct++)if(nt(A,ct)===nt(b,ft===-1?0:ct-ft)){if(ft===-1&&(ft=ct),ct-ft+1===Ve)return ft*W}else ft!==-1&&(ct-=ct-ft),ft=-1}else for(x+Ve>ue&&(x=ue-Ve),ct=x;ct>=0;ct--){let ft=!0;for(let $e=0;$e<Ve;$e++)if(nt(A,ct+$e)!==nt(b,$e)){ft=!1;break}if(ft)return ct}return-1}d.prototype.includes=function(b,x,k){return this.indexOf(b,x,k)!==-1},d.prototype.indexOf=function(b,x,k){return D(this,b,x,k,!0)},d.prototype.lastIndexOf=function(b,x,k){return D(this,b,x,k,!1)};function ae(A,b,x,k){x=Number(x)||0;const q=A.length-x;k?(k=Number(k),k>q&&(k=q)):k=q;const W=b.length;k>W/2&&(k=W/2);let ue;for(ue=0;ue<k;++ue){const Ve=parseInt(b.substr(ue*2,2),16);if(He(Ve))return ue;A[x+ue]=Ve}return ue}function fe(A,b,x,k){return Fe(dt(b,A.length-x),A,x,k)}function Ne(A,b,x,k){return Fe(ot(b),A,x,k)}function he(A,b,x,k){return Fe(Te(b),A,x,k)}function pe(A,b,x,k){return Fe(Nt(b,A.length-x),A,x,k)}d.prototype.write=function(b,x,k,q){if(x===void 0)q="utf8",k=this.length,x=0;else if(k===void 0&&typeof x=="string")q=x,k=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(k)?(k=k>>>0,q===void 0&&(q="utf8")):(q=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const W=this.length-x;if((k===void 0||k>W)&&(k=W),b.length>0&&(k<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ue=!1;for(;;)switch(q){case"hex":return ae(this,b,x,k);case"utf8":case"utf-8":return fe(this,b,x,k);case"ascii":case"latin1":case"binary":return Ne(this,b,x,k);case"base64":return he(this,b,x,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,b,x,k);default:if(ue)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ue=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(A,b,x){return b===0&&x===A.length?r.fromByteArray(A):r.fromByteArray(A.slice(b,x))}function Se(A,b,x){x=Math.min(A.length,x);const k=[];let q=b;for(;q<x;){const W=A[q];let ue=null,Ve=W>239?4:W>223?3:W>191?2:1;if(q+Ve<=x){let nt,ct,ft,$e;switch(Ve){case 1:W<128&&(ue=W);break;case 2:nt=A[q+1],(nt&192)===128&&($e=(W&31)<<6|nt&63,$e>127&&(ue=$e));break;case 3:nt=A[q+1],ct=A[q+2],(nt&192)===128&&(ct&192)===128&&($e=(W&15)<<12|(nt&63)<<6|ct&63,$e>2047&&($e<55296||$e>57343)&&(ue=$e));break;case 4:nt=A[q+1],ct=A[q+2],ft=A[q+3],(nt&192)===128&&(ct&192)===128&&(ft&192)===128&&($e=(W&15)<<18|(nt&63)<<12|(ct&63)<<6|ft&63,$e>65535&&$e<1114112&&(ue=$e))}}ue===null?(ue=65533,Ve=1):ue>65535&&(ue-=65536,k.push(ue>>>10&1023|55296),ue=56320|ue&1023),k.push(ue),q+=Ve}return P(k)}const Ce=4096;function P(A){const b=A.length;if(b<=Ce)return String.fromCharCode.apply(String,A);let x="",k=0;for(;k<b;)x+=String.fromCharCode.apply(String,A.slice(k,k+=Ce));return x}function ne(A,b,x){let k="";x=Math.min(A.length,x);for(let q=b;q<x;++q)k+=String.fromCharCode(A[q]&127);return k}function se(A,b,x){let k="";x=Math.min(A.length,x);for(let q=b;q<x;++q)k+=String.fromCharCode(A[q]);return k}function ge(A,b,x){const k=A.length;(!b||b<0)&&(b=0),(!x||x<0||x>k)&&(x=k);let q="";for(let W=b;W<x;++W)q+=gt[A[W]];return q}function z(A,b,x){const k=A.slice(b,x);let q="";for(let W=0;W<k.length-1;W+=2)q+=String.fromCharCode(k[W]+k[W+1]*256);return q}d.prototype.slice=function(b,x){const k=this.length;b=~~b,x=x===void 0?k:~~x,b<0?(b+=k,b<0&&(b=0)):b>k&&(b=k),x<0?(x+=k,x<0&&(x=0)):x>k&&(x=k),x<b&&(x=b);const q=this.subarray(b,x);return Object.setPrototypeOf(q,d.prototype),q};function X(A,b,x){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+b>x)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(b,x,k){b=b>>>0,x=x>>>0,k||X(b,x,this.length);let q=this[b],W=1,ue=0;for(;++ue<x&&(W*=256);)q+=this[b+ue]*W;return q},d.prototype.readUintBE=d.prototype.readUIntBE=function(b,x,k){b=b>>>0,x=x>>>0,k||X(b,x,this.length);let q=this[b+--x],W=1;for(;x>0&&(W*=256);)q+=this[b+--x]*W;return q},d.prototype.readUint8=d.prototype.readUInt8=function(b,x){return b=b>>>0,x||X(b,1,this.length),this[b]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(b,x){return b=b>>>0,x||X(b,2,this.length),this[b]|this[b+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(b,x){return b=b>>>0,x||X(b,2,this.length),this[b]<<8|this[b+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(b,x){return b=b>>>0,x||X(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(b,x){return b=b>>>0,x||X(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},d.prototype.readBigUInt64LE=xt(function(b){b=b>>>0,Qe(b,"offset");const x=this[b],k=this[b+7];(x===void 0||k===void 0)&&Ke(b,this.length-8);const q=x+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,W=this[++b]+this[++b]*2**8+this[++b]*2**16+k*2**24;return BigInt(q)+(BigInt(W)<<BigInt(32))}),d.prototype.readBigUInt64BE=xt(function(b){b=b>>>0,Qe(b,"offset");const x=this[b],k=this[b+7];(x===void 0||k===void 0)&&Ke(b,this.length-8);const q=x*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],W=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+k;return(BigInt(q)<<BigInt(32))+BigInt(W)}),d.prototype.readIntLE=function(b,x,k){b=b>>>0,x=x>>>0,k||X(b,x,this.length);let q=this[b],W=1,ue=0;for(;++ue<x&&(W*=256);)q+=this[b+ue]*W;return W*=128,q>=W&&(q-=Math.pow(2,8*x)),q},d.prototype.readIntBE=function(b,x,k){b=b>>>0,x=x>>>0,k||X(b,x,this.length);let q=x,W=1,ue=this[b+--q];for(;q>0&&(W*=256);)ue+=this[b+--q]*W;return W*=128,ue>=W&&(ue-=Math.pow(2,8*x)),ue},d.prototype.readInt8=function(b,x){return b=b>>>0,x||X(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},d.prototype.readInt16LE=function(b,x){b=b>>>0,x||X(b,2,this.length);const k=this[b]|this[b+1]<<8;return k&32768?k|4294901760:k},d.prototype.readInt16BE=function(b,x){b=b>>>0,x||X(b,2,this.length);const k=this[b+1]|this[b]<<8;return k&32768?k|4294901760:k},d.prototype.readInt32LE=function(b,x){return b=b>>>0,x||X(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},d.prototype.readInt32BE=function(b,x){return b=b>>>0,x||X(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},d.prototype.readBigInt64LE=xt(function(b){b=b>>>0,Qe(b,"offset");const x=this[b],k=this[b+7];(x===void 0||k===void 0)&&Ke(b,this.length-8);const q=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(k<<24);return(BigInt(q)<<BigInt(32))+BigInt(x+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),d.prototype.readBigInt64BE=xt(function(b){b=b>>>0,Qe(b,"offset");const x=this[b],k=this[b+7];(x===void 0||k===void 0)&&Ke(b,this.length-8);const q=(x<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(q)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+k)}),d.prototype.readFloatLE=function(b,x){return b=b>>>0,x||X(b,4,this.length),a.read(this,b,!0,23,4)},d.prototype.readFloatBE=function(b,x){return b=b>>>0,x||X(b,4,this.length),a.read(this,b,!1,23,4)},d.prototype.readDoubleLE=function(b,x){return b=b>>>0,x||X(b,8,this.length),a.read(this,b,!0,52,8)},d.prototype.readDoubleBE=function(b,x){return b=b>>>0,x||X(b,8,this.length),a.read(this,b,!1,52,8)};function ye(A,b,x,k,q,W){if(!d.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>q||b<W)throw new RangeError('"value" argument is out of bounds');if(x+k>A.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(b,x,k,q){if(b=+b,x=x>>>0,k=k>>>0,!q){const Ve=Math.pow(2,8*k)-1;ye(this,b,x,k,Ve,0)}let W=1,ue=0;for(this[x]=b&255;++ue<k&&(W*=256);)this[x+ue]=b/W&255;return x+k},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(b,x,k,q){if(b=+b,x=x>>>0,k=k>>>0,!q){const Ve=Math.pow(2,8*k)-1;ye(this,b,x,k,Ve,0)}let W=k-1,ue=1;for(this[x+W]=b&255;--W>=0&&(ue*=256);)this[x+W]=b/ue&255;return x+k},d.prototype.writeUint8=d.prototype.writeUInt8=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,1,255,0),this[x]=b&255,x+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,2,65535,0),this[x]=b&255,this[x+1]=b>>>8,x+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,2,65535,0),this[x]=b>>>8,this[x+1]=b&255,x+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,4,4294967295,0),this[x+3]=b>>>24,this[x+2]=b>>>16,this[x+1]=b>>>8,this[x]=b&255,x+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,4,4294967295,0),this[x]=b>>>24,this[x+1]=b>>>16,this[x+2]=b>>>8,this[x+3]=b&255,x+4};function oe(A,b,x,k,q){Xe(b,k,q,A,x,7);let W=Number(b&BigInt(4294967295));A[x++]=W,W=W>>8,A[x++]=W,W=W>>8,A[x++]=W,W=W>>8,A[x++]=W;let ue=Number(b>>BigInt(32)&BigInt(4294967295));return A[x++]=ue,ue=ue>>8,A[x++]=ue,ue=ue>>8,A[x++]=ue,ue=ue>>8,A[x++]=ue,x}function Y(A,b,x,k,q){Xe(b,k,q,A,x,7);let W=Number(b&BigInt(4294967295));A[x+7]=W,W=W>>8,A[x+6]=W,W=W>>8,A[x+5]=W,W=W>>8,A[x+4]=W;let ue=Number(b>>BigInt(32)&BigInt(4294967295));return A[x+3]=ue,ue=ue>>8,A[x+2]=ue,ue=ue>>8,A[x+1]=ue,ue=ue>>8,A[x]=ue,x+8}d.prototype.writeBigUInt64LE=xt(function(b,x=0){return oe(this,b,x,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=xt(function(b,x=0){return Y(this,b,x,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(b,x,k,q){if(b=+b,x=x>>>0,!q){const nt=Math.pow(2,8*k-1);ye(this,b,x,k,nt-1,-nt)}let W=0,ue=1,Ve=0;for(this[x]=b&255;++W<k&&(ue*=256);)b<0&&Ve===0&&this[x+W-1]!==0&&(Ve=1),this[x+W]=(b/ue>>0)-Ve&255;return x+k},d.prototype.writeIntBE=function(b,x,k,q){if(b=+b,x=x>>>0,!q){const nt=Math.pow(2,8*k-1);ye(this,b,x,k,nt-1,-nt)}let W=k-1,ue=1,Ve=0;for(this[x+W]=b&255;--W>=0&&(ue*=256);)b<0&&Ve===0&&this[x+W+1]!==0&&(Ve=1),this[x+W]=(b/ue>>0)-Ve&255;return x+k},d.prototype.writeInt8=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,1,127,-128),b<0&&(b=255+b+1),this[x]=b&255,x+1},d.prototype.writeInt16LE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,2,32767,-32768),this[x]=b&255,this[x+1]=b>>>8,x+2},d.prototype.writeInt16BE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,2,32767,-32768),this[x]=b>>>8,this[x+1]=b&255,x+2},d.prototype.writeInt32LE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,4,2147483647,-2147483648),this[x]=b&255,this[x+1]=b>>>8,this[x+2]=b>>>16,this[x+3]=b>>>24,x+4},d.prototype.writeInt32BE=function(b,x,k){return b=+b,x=x>>>0,k||ye(this,b,x,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[x]=b>>>24,this[x+1]=b>>>16,this[x+2]=b>>>8,this[x+3]=b&255,x+4},d.prototype.writeBigInt64LE=xt(function(b,x=0){return oe(this,b,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=xt(function(b,x=0){return Y(this,b,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(A,b,x,k,q,W){if(x+k>A.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Z(A,b,x,k,q){return b=+b,x=x>>>0,q||Q(A,b,x,4),a.write(A,b,x,k,23,4),x+4}d.prototype.writeFloatLE=function(b,x,k){return Z(this,b,x,!0,k)},d.prototype.writeFloatBE=function(b,x,k){return Z(this,b,x,!1,k)};function be(A,b,x,k,q){return b=+b,x=x>>>0,q||Q(A,b,x,8),a.write(A,b,x,k,52,8),x+8}d.prototype.writeDoubleLE=function(b,x,k){return be(this,b,x,!0,k)},d.prototype.writeDoubleBE=function(b,x,k){return be(this,b,x,!1,k)},d.prototype.copy=function(b,x,k,q){if(!d.isBuffer(b))throw new TypeError("argument should be a Buffer");if(k||(k=0),!q&&q!==0&&(q=this.length),x>=b.length&&(x=b.length),x||(x=0),q>0&&q<k&&(q=k),q===k||b.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),b.length-x<q-k&&(q=b.length-x+k);const W=q-k;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,k,q):Uint8Array.prototype.set.call(b,this.subarray(k,q),x),W},d.prototype.fill=function(b,x,k,q){if(typeof b=="string"){if(typeof x=="string"?(q=x,x=0,k=this.length):typeof k=="string"&&(q=k,k=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!d.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(b.length===1){const ue=b.charCodeAt(0);(q==="utf8"&&ue<128||q==="latin1")&&(b=ue)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(x<0||this.length<x||this.length<k)throw new RangeError("Out of range index");if(k<=x)return this;x=x>>>0,k=k===void 0?this.length:k>>>0,b||(b=0);let W;if(typeof b=="number")for(W=x;W<k;++W)this[W]=b;else{const ue=d.isBuffer(b)?b:d.from(b,q),Ve=ue.length;if(Ve===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(W=0;W<k-x;++W)this[W+x]=ue[W%Ve]}return this};const le={};function Ae(A,b,x){le[A]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ae("ERR_INVALID_ARG_TYPE",function(A,b){return`The "${A}" argument must be of type number. Received type ${typeof b}`},TypeError),Ae("ERR_OUT_OF_RANGE",function(A,b,x){let k=`The value of "${A}" is out of range.`,q=x;return Number.isInteger(x)&&Math.abs(x)>2**32?q=qe(String(x)):typeof x=="bigint"&&(q=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(q=qe(q)),q+="n"),k+=` It must be ${b}. Received ${q}`,k},RangeError);function qe(A){let b="",x=A.length;const k=A[0]==="-"?1:0;for(;x>=k+4;x-=3)b=`_${A.slice(x-3,x)}${b}`;return`${A.slice(0,x)}${b}`}function Ie(A,b,x){Qe(b,"offset"),(A[b]===void 0||A[b+x]===void 0)&&Ke(b,A.length-(x+1))}function Xe(A,b,x,k,q,W){if(A>x||A<b){const ue=typeof b=="bigint"?"n":"";let Ve;throw b===0||b===BigInt(0)?Ve=`>= 0${ue} and < 2${ue} ** ${(W+1)*8}${ue}`:Ve=`>= -(2${ue} ** ${(W+1)*8-1}${ue}) and < 2 ** ${(W+1)*8-1}${ue}`,new le.ERR_OUT_OF_RANGE("value",Ve,A)}Ie(k,q,W)}function Qe(A,b){if(typeof A!="number")throw new le.ERR_INVALID_ARG_TYPE(b,"number",A)}function Ke(A,b,x){throw Math.floor(A)!==A?(Qe(A,x),new le.ERR_OUT_OF_RANGE("offset","an integer",A)):b<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${b}`,A)}const St=/[^+/0-9A-Za-z-_]/g;function $t(A){if(A=A.split("=")[0],A=A.trim().replace(St,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function dt(A,b){b=b||1/0;let x;const k=A.length;let q=null;const W=[];for(let ue=0;ue<k;++ue){if(x=A.charCodeAt(ue),x>55295&&x<57344){if(!q){if(x>56319){(b-=3)>-1&&W.push(239,191,189);continue}else if(ue+1===k){(b-=3)>-1&&W.push(239,191,189);continue}q=x;continue}if(x<56320){(b-=3)>-1&&W.push(239,191,189),q=x;continue}x=(q-55296<<10|x-56320)+65536}else q&&(b-=3)>-1&&W.push(239,191,189);if(q=null,x<128){if((b-=1)<0)break;W.push(x)}else if(x<2048){if((b-=2)<0)break;W.push(x>>6|192,x&63|128)}else if(x<65536){if((b-=3)<0)break;W.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((b-=4)<0)break;W.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return W}function ot(A){const b=[];for(let x=0;x<A.length;++x)b.push(A.charCodeAt(x)&255);return b}function Nt(A,b){let x,k,q;const W=[];for(let ue=0;ue<A.length&&!((b-=2)<0);++ue)x=A.charCodeAt(ue),k=x>>8,q=x%256,W.push(q),W.push(k);return W}function Te(A){return r.toByteArray($t(A))}function Fe(A,b,x,k){let q;for(q=0;q<k&&!(q+x>=b.length||q>=A.length);++q)b[q+x]=A[q];return q}function Oe(A,b){return A instanceof b||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===b.name}function He(A){return A!==A}const gt=(function(){const A="0123456789abcdef",b=new Array(256);for(let x=0;x<16;++x){const k=x*16;for(let q=0;q<16;++q)b[k+q]=A[x]+A[q]}return b})();function xt(A){return typeof BigInt>"u"?lt:A}function lt(){throw new Error("BigInt not supported")}})(Sf)),Sf}var sj=ij(),Ef={exports:{}},b0;function oj(){if(b0)return Ef.exports;b0=1;var t=Ef.exports={},r,a;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=s}catch{r=s}try{typeof clearTimeout=="function"?a=clearTimeout:a=o}catch{a=o}})();function c(T){if(r===setTimeout)return setTimeout(T,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(T,0);try{return r(T,0)}catch{try{return r.call(null,T,0)}catch{return r.call(this,T,0)}}}function u(T){if(a===clearTimeout)return clearTimeout(T);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(T);try{return a(T)}catch{try{return a.call(null,T)}catch{return a.call(this,T)}}}var d=[],p=!1,h,y=-1;function g(){!p||!h||(p=!1,h.length?d=h.concat(d):y=-1,d.length&&w())}function w(){if(!p){var T=c(g);p=!0;for(var R=d.length;R;){for(h=d,d=[];++y<R;)h&&h[y].run();y=-1,R=d.length}h=null,p=!1,u(T)}}t.nextTick=function(T){var R=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)R[N-1]=arguments[N];d.push(new _(T,R)),d.length===1&&!p&&c(w)};function _(T,R){this.fun=T,this.array=R}_.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function S(){}return t.on=S,t.addListener=S,t.once=S,t.off=S,t.removeListener=S,t.removeAllListeners=S,t.emit=S,t.prependListener=S,t.prependOnceListener=S,t.listeners=function(T){return[]},t.binding=function(T){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(T){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ef.exports}var lj=oj();const cj=Bo(lj),uj="/preventivatore/assets/x-infissi-logo-Cv6BEoAX.png";function dj(){return m.jsxs("div",{className:"min-h-screen font-sans",children:[m.jsx("header",{className:"sticky top-0 z-20 bg-white/80 backdrop-blur border-b",children:m.jsxs("div",{className:"container-page py-3 flex items-center justify-between",children:[m.jsx(Kc,{to:"/",className:"font-semibold tracking-tight",children:m.jsx("img",{src:uj,alt:"X Infissi",className:"h-7 w-auto md:h-8 select-none pointer-events-none"})}),m.jsx("nav",{className:"text-sm text-gray-600",children:"versione 0.1"})]})}),m.jsx("main",{className:"container-page py-6",children:m.jsx(xE,{})})]})}const fj="modulepreload",hj=function(t){return"/preventivatore/"+t},x0={},ii=function(r,a,s){let o=Promise.resolve();if(a&&a.length>0){let p=function(h){return Promise.all(h.map(y=>Promise.resolve(y).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=p(a.map(h=>{if(h=hj(h),h in x0)return;x0[h]=!0;const y=h.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":fj,y||(w.as="script"),w.crossOrigin="",w.href=h,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((_,S)=>{w.addEventListener("load",_),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&c(d.reason);return r().catch(c)})},mj=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>gs);return{default:s}},[]).then(({default:s})=>s(...a)):r=fetch,(...a)=>r(...a)};class zh extends Error{constructor(r,a="FunctionsError",s){super(r),this.name=a,this.context=s}}class w0 extends zh{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class _0 extends zh{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class S0 extends zh{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var th;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(th||(th={}));var pj=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};class gj{constructor(r,{headers:a={},customFetch:s,region:o=th.Any}={}){this.url=r,this.headers=a,this.region=o,this.fetch=mj(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,a={}){var s;return pj(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u,signal:d}=a;let p={},{region:h}=a;h||(h=this.region);const y=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)));const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:g,signal:d}).catch(R=>{throw R.name==="AbortError"?R:new w0(R)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new _0(w);if(!w.ok)throw new S0(w);let S=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),T;return S==="application/json"?T=yield w.json():S==="application/octet-stream"?T=yield w.blob():S==="text/event-stream"?T=w:S==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new w0(o)}:{data:null,error:o,response:o instanceof S0||o instanceof _0?o.context:void 0}}})}}var fn={},Vi={},Yi={},Ki={},Wi={},Xi={},vj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fs=vj();const yj=fs.fetch,ab=fs.fetch.bind(fs),ib=fs.Headers,bj=fs.Request,xj=fs.Response,gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ib,Request:bj,Response:xj,default:ab,fetch:yj},Symbol.toStringTag,{value:"Module"})),wj=s1(gs);var lc={},E0;function sb(){if(E0)return lc;E0=1,Object.defineProperty(lc,"__esModule",{value:!0});class t extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return lc.default=t,lc}var j0;function ob(){if(j0)return Xi;j0=1;var t=Xi&&Xi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xi,"__esModule",{value:!0});const r=t(wj),a=t(sb());class s{constructor(c){var u,d;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(d=c.isMaybeSingle)!==null&&d!==void 0?d:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var y,g,w,_;let S=null,T=null,R=null,N=h.status,O=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?T=D:T=JSON.parse(D))}const G=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),C=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");G&&C&&C.length>1&&(R=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,R=null,N=406,O="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const G=await h.text();try{S=JSON.parse(G),Array.isArray(S)&&h.status===404&&(T=[],S=null,N=200,O="OK")}catch{h.status===404&&G===""?(N=204,O="No Content"):S={message:G}}if(S&&this.isMaybeSingle&&(!((_=S?.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,N=200,O="OK"),S&&this.shouldThrowOnError)throw new a.default(S)}return{error:S,data:T,count:R,status:N,statusText:O}});return this.shouldThrowOnError||(p=p.catch(h=>{var y,g,w;return{error:{message:`${(y=h?.name)!==null&&y!==void 0?y:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(w=h?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return Xi.default=s,Xi}var N0;function lb(){if(N0)return Wi;N0=1;var t=Wi&&Wi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Wi,"__esModule",{value:!0});const r=t(ob());class a extends r.default{select(o){let c=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:d,referencedTable:p=d}={}){const h=p?`${p}.order`:"order",y=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(h,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:d=!1,wal:p=!1,format:h="text"}={}){var y;const g=[o?"analyze":null,c?"verbose":null,u?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Wi.default=a,Wi}var T0;function Bh(){if(T0)return Ki;T0=1;var t=Ki&&Ki.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ki,"__esModule",{value:!0});const r=t(lb());class a extends r.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${h}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Ki.default=a,Ki}var A0;function cb(){if(A0)return Yi;A0=1;var t=Yi&&Yi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yi,"__esModule",{value:!0});const r=t(Bh());class a{constructor(o,{headers:c={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=d}select(o,{head:c=!1,count:u}={}){const d=c?"HEAD":"GET";let p=!1;const h=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var d;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const h=o.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(h.length>0){const y=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:d,defaultToNull:p=!0}={}){var h;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(g.length>0){const w=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(o,{count:c}={}){var u;const d="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Yi.default=a,Yi}var R0;function _j(){if(R0)return Vi;R0=1;var t=Vi&&Vi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Vi,"__esModule",{value:!0});const r=t(cb()),a=t(Bh());class s{constructor(c,{headers:u={},schema:d,fetch:p}={}){this.url=c,this.headers=new Headers(u),this.schemaName=d,this.fetch=p}from(c){const u=new URL(`${this.url}/${c}`);return new r.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:d=!1,get:p=!1,count:h}={}){var y;let g;const w=new URL(`${this.url}/rpc/${c}`);let _;d||p?(g=d?"HEAD":"GET",Object.entries(u).filter(([T,R])=>R!==void 0).map(([T,R])=>[T,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([T,R])=>{w.searchParams.append(T,R)})):(g="POST",_=u);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new a.default({method:g,url:w,headers:S,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Vi.default=s,Vi}var C0;function Sj(){if(C0)return fn;C0=1;var t=fn&&fn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(fn,"__esModule",{value:!0}),fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const r=t(_j());fn.PostgrestClient=r.default;const a=t(cb());fn.PostgrestQueryBuilder=a.default;const s=t(Bh());fn.PostgrestFilterBuilder=s.default;const o=t(lb());fn.PostgrestTransformBuilder=o.default;const c=t(ob());fn.PostgrestBuilder=c.default;const u=t(sb());return fn.PostgrestError=u.default,fn.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},fn}var Ej=Sj();const jj=Bo(Ej),{PostgrestClient:Nj,PostgrestQueryBuilder:LO,PostgrestFilterBuilder:zO,PostgrestTransformBuilder:BO,PostgrestBuilder:PO,PostgrestError:$O}=jj;class Tj{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const s=a.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let a=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(a+=`

Suggested solution: ${r.workaround}`),new Error(a)}static createWebSocket(r,a){const s=this.getWebSocketConstructor();return new s(r,a)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Aj="2.15.5",Rj=`realtime-js/${Aj}`,Cj="1.0.0",nh=1e4,Mj=1e3,Oj=100;var jo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jo||(jo={}));var on;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(on||(on={}));var mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mr||(mr={}));var rh;(function(t){t.websocket="websocket"})(rh||(rh={}));var ni;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ni||(ni={}));class Dj{constructor(){this.HEADER_LENGTH=1}decode(r,a){return r.constructor===ArrayBuffer?a(this._binaryDecode(r)):a(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const a=new DataView(r),s=new TextDecoder;return this._decodeBroadcast(r,a,s)}_decodeBroadcast(r,a,s){const o=a.getUint8(1),c=a.getUint8(2);let u=this.HEADER_LENGTH+2;const d=s.decode(r.slice(u,u+o));u=u+o;const p=s.decode(r.slice(u,u+c));u=u+c;const h=JSON.parse(s.decode(r.slice(u,r.byteLength)));return{ref:null,topic:d,event:p,payload:h}}}class ub{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const M0=(t,r,a={})=>{var s;const o=(s=a.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(r).reduce((c,u)=>(c[u]=kj(u,t,r,o),c),{})},kj=(t,r,a,s)=>{const o=r.find(d=>d.name===t),c=o?.type,u=a[t];return c&&!s.includes(c)?db(c,u):ah(u)},db=(t,r)=>{if(t.charAt(0)==="_"){const a=t.slice(1,t.length);return Bj(r,a)}switch(t){case Ht.bool:return Uj(r);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return Lj(r);case Ht.json:case Ht.jsonb:return zj(r);case Ht.timestamp:return Pj(r);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return ah(r);default:return ah(r)}},ah=t=>t,Uj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Lj=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},zj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(r){return console.log(`JSON parse error: ${r}`),t}return t},Bj=(t,r)=>{if(typeof t!="string")return t;const a=t.length-1,s=t[a];if(t[0]==="{"&&s==="}"){let c;const u=t.slice(1,a);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(d=>db(r,d))}return t},Pj=t=>typeof t=="string"?t.replace(" ","T"):t,fb=t=>{let r=t;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class jf{constructor(r,a,s={},o=nh){this.channel=r,this.event=a,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var s;return this._hasReceived(r)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var O0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(O0||(O0={}));class No{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=No.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=No.syncDiff(this.state,o,c,u),d())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,s,o){const c=this.cloneDeep(r),u=this.transformState(a),d={},p={};return this.map(c,(h,y)=>{u[h]||(p[h]=y)}),this.map(u,(h,y)=>{const g=c[h];if(g){const w=y.map(R=>R.presence_ref),_=g.map(R=>R.presence_ref),S=y.filter(R=>_.indexOf(R.presence_ref)<0),T=g.filter(R=>w.indexOf(R.presence_ref)<0);S.length>0&&(d[h]=S),T.length>0&&(p[h]=T)}else d[h]=y}),this.syncDiff(c,{joins:d,leaves:p},s,o)}static syncDiff(r,a,s,o){const{joins:c,leaves:u}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(d,p)=>{var h;const y=(h=r[d])!==null&&h!==void 0?h:[];if(r[d]=this.cloneDeep(p),y.length>0){const g=r[d].map(_=>_.presence_ref),w=y.filter(_=>g.indexOf(_.presence_ref)<0);r[d].unshift(...w)}s(d,y,p)}),this.map(u,(d,p)=>{let h=r[d];if(!h)return;const y=p.map(g=>g.presence_ref);h=h.filter(g=>y.indexOf(g.presence_ref)<0),r[d]=h,o(d,h,p),h.length===0&&delete r[d]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(s=>a(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,s)=>{const o=r[s];return"metas"in o?a[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[s]=o,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(D0||(D0={}));var To;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(To||(To={}));var Qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class Ph{constructor(r,a={config:{}},s){this.topic=r,this.params=a,this.socket=s,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new jf(this,mr.join,this.params,this.timeout),this.rejoinTimer=new ub(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new No(this),this.broadcastEndpointURL=fb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,a=this.timeout){var s,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:u,presence:d,private:p}}=this.params,h=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[To.PRESENCE]&&this.bindings[To.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,g={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(_=>r?.(Qr.CHANNEL_ERROR,_)),this._onClose(()=>r?.(Qr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket.setAuth(),_===void 0){r?.(Qr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,R=(S=T?.length)!==null&&S!==void 0?S:0,N=[];for(let O=0;O<R;O++){const L=T[O],{filter:{event:G,schema:C,table:D,filter:H}}=L,ae=_&&_[O];if(ae&&ae.event===G&&ae.schema===C&&ae.table===D&&ae.filter===H)N.push(Object.assign(Object.assign({},L),{id:ae.id}));else{this.unsubscribe(),this.state=on.errored,r?.(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,r&&r(Qr.SUBSCRIBED);return}}).receive("error",_=>{this.state=on.errored,r?.(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r?.(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,s){return this.state===on.joined&&r===To.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,a,s)}async send(r,a={}){var s,o;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:u}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,d,p;const h=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),h.receive("ok",()=>c("ok")),h.receive("error",()=>c("error")),h.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=on.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new jf(this,mr.leave,{},r),s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=on.closed,this.bindings={}}async _fetchWithTimeout(r,a,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),u=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),u}_push(r,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new jf(this,r,a,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Oj){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(r,a,s){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,s){var o,c;const u=r.toLocaleLowerCase(),{close:d,error:p,leave:h,join:y}=mr;if(s&&[d,p,h,y].indexOf(u)>=0&&s!==this._joinRef())return;let w=this._onMessage(u,a,s);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,T,R;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((R=(T=_.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(_=>_.callback(w,s)):(c=this.bindings[u])===null||c===void 0||c.filter(_=>{var S,T,R,N,O,L;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const G=_.id,C=(S=_.filter)===null||S===void 0?void 0:S.event;return G&&((T=a.ids)===null||T===void 0?void 0:T.includes(G))&&(C==="*"||C?.toLocaleLowerCase()===((R=a.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const G=(O=(N=_?.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return G==="*"||G===((L=a?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:T,table:R,commit_timestamp:N,type:O,errors:L}=S;w=Object.assign(Object.assign({},{schema:T,table:R,commit_timestamp:N,eventType:O,new:{},old:{},errors:L}),this._getPayloadRecords(S))}_.callback(w,s)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,s){const o=r.toLocaleLowerCase(),c={type:o,filter:a,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(r,a){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Ph.isEqual(o.filter,a))})),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const s in r)if(r[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(mr.close,{},r)}_onError(r){this._on(mr.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=M0(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=M0(r.columns,r.old_record)),a}}const Nf=()=>{},cc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$j=[1e3,2e3,5e3,1e4],Ij=1e4,Hj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qj{constructor(r,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nh,this.transport=null,this.heartbeatIntervalMs=cc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new Dj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>ii(async()=>{const{default:d}=await Promise.resolve().then(()=>gs);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${r}/${rh.websocket}`,this.httpEndpoint=fb(r),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tj.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const a=r.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cj}))}disconnect(r,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},r?this.conn.close(r,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,s){this.logger(r,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case jo.connecting:return ni.Connecting;case jo.open:return ni.Open;case jo.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,a={config:{}}){const s=`realtime:${r}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new Ph(`realtime:${r}`,a,this);return this.channels.push(c),c}}push(r){const{topic:a,event:s,payload:o,ref:c}=r,u=()=>{this.encode(r,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${a} ${s} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Mj,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},cc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:c,ref:u}=a,d=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${s} ${o} ${d}`.trim(),c),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(o,c,u)),this._triggerStateCallbacks("message",a)})}_clearTimer(r){var a;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var a;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(mr.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const s=r.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${r}${s}${o}`}_workerObjectUrl(r){let a;if(r)a=r;else{const s=new Blob([Hj],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(r,a=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(r=null){let a;r?a=r:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{const o={access_token:a,version:Rj};a&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(mr.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${r}`,a)})}_triggerStateCallbacks(r,a){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(a)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new ub(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var a,s,o,c,u,d,p,h,y;if(this.transport=(a=r?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=r?.timeout)!==null&&s!==void 0?s:nh,this.heartbeatIntervalMs=(o=r?.heartbeatIntervalMs)!==null&&o!==void 0?o:cc.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=r?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=r?.heartbeatCallback)!==null&&d!==void 0?d:Nf,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r?.reconnectAfterMs)!==null&&p!==void 0?p:(g=>$j[g-1]||Ij),this.encode=(h=r?.encode)!==null&&h!==void 0?h:((g,w)=>w(JSON.stringify(g))),this.decode=(y=r?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class $h extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function nn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fj extends $h{constructor(r,a,s){super(r),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ih extends $h{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}var Gj=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};const hb=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>gs);return{default:s}},void 0).then(({default:s})=>s(...a)):r=fetch,(...a)=>r(...a)},Vj=()=>Gj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ii(()=>Promise.resolve().then(()=>gs),void 0)).Response:Response}),sh=t=>{if(Array.isArray(t))return t.map(a=>sh(a));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([a,s])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[o]=sh(s)}),r},Yj=t=>{if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var di=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};const Tf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kj=(t,r,a)=>di(void 0,void 0,void 0,function*(){const s=yield Vj();t instanceof s&&!a?.noResolveJson?t.json().then(o=>{const c=t.status||500,u=o?.statusCode||c+"";r(new Fj(Tf(o),c,u))}).catch(o=>{r(new ih(Tf(o),o))}):r(new ih(Tf(t),t))}),Wj=(t,r,a,s)=>{const o={method:t,headers:r?.headers||{}};return t==="GET"||!s?o:(Yj(s)?(o.headers=Object.assign({"Content-Type":"application/json"},r?.headers),o.body=JSON.stringify(s)):o.body=s,r?.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),a))};function Ho(t,r,a,s,o,c){return di(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(a,Wj(r,s,o,c)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Kj(p,d,s))})})}function kc(t,r,a,s){return di(this,void 0,void 0,function*(){return Ho(t,"GET",r,a,s)})}function jr(t,r,a,s,o){return di(this,void 0,void 0,function*(){return Ho(t,"POST",r,s,o,a)})}function oh(t,r,a,s,o){return di(this,void 0,void 0,function*(){return Ho(t,"PUT",r,s,o,a)})}function Xj(t,r,a,s){return di(this,void 0,void 0,function*(){return Ho(t,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function mb(t,r,a,s,o){return di(this,void 0,void 0,function*(){return Ho(t,"DELETE",r,s,o,a)})}var Qj=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};class Zj{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}execute(){return Qj(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}}var Jj=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};class eN{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}asStream(){return new Zj(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.execute().then(r,a)}execute(){return Jj(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}}var Dn=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};const tN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nN{constructor(r,a={},s,o){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=s,this.fetch=hb(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,a,s,o){return Dn(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},k0),o);let d=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const h=this._removeEmptyFolders(a),y=this._getFinalPath(h),g=yield(r=="PUT"?oh:jr)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(nn(c))return{data:null,error:c};throw c}})}upload(r,a,s){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,s)})}uploadToSignedUrl(r,a,s,o){return Dn(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",a);try{let p;const h=Object.assign({upsert:k0.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",h.cacheControl)):(p=s,y["cache-control"]=`max-age=${h.cacheControl}`,y["content-type"]=h.contentType);const g=yield oh(this.fetch,d.toString(),p,{headers:y});return{data:{path:c,fullPath:g.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(nn(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,a){return Dn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const o=Object.assign({},this.headers);a?.upsert&&(o["x-upsert"]="true");const c=yield jr(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),u=new URL(this.url+c.url),d=u.searchParams.get("token");if(!d)throw new $h("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}})}update(r,a,s){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,s)})}move(r,a,s){return Dn(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}copy(r,a,s){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}createSignedUrl(r,a,s){return Dn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),c=yield jr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}createSignedUrls(r,a,s){return Dn(this,void 0,void 0,function*(){try{const o=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}download(r,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),u=c?`?${c}`:"",d=this._getFinalPath(r),p=()=>kc(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new eN(p,this.shouldThrowOnError)}info(r){return Dn(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const s=yield kc(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:sh(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}})}exists(r){return Dn(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield Xj(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s)&&s instanceof ih){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,a){const s=this._getFinalPath(r),o=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const d=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&o.push(p);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${h}`)}}}remove(r){return Dn(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}list(r,a,s){return Dn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},tN),a),{prefix:r||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}listV2(r,a){return Dn(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const rN="2.12.2",aN={"X-Client-Info":`storage-js/${rN}`};var Qi=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};class iN{constructor(r,a={},s,o){this.shouldThrowOnError=!1;const c=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},aN),a),this.fetch=hb(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Qi(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}getBucket(r){return Qi(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}createBucket(r,a={public:!1}){return Qi(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}})}updateBucket(r,a){return Qi(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nn(s))return{data:null,error:s};throw s}})}emptyBucket(r){return Qi(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Qi(this,void 0,void 0,function*(){try{return{data:yield mb(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}}class sN extends iN{constructor(r,a={},s,o){super(r,a,s,o)}from(r){return new nN(this.url,this.headers,r,this.fetch)}}const oN="2.58.0";let So="";typeof Deno<"u"?So="deno":typeof document<"u"?So="web":typeof navigator<"u"&&navigator.product==="ReactNative"?So="react-native":So="node";const lN={"X-Client-Info":`supabase-js-${So}/${oN}`},cN={headers:lN},uN={schema:"public"},dN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fN={};var hN=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};const mN=t=>{let r;return t?r=t:typeof fetch>"u"?r=ab:r=fetch,(...a)=>r(...a)},pN=()=>typeof Headers>"u"?ib:Headers,gN=(t,r,a)=>{const s=mN(a),o=pN();return(c,u)=>hN(void 0,void 0,void 0,function*(){var d;const p=(d=yield r())!==null&&d!==void 0?d:t;let h=new o(u?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(c,Object.assign(Object.assign({},u),{headers:h}))})};var vN=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};function yN(t){return t.endsWith("/")?t:t+"/"}function bN(t,r){var a,s;const{db:o,auth:c,realtime:u,global:d}=t,{db:p,auth:h,realtime:y,global:g}=r,w={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},h),c),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(a=g?.headers)!==null&&a!==void 0?a:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>vN(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function xN(t){const r=t?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yN(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pb="2.72.0",ss=30*1e3,lh=3,Af=lh*ss,wN="http://localhost:9999",_N="supabase.auth.token",SN={"X-Client-Info":`gotrue-js/${pb}`},ch="X-Supabase-Api-Version",gb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jN=600*1e3;class Ih extends Error{constructor(r,a,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NN extends Ih{constructor(r,a,s){super(r,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function TN(t){return rt(t)&&t.name==="AuthApiError"}class vb extends Ih{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}}class Ua extends Ih{constructor(r,a,s,o){super(r,s,o),this.name=a,this.status=s}}class Ta extends Ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AN(t){return rt(t)&&t.name==="AuthSessionMissingError"}class bo extends Ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uc extends Ua{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class dc extends Ua{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RN(t){return rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class U0 extends Ua{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uh extends Ua{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}}function Rf(t){return rt(t)&&t.name==="AuthRetryableFetchError"}class L0 extends Ua{constructor(r,a,s){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class dh extends Ua{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z0=` 	
\r=`.split(""),CN=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<z0.length;r+=1)t[z0[r].charCodeAt(0)]=-2;for(let r=0;r<Uc.length;r+=1)t[Uc[r].charCodeAt(0)]=r;return t})();function B0(t,r,a){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;a(Uc[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;a(Uc[s]),r.queuedBits-=6}}function yb(t,r,a){const s=CN[t];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function P0(t){const r=[],a=u=>{r.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{DN(u,s,a)};for(let u=0;u<t.length;u+=1)yb(t.charCodeAt(u),o,c);return r.join("")}function MN(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ON(t,r){for(let a=0;a<t.length;a+=1){let s=t.charCodeAt(a);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}MN(s,r)}}function DN(t,r,a){if(r.utf8seq===0){if(t<=127){a(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function kN(t){const r=[],a={queue:0,queuedBits:0},s=o=>{r.push(o)};for(let o=0;o<t.length;o+=1)yb(t.charCodeAt(o),a,s);return new Uint8Array(r)}function UN(t){const r=[];return ON(t,a=>r.push(a)),new Uint8Array(r)}function LN(t){const r=[],a={queue:0,queuedBits:0},s=o=>{r.push(o)};return t.forEach(o=>B0(o,a,s)),B0(null,a,s),r.join("")}function zN(t){return Math.round(Date.now()/1e3)+t}function BN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const r=Math.random()*16|0;return(t=="x"?r:r&3|8).toString(16)})}const sr=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},bb=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function PN(t){const r={},a=new URL(t);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{r[c]=o})}catch{}return a.searchParams.forEach((s,o)=>{r[o]=s}),r}const xb=t=>{let r;return t?r=t:typeof fetch>"u"?r=(...a)=>ii(async()=>{const{default:s}=await Promise.resolve().then(()=>gs);return{default:s}},void 0).then(({default:s})=>s(...a)):r=fetch,(...a)=>r(...a)},$N=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",os=async(t,r,a)=>{await t.setItem(r,JSON.stringify(a))},Ja=async(t,r)=>{const a=await t.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Na=async(t,r)=>{await t.removeItem(r)};class Wc{constructor(){this.promise=new Wc.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}Wc.promiseConstructor=Promise;function Cf(t){const r=t.split(".");if(r.length!==3)throw new dh("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!EN.test(r[s]))throw new dh("JWT not in base64url format");return{header:JSON.parse(P0(r[0])),payload:JSON.parse(P0(r[1])),signature:kN(r[2]),raw:{header:r[0],payload:r[1]}}}async function IN(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function HN(t,r){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!r(c,null,u)){s(u);return}}catch(u){if(!r(c,u)){o(u);return}}})()})}function qN(t){return("0"+t.toString(16)).substr(-2)}function FN(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(r),Array.from(r,qN).join("")}async function GN(t){const a=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function VN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const a=await GN(t);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zi(t,r,a=!1){const s=FN();let o=s;a&&(o+="/PASSWORD_RECOVERY"),await os(t,`${r}-code-verifier`,o);const c=await VN(s);return[c,s===c?"plain":"s256"]}const YN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KN(t){const r=t.headers.get(ch);if(!r||!r.match(YN))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function WN(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function XN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ji(t){if(!QN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mf(){const t={};return new Proxy(t,{get:(r,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $0(t){return JSON.parse(JSON.stringify(t))}var ZN=function(t,r){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(a[s[o]]=t[s[o]]);return a};const ti=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JN=[502,503,504];async function I0(t){var r;if(!$N(t))throw new uh(ti(t),0);if(JN.includes(t.status))throw new uh(ti(t),t.status);let a;try{a=await t.json()}catch(c){throw new vb(ti(c),c)}let s;const o=KN(t);if(o&&o.getTime()>=gb["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new L0(ti(a),t.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new Ta}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new L0(ti(a),t.status,a.weak_password.reasons);throw new NN(ti(a),t.status||500,s)}const e2=(t,r,a,s)=>{const o={method:t,headers:r?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),a))};async function pt(t,r,a,s){var o;const c=Object.assign({},s?.headers);c[ch]||(c[ch]=gb["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const u=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await t2(t,r,a+d,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function t2(t,r,a,s,o,c){const u=e2(r,s,o,c);let d;try{d=await t(a,Object.assign({},u))}catch(p){throw console.error(p),new uh(ti(p),0)}if(d.ok||await I0(d),s?.noResolveJson)return d;try{return await d.json()}catch(p){await I0(p)}}function Er(t){var r;let a=null;i2(t)&&(a=Object.assign({},t),t.expires_at||(a.expires_at=zN(t.expires_in)));const s=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:a,user:s},error:null}}function H0(t){const r=Er(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(r.data.weak_password=t.weak_password),r}function Ma(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function n2(t){return{data:t,error:null}}function r2(t){const{action_link:r,email_otp:a,hashed_token:s,redirect_to:o,verification_type:c}=t,u=ZN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:r,email_otp:a,hashed_token:s,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:d,user:p},error:null}}function a2(t){return t}function i2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Of=["global","local","others"];var s2=function(t,r){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(a[s[o]]=t[s[o]]);return a};class o2{constructor({url:r="",headers:a={},fetch:s}){this.url=r,this.headers=a,this.fetch=xb(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,a=Of[0]){if(Of.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Of.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,a={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ma})}catch(s){if(rt(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:a}=r,s=s2(r,["options"]),o=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:r2,redirectTo:a?.redirectTo})}catch(a){if(rt(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Ma})}catch(a){if(rt(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,s,o,c,u,d,p;try{const h={nextPage:null,lastPage:0,total:0},y=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=r?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=r?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:a2});if(y.error)throw y.error;const g=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(S=>{const T=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(S.split(";")[1].split("=")[1]);h[`${R}Page`]=T}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(rt(h))return{data:{users:[]},error:h};throw h}}async getUserById(r){Ji(r);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Ma})}catch(a){if(rt(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){Ji(r);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:Ma})}catch(s){if(rt(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,a=!1){Ji(r);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ma})}catch(s){if(rt(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Ji(r.userId);try{const{data:a,error:s}=await pt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:s}}catch(a){if(rt(a))return{data:null,error:a};throw a}}async _deleteFactor(r){Ji(r.userId),Ji(r.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(rt(a))return{data:null,error:a};throw a}}}function q0(t={}){return{getItem:r=>t[r]||null,setItem:(r,a)=>{t[r]=a},removeItem:r=>{delete t[r]}}}function l2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const es={debug:!!(globalThis&&bb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class c2 extends wb{}async function u2(t,r,a){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await a()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(r===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new c2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(es.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function _b(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function d2(t){return parseInt(t,16)}function f2(t){const r=new TextEncoder().encode(t);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function h2(t){var r;const{chainId:a,domain:s,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:d,requestId:p,resources:h,scheme:y,uri:g,version:w}=t;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((r=t.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const _=_b(t.address),S=y?`${y}://${s}`:s,T=t.statement?`${t.statement}
`:"",R=`${S} wants you to sign in with your Ethereum account:
${_}

${T}`;let N=`URI: ${g}
Version: ${w}
Chain ID: ${a}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),p&&(N+=`
Request ID: ${p}`),h){let O=`
Resources:`;for(const L of h){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);O+=`
- ${L}`}N+=O}return`${R}
${N}`}l2();const m2={url:wN,storageKey:_N,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function F0(t,r,a){return await a()}const ts={};class Oo{constructor(r){var a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Oo.nextInstanceID,Oo.nextInstanceID+=1,this.instanceID>0&&sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},m2),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new o2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=xb(o.fetch),this.lock=o.lock||F0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:sr()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=u2:this.lock=F0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:bb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=q0(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var r,a;return(a=(r=ts[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(r){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,a;return(a=(r=ts[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ts[this.storageKey]=Object.assign(Object.assign({},ts[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pb}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const a=PN(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),sr()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),RN(c)){const p=(r=c.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return rt(a)?{error:a}:{error:new vb("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,s,o;try{const c=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=r?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=r?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Er}),{data:u,error:d}=c;if(d||!u)return{data:{user:null,session:null},error:d};const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(c){if(rt(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var a,s,o;try{let c;if("email"in r){const{email:y,password:g,options:w}=r;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Zi(this.storage,this.storageKey)),c=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:g,data:(a=w?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:S},xform:Er})}else if("phone"in r){const{phone:y,password:g,options:w}=r;c=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(s=w?.data)!==null&&s!==void 0?s:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Er})}else throw new uc("You must provide either an email or phone number and a password");const{data:u,error:d}=c;if(d||!u)return{data:{user:null,session:null},error:d};const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(c){if(rt(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let a;if("email"in r){const{email:c,password:u,options:d}=r;a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:H0})}else if("phone"in r){const{phone:c,password:u,options:d}=r;a=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:H0})}else throw new uc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new bo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(r){var a,s,o,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;switch(a){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(r){var a,s,o,c,u,d,p,h,y,g,w;let _,S;if("message"in r)_=r.message,S=r.signature;else{const{chain:T,wallet:R,statement:N,options:O}=r;let L;if(sr())if(typeof R=="object")L=R;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")L=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=R}const G=new URL((a=O?.url)!==null&&a!==void 0?a:window.location.href),C=await L.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=_b(C[0]);let H=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!H){const fe=await L.request({method:"eth_chainId"});H=d2(fe)}const ae={domain:G.host,address:D,statement:N,uri:G.href,version:"1",chainId:H,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=O?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=O?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(y=O?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=h2(ae),S=await L.request({method:"personal_sign",params:[f2(_),D]})}try{const{data:T,error:R}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((g=r.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Er});if(R)throw R;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new bo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:R})}catch(T){if(rt(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(r){var a,s,o,c,u,d,p,h,y,g,w,_;let S,T;if("message"in r)S=r.message,T=r.signature;else{const{chain:R,wallet:N,statement:O,options:L}=r;let G;if(sr())if(typeof N=="object")G=N;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))G=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=N}const C=new URL((a=L?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in G&&G.signIn){const D=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),O?{statement:O}:null));let H;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")H=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)H=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)S=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),T=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${C.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(o=(s=L?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=L?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((u=L?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((d=L?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((g=(y=L?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...L.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const D=await G.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=D}}try{const{data:R,error:N}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:LN(T)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Er});if(N)throw N;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new bo}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:N})}catch(R){if(rt(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(r){const a=await Ja(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(a??"").split("/");try{const{data:c,error:u}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:Er});if(await Na(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new bo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(rt(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:a,provider:s,token:o,access_token:c,nonce:u}=r,d=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Er}),{data:p,error:h}=d;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new bo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:h})}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(r){var a,s,o,c,u;try{if("email"in r){const{email:d,options:p}=r;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await Zi(this.storage,this.storageKey));const{error:g}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:y},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in r){const{phone:d,options:p}=r,{data:h,error:y}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:y}}throw new uc("You must provide either an email or phone number.")}catch(d){if(rt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(r){var a,s;try{let o,c;"options"in r&&(o=(a=r.options)===null||a===void 0?void 0:a.redirectTo,c=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Er});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,h=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(o){if(rt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var a,s,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Zi(this.storage,this.storageKey)),await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=r?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:n2})}catch(c){if(rt(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;if(s)throw s;if(!a)throw new Ta;const{error:o}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(rt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:s,type:o,options:c}=r,{error:u}=await pt(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in r){const{phone:s,type:o,options:c}=r,{data:u,error:d}=await pt(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new uc("You must provide either an email or phone number and a type")}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<Af:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const u=await Ja(this.userStorage,this.storageKey+"-user");u?.user?r.user=u.user:r.user=Mf()}if(this.storage.isServer&&r.user){let u=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,h,y)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,h,y))})}return{data:{session:r},error:null}}const{session:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Ma}):await this._useSession(async a=>{var s,o,c;const{data:u,error:d}=a;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ta}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ma})})}catch(a){if(rt(a))return AN(a)&&(await this._removeSession(),await Na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new Ta;const u=o.session;let d=null,p=null;this.flowType==="pkce"&&r.email!=null&&([d,p]=await Zi(this.storage,this.storageKey));const{data:h,error:y}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:d,code_challenge_method:p}),jwt:u.access_token,xform:Ma});if(y)throw y;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(rt(s))return{data:{user:null},error:s};throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Ta;const a=Date.now()/1e3;let s=a,o=!0,c=null;const{payload:u}=Cf(r.access_token);if(u.exp&&(s=u.exp,o=s<=a),o){const{session:d,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!d)return{data:{user:null,session:null},error:null};c=d}else{const{data:d,error:p}=await this._getUser(r.access_token);if(p)throw p;c={access_token:r.access_token,refresh_token:r.refresh_token,user:d.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(rt(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var s;if(!r){const{data:u,error:d}=a;if(d)throw d;r=(s=u.session)!==null&&s!==void 0?s:void 0}if(!r?.refresh_token)throw new Ta;const{session:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(r,a){try{if(!sr())throw new dc("No browser detected.");if(r.error||r.error_description||r.error_code)throw new dc(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new U0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new U0("No code detected.");const{data:O,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:d,expires_at:p,token_type:h}=r;if(!c||!d||!u||!h)throw new dc("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(d);let w=y+g;p&&(w=parseInt(p));const _=w-y;_*1e3<=ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${g}s`);const S=w-g;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,y);const{data:T,error:R}=await this._getUser(c);if(R)throw R;const N={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:g,expires_at:w,refresh_token:u,token_type:h,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:r.type},error:null}}catch(s){if(rt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:o,error:c}=a;if(c)return{error:c};const u=(s=o.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,r);if(d&&!(TN(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return r!=="others"&&(await this._removeSession(),await Na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const a=BN(),s={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async a=>{var s,o;try{const{data:{session:c},error:u}=a;if(u)throw u;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,a={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Zi(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(rt(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(a){if(rt(a))return{data:null,error:a};throw a}}async linkIdentity(r){var a;try{const{data:s,error:o}=await this._useSession(async c=>{var u,d,p,h,y;const{data:g,error:w}=c;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(u=r.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=r.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return sr()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:r.provider,url:s?.url},error:null}}catch(s){if(rt(s))return{data:{provider:r.provider,url:null},error:s};throw s}}async unlinkIdentity(r){try{return await this._useSession(async a=>{var s,o;const{data:c,error:u}=a;if(u)throw u;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await HN(async o=>(o>0&&await IN(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Er})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Rf(c)&&Date.now()+u-s<ss})}catch(s){if(this._debug(a,"error",s),rt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",s),sr()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Ja(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await os(this.userStorage,this.storageKey+"-user",u)),o.user=(r=u?.user)!==null&&r!==void 0?r:Mf()}else if(o&&!o.user&&!o.user){const u=await Ja(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Na(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,o)):o.user=Mf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Af;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Af}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Rf(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var a,s;if(!r)throw new Ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Wc;const{data:c,error:u}=await this._refreshAccessToken(r);if(u)throw u;if(!c.session)throw new Ta;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const d={session:c.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(c){if(this._debug(o,"error",c),rt(c)){const u={session:null,error:c};return Rf(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,a,s=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:a});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(r,a)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const a=Object.assign({},r),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await os(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=$0(o);await os(this.storage,this.storageKey,c)}else{const o=$0(a);await os(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Na(this.storage,this.storageKey),await Na(this.storage,this.storageKey+"-code-verifier"),await Na(this.storage,this.storageKey+"-user"),this.userStorage&&await Na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ss);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-r)/ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ss}ms, refresh threshold is ${lh} ticks`),o<=lh&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof wb)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,s){const o=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,u]=await Zi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;return c?{data:null,error:c}:await pt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async _enroll(r){try{return await this._useSession(async a=>{var s,o;const{data:c,error:u}=a;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:h}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(r.factorType==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(rt(a))return{data:null,error:a};throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;if(c)return{data:null,error:c};const{data:u,error:d}=await pt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(a){if(rt(a))return{data:null,error:a};throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;return c?{data:null,error:c}:await pt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(rt(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(r){const{data:a,error:s}=await this._challenge({factorId:r.factorId});return s?{data:null,error:s}:await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const s=r?.factors||[],o=s.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=s.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:s,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var a,s;const{data:{session:o},error:c}=r;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Cf(o.access_token);let d=null;u.aal&&(d=u.aal);let p=d;((s=(a=o.user.factors)===null||a===void 0?void 0:a.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const y=u.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,a={keys:[]}){let s=a.keys.find(d=>d.kid===r);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===r),s&&this.jwks_cached_at+jN>o)return s;const{data:c,error:u}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(d=>d.kid===r),!s)?null:s}async getClaims(r,a={}){try{let s=r;if(!s){const{data:_,error:S}=await this.getSession();if(S||!_.session)return{data:null,error:S};s=_.session.access_token}const{header:o,payload:c,signature:u,raw:{header:d,payload:p}}=Cf(s);a?.allowExpired||WN(c.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!h){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:c,header:o,signature:u},error:null}}const y=XN(o.alg),g=await crypto.subtle.importKey("jwk",h,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,u,UN(`${d}.${p}`)))throw new dh("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}}}Oo.nextInstanceID=0;const p2=Oo;class g2 extends p2{constructor(r){super(r)}}var v2=function(t,r,a,s){function o(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function d(y){try{h(s.next(y))}catch(g){u(g)}}function p(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):o(y.value).then(d,p)}h((s=s.apply(t,r||[])).next())})};class y2{constructor(r,a,s){var o,c,u;this.supabaseUrl=r,this.supabaseKey=a;const d=xN(r);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:uN,realtime:fN,auth:Object.assign(Object.assign({},dN),{storageKey:p}),global:cN},y=bN(s??{},h);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=gN(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Nj(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new sN(this.storageUrl.href,this.headers,this.fetch,s?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new gj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,a={},s={}){return this.rest.rpc(r,a,s)}channel(r,a={config:{}}){return this.realtime.channel(r,a)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,a;return v2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:c,storageKey:u,flowType:d,lock:p,debug:h},y,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g2({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:u,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:o,userStorage:c,flowType:d,lock:p,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new qj(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s?.access_token)})}_handleTokenChanged(r,a,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const b2=(t,r,a)=>new y2(t,r,a);function x2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}x2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const w2="https://ipizlwahdmkiweecetsx.supabase.co",_2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwaXpsd2FoZG1raXdlZWNldHN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNTQ3NzYsImV4cCI6MjA3NDczMDc3Nn0.NOavReysKqwcCe7CkOFvmBH2IoOLL3D6xxVMlFgBWlw",rn=b2(w2,_2);function _t(t,r,{checkForDefaultPrevented:a=!0}={}){return function(o){if(t?.(o),a===!1||!o.defaultPrevented)return r?.(o)}}function G0(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Xc(...t){return r=>{let a=!1;const s=t.map(o=>{const c=G0(o,r);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():G0(t[o],null)}}}}function Ln(...t){return E.useCallback(Xc(...t),t)}function qo(t,r=[]){let a=[];function s(c,u){const d=E.createContext(u),p=a.length;a=[...a,u];const h=g=>{const{scope:w,children:_,...S}=g,T=w?.[t]?.[p]||d,R=E.useMemo(()=>S,Object.values(S));return m.jsx(T.Provider,{value:R,children:_})};h.displayName=c+"Provider";function y(g,w){const _=w?.[t]?.[p]||d,S=E.useContext(_);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[h,y]}const o=()=>{const c=a.map(u=>E.createContext(u));return function(d){const p=d?.[t]||c;return E.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return o.scopeName=t,[s,S2(o,...r)]}function S2(...t){const r=t[0];if(t.length===1)return r;const a=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=s.reduce((d,{useScope:p,scopeName:h})=>{const g=p(c)[`__scope${h}`];return{...d,...g}},{});return E.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return a.scopeName=r.scopeName,a}var si=globalThis?.document?E.useLayoutEffect:()=>{},E2=Oy[" useInsertionEffect ".trim().toString()]||si;function Sb({prop:t,defaultProp:r,onChange:a=()=>{},caller:s}){const[o,c,u]=j2({defaultProp:r,onChange:a}),d=t!==void 0,p=d?t:o;{const y=E.useRef(t!==void 0);E.useEffect(()=>{const g=y.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,s])}const h=E.useCallback(y=>{if(d){const g=N2(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[d,t,c,u]);return[p,h]}function j2({defaultProp:t,onChange:r}){const[a,s]=E.useState(t),o=E.useRef(a),c=E.useRef(r);return E2(()=>{c.current=r},[r]),E.useEffect(()=>{o.current!==a&&(c.current?.(a),o.current=a)},[a,o]),[a,s,c]}function N2(t){return typeof t=="function"}function Lc(t){const r=T2(t),a=E.forwardRef((s,o)=>{const{children:c,...u}=s,d=E.Children.toArray(c),p=d.find(R2);if(p){const h=p.props.children,y=d.map(g=>g===p?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:g);return m.jsx(r,{...u,ref:o,children:E.isValidElement(h)?E.cloneElement(h,void 0,y):null})}return m.jsx(r,{...u,ref:o,children:c})});return a.displayName=`${t}.Slot`,a}function T2(t){const r=E.forwardRef((a,s)=>{const{children:o,...c}=a;if(E.isValidElement(o)){const u=M2(o),d=C2(c,o.props);return o.type!==E.Fragment&&(d.ref=s?Xc(s,u):u),E.cloneElement(o,d)}return E.Children.count(o)>1?E.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var A2=Symbol("radix.slottable");function R2(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A2}function C2(t,r){const a={...r};for(const s in r){const o=t[s],c=r[s];/^on[A-Z]/.test(s)?o&&c?a[s]=(...d)=>{const p=c(...d);return o(...d),p}:o&&(a[s]=o):s==="style"?a[s]={...o,...c}:s==="className"&&(a[s]=[o,c].filter(Boolean).join(" "))}return{...t,...a}}function M2(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var O2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zn=O2.reduce((t,r)=>{const a=Lc(`Primitive.${r}`),s=E.forwardRef((o,c)=>{const{asChild:u,...d}=o,p=u?a:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(p,{...d,ref:c})});return s.displayName=`Primitive.${r}`,{...t,[r]:s}},{});function Eb(t,r){t&&Gc.flushSync(()=>t.dispatchEvent(r))}function jb(t){const r=t+"CollectionProvider",[a,s]=qo(r),[o,c]=a(r,{collectionRef:{current:null},itemMap:new Map}),u=T=>{const{scope:R,children:N}=T,O=je.useRef(null),L=je.useRef(new Map).current;return m.jsx(o,{scope:R,itemMap:L,collectionRef:O,children:N})};u.displayName=r;const d=t+"CollectionSlot",p=Lc(d),h=je.forwardRef((T,R)=>{const{scope:N,children:O}=T,L=c(d,N),G=Ln(R,L.collectionRef);return m.jsx(p,{ref:G,children:O})});h.displayName=d;const y=t+"CollectionItemSlot",g="data-radix-collection-item",w=Lc(y),_=je.forwardRef((T,R)=>{const{scope:N,children:O,...L}=T,G=je.useRef(null),C=Ln(R,G),D=c(y,N);return je.useEffect(()=>(D.itemMap.set(G,{ref:G,...L}),()=>void D.itemMap.delete(G))),m.jsx(w,{[g]:"",ref:C,children:O})});_.displayName=y;function S(T){const R=c(t+"CollectionConsumer",T);return je.useCallback(()=>{const O=R.collectionRef.current;if(!O)return[];const L=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((D,H)=>L.indexOf(D.ref.current)-L.indexOf(H.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:u,Slot:h,ItemSlot:_},S,s]}var D2=E.createContext(void 0);function Nb(t){const r=E.useContext(D2);return t||r||"ltr"}function Jr(t){const r=E.useRef(t);return E.useEffect(()=>{r.current=t}),E.useMemo(()=>(...a)=>r.current?.(...a),[])}function k2(t,r=globalThis?.document){const a=Jr(t);E.useEffect(()=>{const s=o=>{o.key==="Escape"&&a(o)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[a,r])}var U2="DismissableLayer",fh="dismissableLayer.update",L2="dismissableLayer.pointerDownOutside",z2="dismissableLayer.focusOutside",V0,Tb=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ab=E.forwardRef((t,r)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:d,...p}=t,h=E.useContext(Tb),[y,g]=E.useState(null),w=y?.ownerDocument??globalThis?.document,[,_]=E.useState({}),S=Ln(r,H=>g(H)),T=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=T.indexOf(R),O=y?T.indexOf(y):-1,L=h.layersWithOutsidePointerEventsDisabled.size>0,G=O>=N,C=$2(H=>{const ae=H.target,fe=[...h.branches].some(Ne=>Ne.contains(ae));!G||fe||(o?.(H),u?.(H),H.defaultPrevented||d?.())},w),D=I2(H=>{const ae=H.target;[...h.branches].some(Ne=>Ne.contains(ae))||(c?.(H),u?.(H),H.defaultPrevented||d?.())},w);return k2(H=>{O===h.layers.size-1&&(s?.(H),!H.defaultPrevented&&d&&(H.preventDefault(),d()))},w),E.useEffect(()=>{if(y)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(V0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(y)),h.layers.add(y),Y0(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=V0)}},[y,w,a,h]),E.useEffect(()=>()=>{y&&(h.layers.delete(y),h.layersWithOutsidePointerEventsDisabled.delete(y),Y0())},[y,h]),E.useEffect(()=>{const H=()=>_({});return document.addEventListener(fh,H),()=>document.removeEventListener(fh,H)},[]),m.jsx(zn.div,{...p,ref:S,style:{pointerEvents:L?G?"auto":"none":void 0,...t.style},onFocusCapture:_t(t.onFocusCapture,D.onFocusCapture),onBlurCapture:_t(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:_t(t.onPointerDownCapture,C.onPointerDownCapture)})});Ab.displayName=U2;var B2="DismissableLayerBranch",P2=E.forwardRef((t,r)=>{const a=E.useContext(Tb),s=E.useRef(null),o=Ln(r,s);return E.useEffect(()=>{const c=s.current;if(c)return a.branches.add(c),()=>{a.branches.delete(c)}},[a.branches]),m.jsx(zn.div,{...t,ref:o})});P2.displayName=B2;function $2(t,r=globalThis?.document){const a=Jr(t),s=E.useRef(!1),o=E.useRef(()=>{});return E.useEffect(()=>{const c=d=>{if(d.target&&!s.current){let p=function(){Rb(L2,a,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(r.removeEventListener("click",o.current),o.current=p,r.addEventListener("click",o.current,{once:!0})):p()}else r.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),r.removeEventListener("pointerdown",c),r.removeEventListener("click",o.current)}},[r,a]),{onPointerDownCapture:()=>s.current=!0}}function I2(t,r=globalThis?.document){const a=Jr(t),s=E.useRef(!1);return E.useEffect(()=>{const o=c=>{c.target&&!s.current&&Rb(z2,a,{originalEvent:c},{discrete:!1})};return r.addEventListener("focusin",o),()=>r.removeEventListener("focusin",o)},[r,a]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Y0(){const t=new CustomEvent(fh);document.dispatchEvent(t)}function Rb(t,r,a,{discrete:s}){const o=a.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});r&&o.addEventListener(t,r,{once:!0}),s?Eb(o,c):o.dispatchEvent(c)}var Df=0;function H2(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??K0()),document.body.insertAdjacentElement("beforeend",t[1]??K0()),Df++,()=>{Df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Df--}},[])}function K0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kf="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",W0={bubbles:!1,cancelable:!0},q2="FocusScope",Cb=E.forwardRef((t,r)=>{const{loop:a=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=t,[d,p]=E.useState(null),h=Jr(o),y=Jr(c),g=E.useRef(null),w=Ln(r,T=>p(T)),_=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(s){let T=function(L){if(_.paused||!d)return;const G=L.target;d.contains(G)?g.current=G:Aa(g.current,{select:!0})},R=function(L){if(_.paused||!d)return;const G=L.relatedTarget;G!==null&&(d.contains(G)||Aa(g.current,{select:!0}))},N=function(L){if(document.activeElement===document.body)for(const C of L)C.removedNodes.length>0&&Aa(d)};document.addEventListener("focusin",T),document.addEventListener("focusout",R);const O=new MutationObserver(N);return d&&O.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",R),O.disconnect()}}},[s,d,_.paused]),E.useEffect(()=>{if(d){Q0.add(_);const T=document.activeElement;if(!d.contains(T)){const N=new CustomEvent(kf,W0);d.addEventListener(kf,h),d.dispatchEvent(N),N.defaultPrevented||(F2(W2(Mb(d)),{select:!0}),document.activeElement===T&&Aa(d))}return()=>{d.removeEventListener(kf,h),setTimeout(()=>{const N=new CustomEvent(Uf,W0);d.addEventListener(Uf,y),d.dispatchEvent(N),N.defaultPrevented||Aa(T??document.body,{select:!0}),d.removeEventListener(Uf,y),Q0.remove(_)},0)}}},[d,h,y,_]);const S=E.useCallback(T=>{if(!a&&!s||_.paused)return;const R=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,N=document.activeElement;if(R&&N){const O=T.currentTarget,[L,G]=G2(O);L&&G?!T.shiftKey&&N===G?(T.preventDefault(),a&&Aa(L,{select:!0})):T.shiftKey&&N===L&&(T.preventDefault(),a&&Aa(G,{select:!0})):N===O&&T.preventDefault()}},[a,s,_.paused]);return m.jsx(zn.div,{tabIndex:-1,...u,ref:w,onKeyDown:S})});Cb.displayName=q2;function F2(t,{select:r=!1}={}){const a=document.activeElement;for(const s of t)if(Aa(s,{select:r}),document.activeElement!==a)return}function G2(t){const r=Mb(t),a=X0(r,t),s=X0(r.reverse(),t);return[a,s]}function Mb(t){const r=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)r.push(a.currentNode);return r}function X0(t,r){for(const a of t)if(!V2(a,{upTo:r}))return a}function V2(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y2(t){return t instanceof HTMLInputElement&&"select"in t}function Aa(t,{select:r=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&Y2(t)&&r&&t.select()}}var Q0=K2();function K2(){let t=[];return{add(r){const a=t[0];r!==a&&a?.pause(),t=Z0(t,r),t.unshift(r)},remove(r){t=Z0(t,r),t[0]?.resume()}}}function Z0(t,r){const a=[...t],s=a.indexOf(r);return s!==-1&&a.splice(s,1),a}function W2(t){return t.filter(r=>r.tagName!=="A")}var X2=Oy[" useId ".trim().toString()]||(()=>{}),Q2=0;function hh(t){const[r,a]=E.useState(X2());return si(()=>{a(s=>s??String(Q2++))},[t]),t||(r?`radix-${r}`:"")}const Z2=["top","right","bottom","left"],Da=Math.min,Wn=Math.max,zc=Math.round,fc=Math.floor,Rr=t=>({x:t,y:t}),J2={left:"right",right:"left",bottom:"top",top:"bottom"},eT={start:"end",end:"start"};function mh(t,r,a){return Wn(t,Da(r,a))}function ea(t,r){return typeof t=="function"?t(r):t}function ta(t){return t.split("-")[0]}function vs(t){return t.split("-")[1]}function Hh(t){return t==="x"?"y":"x"}function qh(t){return t==="y"?"height":"width"}const tT=new Set(["top","bottom"]);function Tr(t){return tT.has(ta(t))?"y":"x"}function Fh(t){return Hh(Tr(t))}function nT(t,r,a){a===void 0&&(a=!1);const s=vs(t),o=Fh(t),c=qh(o);let u=o==="x"?s===(a?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[c]>r.floating[c]&&(u=Bc(u)),[u,Bc(u)]}function rT(t){const r=Bc(t);return[ph(t),r,ph(r)]}function ph(t){return t.replace(/start|end/g,r=>eT[r])}const J0=["left","right"],ey=["right","left"],aT=["top","bottom"],iT=["bottom","top"];function sT(t,r,a){switch(t){case"top":case"bottom":return a?r?ey:J0:r?J0:ey;case"left":case"right":return r?aT:iT;default:return[]}}function oT(t,r,a,s){const o=vs(t);let c=sT(ta(t),a==="start",s);return o&&(c=c.map(u=>u+"-"+o),r&&(c=c.concat(c.map(ph)))),c}function Bc(t){return t.replace(/left|right|bottom|top/g,r=>J2[r])}function lT(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ob(t){return typeof t!="number"?lT(t):{top:t,right:t,bottom:t,left:t}}function Pc(t){const{x:r,y:a,width:s,height:o}=t;return{width:s,height:o,top:a,left:r,right:r+s,bottom:a+o,x:r,y:a}}function ty(t,r,a){let{reference:s,floating:o}=t;const c=Tr(r),u=Fh(r),d=qh(u),p=ta(r),h=c==="y",y=s.x+s.width/2-o.width/2,g=s.y+s.height/2-o.height/2,w=s[d]/2-o[d]/2;let _;switch(p){case"top":_={x:y,y:s.y-o.height};break;case"bottom":_={x:y,y:s.y+s.height};break;case"right":_={x:s.x+s.width,y:g};break;case"left":_={x:s.x-o.width,y:g};break;default:_={x:s.x,y:s.y}}switch(vs(r)){case"start":_[u]-=w*(a&&h?-1:1);break;case"end":_[u]+=w*(a&&h?-1:1);break}return _}const cT=async(t,r,a)=>{const{placement:s="bottom",strategy:o="absolute",middleware:c=[],platform:u}=a,d=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(r));let h=await u.getElementRects({reference:t,floating:r,strategy:o}),{x:y,y:g}=ty(h,s,p),w=s,_={},S=0;for(let T=0;T<d.length;T++){const{name:R,fn:N}=d[T],{x:O,y:L,data:G,reset:C}=await N({x:y,y:g,initialPlacement:s,placement:w,strategy:o,middlewareData:_,rects:h,platform:u,elements:{reference:t,floating:r}});y=O??y,g=L??g,_={..._,[R]:{..._[R],...G}},C&&S<=50&&(S++,typeof C=="object"&&(C.placement&&(w=C.placement),C.rects&&(h=C.rects===!0?await u.getElementRects({reference:t,floating:r,strategy:o}):C.rects),{x:y,y:g}=ty(h,w,p)),T=-1)}return{x:y,y:g,placement:w,strategy:o,middlewareData:_}};async function Do(t,r){var a;r===void 0&&(r={});const{x:s,y:o,platform:c,rects:u,elements:d,strategy:p}=t,{boundary:h="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:w=!1,padding:_=0}=ea(r,t),S=Ob(_),R=d[w?g==="floating"?"reference":"floating":g],N=Pc(await c.getClippingRect({element:(a=await(c.isElement==null?void 0:c.isElement(R)))==null||a?R:R.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(d.floating)),boundary:h,rootBoundary:y,strategy:p})),O=g==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d.floating)),G=await(c.isElement==null?void 0:c.isElement(L))?await(c.getScale==null?void 0:c.getScale(L))||{x:1,y:1}:{x:1,y:1},C=Pc(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:O,offsetParent:L,strategy:p}):O);return{top:(N.top-C.top+S.top)/G.y,bottom:(C.bottom-N.bottom+S.bottom)/G.y,left:(N.left-C.left+S.left)/G.x,right:(C.right-N.right+S.right)/G.x}}const uT=t=>({name:"arrow",options:t,async fn(r){const{x:a,y:s,placement:o,rects:c,platform:u,elements:d,middlewareData:p}=r,{element:h,padding:y=0}=ea(t,r)||{};if(h==null)return{};const g=Ob(y),w={x:a,y:s},_=Fh(o),S=qh(_),T=await u.getDimensions(h),R=_==="y",N=R?"top":"left",O=R?"bottom":"right",L=R?"clientHeight":"clientWidth",G=c.reference[S]+c.reference[_]-w[_]-c.floating[S],C=w[_]-c.reference[_],D=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let H=D?D[L]:0;(!H||!await(u.isElement==null?void 0:u.isElement(D)))&&(H=d.floating[L]||c.floating[S]);const ae=G/2-C/2,fe=H/2-T[S]/2-1,Ne=Da(g[N],fe),he=Da(g[O],fe),pe=Ne,ce=H-T[S]-he,Se=H/2-T[S]/2+ae,Ce=mh(pe,Se,ce),P=!p.arrow&&vs(o)!=null&&Se!==Ce&&c.reference[S]/2-(Se<pe?Ne:he)-T[S]/2<0,ne=P?Se<pe?Se-pe:Se-ce:0;return{[_]:w[_]+ne,data:{[_]:Ce,centerOffset:Se-Ce-ne,...P&&{alignmentOffset:ne}},reset:P}}}),dT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var a,s;const{placement:o,middlewareData:c,rects:u,initialPlacement:d,platform:p,elements:h}=r,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0,...R}=ea(t,r);if((a=c.arrow)!=null&&a.alignmentOffset)return{};const N=ta(o),O=Tr(d),L=ta(d)===d,G=await(p.isRTL==null?void 0:p.isRTL(h.floating)),C=w||(L||!T?[Bc(d)]:rT(d)),D=S!=="none";!w&&D&&C.push(...oT(d,T,S,G));const H=[d,...C],ae=await Do(r,R),fe=[];let Ne=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&fe.push(ae[N]),g){const Se=nT(o,u,G);fe.push(ae[Se[0]],ae[Se[1]])}if(Ne=[...Ne,{placement:o,overflows:fe}],!fe.every(Se=>Se<=0)){var he,pe;const Se=(((he=c.flip)==null?void 0:he.index)||0)+1,Ce=H[Se];if(Ce&&(!(g==="alignment"?O!==Tr(Ce):!1)||Ne.every(se=>Tr(se.placement)===O?se.overflows[0]>0:!0)))return{data:{index:Se,overflows:Ne},reset:{placement:Ce}};let P=(pe=Ne.filter(ne=>ne.overflows[0]<=0).sort((ne,se)=>ne.overflows[1]-se.overflows[1])[0])==null?void 0:pe.placement;if(!P)switch(_){case"bestFit":{var ce;const ne=(ce=Ne.filter(se=>{if(D){const ge=Tr(se.placement);return ge===O||ge==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ge=>ge>0).reduce((ge,z)=>ge+z,0)]).sort((se,ge)=>se[1]-ge[1])[0])==null?void 0:ce[0];ne&&(P=ne);break}case"initialPlacement":P=d;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function ny(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function ry(t){return Z2.some(r=>t[r]>=0)}const fT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:a}=r,{strategy:s="referenceHidden",...o}=ea(t,r);switch(s){case"referenceHidden":{const c=await Do(r,{...o,elementContext:"reference"}),u=ny(c,a.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:ry(u)}}}case"escaped":{const c=await Do(r,{...o,altBoundary:!0}),u=ny(c,a.floating);return{data:{escapedOffsets:u,escaped:ry(u)}}}default:return{}}}}},Db=new Set(["left","top"]);async function hT(t,r){const{placement:a,platform:s,elements:o}=t,c=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=ta(a),d=vs(a),p=Tr(a)==="y",h=Db.has(u)?-1:1,y=c&&p?-1:1,g=ea(r,t);let{mainAxis:w,crossAxis:_,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(_=d==="end"?S*-1:S),p?{x:_*y,y:w*h}:{x:w*h,y:_*y}}const mT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var a,s;const{x:o,y:c,placement:u,middlewareData:d}=r,p=await hT(r,t);return u===((a=d.offset)==null?void 0:a.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},pT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:a,y:s,placement:o}=r,{mainAxis:c=!0,crossAxis:u=!1,limiter:d={fn:R=>{let{x:N,y:O}=R;return{x:N,y:O}}},...p}=ea(t,r),h={x:a,y:s},y=await Do(r,p),g=Tr(ta(o)),w=Hh(g);let _=h[w],S=h[g];if(c){const R=w==="y"?"top":"left",N=w==="y"?"bottom":"right",O=_+y[R],L=_-y[N];_=mh(O,_,L)}if(u){const R=g==="y"?"top":"left",N=g==="y"?"bottom":"right",O=S+y[R],L=S-y[N];S=mh(O,S,L)}const T=d.fn({...r,[w]:_,[g]:S});return{...T,data:{x:T.x-a,y:T.y-s,enabled:{[w]:c,[g]:u}}}}}},gT=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:a,y:s,placement:o,rects:c,middlewareData:u}=r,{offset:d=0,mainAxis:p=!0,crossAxis:h=!0}=ea(t,r),y={x:a,y:s},g=Tr(o),w=Hh(g);let _=y[w],S=y[g];const T=ea(d,r),R=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(p){const L=w==="y"?"height":"width",G=c.reference[w]-c.floating[L]+R.mainAxis,C=c.reference[w]+c.reference[L]-R.mainAxis;_<G?_=G:_>C&&(_=C)}if(h){var N,O;const L=w==="y"?"width":"height",G=Db.has(ta(o)),C=c.reference[g]-c.floating[L]+(G&&((N=u.offset)==null?void 0:N[g])||0)+(G?0:R.crossAxis),D=c.reference[g]+c.reference[L]+(G?0:((O=u.offset)==null?void 0:O[g])||0)-(G?R.crossAxis:0);S<C?S=C:S>D&&(S=D)}return{[w]:_,[g]:S}}}},vT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var a,s;const{placement:o,rects:c,platform:u,elements:d}=r,{apply:p=()=>{},...h}=ea(t,r),y=await Do(r,h),g=ta(o),w=vs(o),_=Tr(o)==="y",{width:S,height:T}=c.floating;let R,N;g==="top"||g==="bottom"?(R=g,N=w===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=g,R=w==="end"?"top":"bottom");const O=T-y.top-y.bottom,L=S-y.left-y.right,G=Da(T-y[R],O),C=Da(S-y[N],L),D=!r.middlewareData.shift;let H=G,ae=C;if((a=r.middlewareData.shift)!=null&&a.enabled.x&&(ae=L),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(H=O),D&&!w){const Ne=Wn(y.left,0),he=Wn(y.right,0),pe=Wn(y.top,0),ce=Wn(y.bottom,0);_?ae=S-2*(Ne!==0||he!==0?Ne+he:Wn(y.left,y.right)):H=T-2*(pe!==0||ce!==0?pe+ce:Wn(y.top,y.bottom))}await p({...r,availableWidth:ae,availableHeight:H});const fe=await u.getDimensions(d.floating);return S!==fe.width||T!==fe.height?{reset:{rects:!0}}:{}}}};function Qc(){return typeof window<"u"}function ys(t){return kb(t)?(t.nodeName||"").toLowerCase():"#document"}function Xn(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Dr(t){var r;return(r=(kb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function kb(t){return Qc()?t instanceof Node||t instanceof Xn(t).Node:!1}function pr(t){return Qc()?t instanceof Element||t instanceof Xn(t).Element:!1}function Cr(t){return Qc()?t instanceof HTMLElement||t instanceof Xn(t).HTMLElement:!1}function ay(t){return!Qc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xn(t).ShadowRoot}const yT=new Set(["inline","contents"]);function Fo(t){const{overflow:r,overflowX:a,overflowY:s,display:o}=gr(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+a)&&!yT.has(o)}const bT=new Set(["table","td","th"]);function xT(t){return bT.has(ys(t))}const wT=[":popover-open",":modal"];function Zc(t){return wT.some(r=>{try{return t.matches(r)}catch{return!1}})}const _T=["transform","translate","scale","rotate","perspective"],ST=["transform","translate","scale","rotate","perspective","filter"],ET=["paint","layout","strict","content"];function Gh(t){const r=Vh(),a=pr(t)?gr(t):t;return _T.some(s=>a[s]?a[s]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!r&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!r&&(a.filter?a.filter!=="none":!1)||ST.some(s=>(a.willChange||"").includes(s))||ET.some(s=>(a.contain||"").includes(s))}function jT(t){let r=ka(t);for(;Cr(r)&&!hs(r);){if(Gh(r))return r;if(Zc(r))return null;r=ka(r)}return null}function Vh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NT=new Set(["html","body","#document"]);function hs(t){return NT.has(ys(t))}function gr(t){return Xn(t).getComputedStyle(t)}function Jc(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ka(t){if(ys(t)==="html")return t;const r=t.assignedSlot||t.parentNode||ay(t)&&t.host||Dr(t);return ay(r)?r.host:r}function Ub(t){const r=ka(t);return hs(r)?t.ownerDocument?t.ownerDocument.body:t.body:Cr(r)&&Fo(r)?r:Ub(r)}function ko(t,r,a){var s;r===void 0&&(r=[]),a===void 0&&(a=!0);const o=Ub(t),c=o===((s=t.ownerDocument)==null?void 0:s.body),u=Xn(o);if(c){const d=gh(u);return r.concat(u,u.visualViewport||[],Fo(o)?o:[],d&&a?ko(d):[])}return r.concat(o,ko(o,[],a))}function gh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lb(t){const r=gr(t);let a=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const o=Cr(t),c=o?t.offsetWidth:a,u=o?t.offsetHeight:s,d=zc(a)!==c||zc(s)!==u;return d&&(a=c,s=u),{width:a,height:s,$:d}}function Yh(t){return pr(t)?t:t.contextElement}function cs(t){const r=Yh(t);if(!Cr(r))return Rr(1);const a=r.getBoundingClientRect(),{width:s,height:o,$:c}=Lb(r);let u=(c?zc(a.width):a.width)/s,d=(c?zc(a.height):a.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const TT=Rr(0);function zb(t){const r=Xn(t);return!Vh()||!r.visualViewport?TT:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function AT(t,r,a){return r===void 0&&(r=!1),!a||r&&a!==Xn(t)?!1:r}function oi(t,r,a,s){r===void 0&&(r=!1),a===void 0&&(a=!1);const o=t.getBoundingClientRect(),c=Yh(t);let u=Rr(1);r&&(s?pr(s)&&(u=cs(s)):u=cs(t));const d=AT(c,a,s)?zb(c):Rr(0);let p=(o.left+d.x)/u.x,h=(o.top+d.y)/u.y,y=o.width/u.x,g=o.height/u.y;if(c){const w=Xn(c),_=s&&pr(s)?Xn(s):s;let S=w,T=gh(S);for(;T&&s&&_!==S;){const R=cs(T),N=T.getBoundingClientRect(),O=gr(T),L=N.left+(T.clientLeft+parseFloat(O.paddingLeft))*R.x,G=N.top+(T.clientTop+parseFloat(O.paddingTop))*R.y;p*=R.x,h*=R.y,y*=R.x,g*=R.y,p+=L,h+=G,S=Xn(T),T=gh(S)}}return Pc({width:y,height:g,x:p,y:h})}function eu(t,r){const a=Jc(t).scrollLeft;return r?r.left+a:oi(Dr(t)).left+a}function Bb(t,r){const a=t.getBoundingClientRect(),s=a.left+r.scrollLeft-eu(t,a),o=a.top+r.scrollTop;return{x:s,y:o}}function RT(t){let{elements:r,rect:a,offsetParent:s,strategy:o}=t;const c=o==="fixed",u=Dr(s),d=r?Zc(r.floating):!1;if(s===u||d&&c)return a;let p={scrollLeft:0,scrollTop:0},h=Rr(1);const y=Rr(0),g=Cr(s);if((g||!g&&!c)&&((ys(s)!=="body"||Fo(u))&&(p=Jc(s)),Cr(s))){const _=oi(s);h=cs(s),y.x=_.x+s.clientLeft,y.y=_.y+s.clientTop}const w=u&&!g&&!c?Bb(u,p):Rr(0);return{width:a.width*h.x,height:a.height*h.y,x:a.x*h.x-p.scrollLeft*h.x+y.x+w.x,y:a.y*h.y-p.scrollTop*h.y+y.y+w.y}}function CT(t){return Array.from(t.getClientRects())}function MT(t){const r=Dr(t),a=Jc(t),s=t.ownerDocument.body,o=Wn(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),c=Wn(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let u=-a.scrollLeft+eu(t);const d=-a.scrollTop;return gr(s).direction==="rtl"&&(u+=Wn(r.clientWidth,s.clientWidth)-o),{width:o,height:c,x:u,y:d}}const iy=25;function OT(t,r){const a=Xn(t),s=Dr(t),o=a.visualViewport;let c=s.clientWidth,u=s.clientHeight,d=0,p=0;if(o){c=o.width,u=o.height;const y=Vh();(!y||y&&r==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}const h=eu(s);if(h<=0){const y=s.ownerDocument,g=y.body,w=getComputedStyle(g),_=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-_);S<=iy&&(c-=S)}else h<=iy&&(c+=h);return{width:c,height:u,x:d,y:p}}const DT=new Set(["absolute","fixed"]);function kT(t,r){const a=oi(t,!0,r==="fixed"),s=a.top+t.clientTop,o=a.left+t.clientLeft,c=Cr(t)?cs(t):Rr(1),u=t.clientWidth*c.x,d=t.clientHeight*c.y,p=o*c.x,h=s*c.y;return{width:u,height:d,x:p,y:h}}function sy(t,r,a){let s;if(r==="viewport")s=OT(t,a);else if(r==="document")s=MT(Dr(t));else if(pr(r))s=kT(r,a);else{const o=zb(t);s={x:r.x-o.x,y:r.y-o.y,width:r.width,height:r.height}}return Pc(s)}function Pb(t,r){const a=ka(t);return a===r||!pr(a)||hs(a)?!1:gr(a).position==="fixed"||Pb(a,r)}function UT(t,r){const a=r.get(t);if(a)return a;let s=ko(t,[],!1).filter(d=>pr(d)&&ys(d)!=="body"),o=null;const c=gr(t).position==="fixed";let u=c?ka(t):t;for(;pr(u)&&!hs(u);){const d=gr(u),p=Gh(u);!p&&d.position==="fixed"&&(o=null),(c?!p&&!o:!p&&d.position==="static"&&!!o&&DT.has(o.position)||Fo(u)&&!p&&Pb(t,u))?s=s.filter(y=>y!==u):o=d,u=ka(u)}return r.set(t,s),s}function LT(t){let{element:r,boundary:a,rootBoundary:s,strategy:o}=t;const u=[...a==="clippingAncestors"?Zc(r)?[]:UT(r,this._c):[].concat(a),s],d=u[0],p=u.reduce((h,y)=>{const g=sy(r,y,o);return h.top=Wn(g.top,h.top),h.right=Da(g.right,h.right),h.bottom=Da(g.bottom,h.bottom),h.left=Wn(g.left,h.left),h},sy(r,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function zT(t){const{width:r,height:a}=Lb(t);return{width:r,height:a}}function BT(t,r,a){const s=Cr(r),o=Dr(r),c=a==="fixed",u=oi(t,!0,c,r);let d={scrollLeft:0,scrollTop:0};const p=Rr(0);function h(){p.x=eu(o)}if(s||!s&&!c)if((ys(r)!=="body"||Fo(o))&&(d=Jc(r)),s){const _=oi(r,!0,c,r);p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}else o&&h();c&&!s&&o&&h();const y=o&&!s&&!c?Bb(o,d):Rr(0),g=u.left+d.scrollLeft-p.x-y.x,w=u.top+d.scrollTop-p.y-y.y;return{x:g,y:w,width:u.width,height:u.height}}function Lf(t){return gr(t).position==="static"}function oy(t,r){if(!Cr(t)||gr(t).position==="fixed")return null;if(r)return r(t);let a=t.offsetParent;return Dr(t)===a&&(a=a.ownerDocument.body),a}function $b(t,r){const a=Xn(t);if(Zc(t))return a;if(!Cr(t)){let o=ka(t);for(;o&&!hs(o);){if(pr(o)&&!Lf(o))return o;o=ka(o)}return a}let s=oy(t,r);for(;s&&xT(s)&&Lf(s);)s=oy(s,r);return s&&hs(s)&&Lf(s)&&!Gh(s)?a:s||jT(t)||a}const PT=async function(t){const r=this.getOffsetParent||$b,a=this.getDimensions,s=await a(t.floating);return{reference:BT(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function $T(t){return gr(t).direction==="rtl"}const IT={convertOffsetParentRelativeRectToViewportRelativeRect:RT,getDocumentElement:Dr,getClippingRect:LT,getOffsetParent:$b,getElementRects:PT,getClientRects:CT,getDimensions:zT,getScale:cs,isElement:pr,isRTL:$T};function Ib(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function HT(t,r){let a=null,s;const o=Dr(t);function c(){var d;clearTimeout(s),(d=a)==null||d.disconnect(),a=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),c();const h=t.getBoundingClientRect(),{left:y,top:g,width:w,height:_}=h;if(d||r(),!w||!_)return;const S=fc(g),T=fc(o.clientWidth-(y+w)),R=fc(o.clientHeight-(g+_)),N=fc(y),L={rootMargin:-S+"px "+-T+"px "+-R+"px "+-N+"px",threshold:Wn(0,Da(1,p))||1};let G=!0;function C(D){const H=D[0].intersectionRatio;if(H!==p){if(!G)return u();H?u(!1,H):s=setTimeout(()=>{u(!1,1e-7)},1e3)}H===1&&!Ib(h,t.getBoundingClientRect())&&u(),G=!1}try{a=new IntersectionObserver(C,{...L,root:o.ownerDocument})}catch{a=new IntersectionObserver(C,L)}a.observe(t)}return u(!0),c}function qT(t,r,a,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,h=Yh(t),y=o||c?[...h?ko(h):[],...ko(r)]:[];y.forEach(N=>{o&&N.addEventListener("scroll",a,{passive:!0}),c&&N.addEventListener("resize",a)});const g=h&&d?HT(h,a):null;let w=-1,_=null;u&&(_=new ResizeObserver(N=>{let[O]=N;O&&O.target===h&&_&&(_.unobserve(r),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=_)==null||L.observe(r)})),a()}),h&&!p&&_.observe(h),_.observe(r));let S,T=p?oi(t):null;p&&R();function R(){const N=oi(t);T&&!Ib(T,N)&&a(),T=N,S=requestAnimationFrame(R)}return a(),()=>{var N;y.forEach(O=>{o&&O.removeEventListener("scroll",a),c&&O.removeEventListener("resize",a)}),g?.(),(N=_)==null||N.disconnect(),_=null,p&&cancelAnimationFrame(S)}}const FT=mT,GT=pT,VT=dT,YT=vT,KT=fT,ly=uT,WT=gT,XT=(t,r,a)=>{const s=new Map,o={platform:IT,...a},c={...o.platform,_c:s};return cT(t,r,{...o,platform:c})};var QT=typeof document<"u",ZT=function(){},Nc=QT?E.useLayoutEffect:ZT;function $c(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let a,s,o;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==r.length)return!1;for(s=a;s--!==0;)if(!$c(t[s],r[s]))return!1;return!0}if(o=Object.keys(t),a=o.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!{}.hasOwnProperty.call(r,o[s]))return!1;for(s=a;s--!==0;){const c=o[s];if(!(c==="_owner"&&t.$$typeof)&&!$c(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}function Hb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cy(t,r){const a=Hb(t);return Math.round(r*a)/a}function zf(t){const r=E.useRef(t);return Nc(()=>{r.current=t}),r}function JT(t){t===void 0&&(t={});const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o,elements:{reference:c,floating:u}={},transform:d=!0,whileElementsMounted:p,open:h}=t,[y,g]=E.useState({x:0,y:0,strategy:a,placement:r,middlewareData:{},isPositioned:!1}),[w,_]=E.useState(s);$c(w,s)||_(s);const[S,T]=E.useState(null),[R,N]=E.useState(null),O=E.useCallback(se=>{se!==D.current&&(D.current=se,T(se))},[]),L=E.useCallback(se=>{se!==H.current&&(H.current=se,N(se))},[]),G=c||S,C=u||R,D=E.useRef(null),H=E.useRef(null),ae=E.useRef(y),fe=p!=null,Ne=zf(p),he=zf(o),pe=zf(h),ce=E.useCallback(()=>{if(!D.current||!H.current)return;const se={placement:r,strategy:a,middleware:w};he.current&&(se.platform=he.current),XT(D.current,H.current,se).then(ge=>{const z={...ge,isPositioned:pe.current!==!1};Se.current&&!$c(ae.current,z)&&(ae.current=z,Gc.flushSync(()=>{g(z)}))})},[w,r,a,he,pe]);Nc(()=>{h===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,g(se=>({...se,isPositioned:!1})))},[h]);const Se=E.useRef(!1);Nc(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Nc(()=>{if(G&&(D.current=G),C&&(H.current=C),G&&C){if(Ne.current)return Ne.current(G,C,ce);ce()}},[G,C,ce,Ne,fe]);const Ce=E.useMemo(()=>({reference:D,floating:H,setReference:O,setFloating:L}),[O,L]),P=E.useMemo(()=>({reference:G,floating:C}),[G,C]),ne=E.useMemo(()=>{const se={position:a,left:0,top:0};if(!P.floating)return se;const ge=cy(P.floating,y.x),z=cy(P.floating,y.y);return d?{...se,transform:"translate("+ge+"px, "+z+"px)",...Hb(P.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:ge,top:z}},[a,d,P.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:ce,refs:Ce,elements:P,floatingStyles:ne}),[y,ce,Ce,P,ne])}const eA=t=>{function r(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:s,padding:o}=typeof t=="function"?t(a):t;return s&&r(s)?s.current!=null?ly({element:s.current,padding:o}).fn(a):{}:s?ly({element:s,padding:o}).fn(a):{}}}},tA=(t,r)=>({...FT(t),options:[t,r]}),nA=(t,r)=>({...GT(t),options:[t,r]}),rA=(t,r)=>({...WT(t),options:[t,r]}),aA=(t,r)=>({...VT(t),options:[t,r]}),iA=(t,r)=>({...YT(t),options:[t,r]}),sA=(t,r)=>({...KT(t),options:[t,r]}),oA=(t,r)=>({...eA(t),options:[t,r]});var lA="Arrow",qb=E.forwardRef((t,r)=>{const{children:a,width:s=10,height:o=5,...c}=t;return m.jsx(zn.svg,{...c,ref:r,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});qb.displayName=lA;var cA=qb;function uA(t){const[r,a]=E.useState(void 0);return si(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,d;if("borderBoxSize"in c){const p=c.borderBoxSize,h=Array.isArray(p)?p[0]:p;u=h.inlineSize,d=h.blockSize}else u=t.offsetWidth,d=t.offsetHeight;a({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else a(void 0)},[t]),r}var Kh="Popper",[Fb,Gb]=qo(Kh),[dA,Vb]=Fb(Kh),Yb=t=>{const{__scopePopper:r,children:a}=t,[s,o]=E.useState(null);return m.jsx(dA,{scope:r,anchor:s,onAnchorChange:o,children:a})};Yb.displayName=Kh;var Kb="PopperAnchor",Wb=E.forwardRef((t,r)=>{const{__scopePopper:a,virtualRef:s,...o}=t,c=Vb(Kb,a),u=E.useRef(null),d=Ln(r,u),p=E.useRef(null);return E.useEffect(()=>{const h=p.current;p.current=s?.current||u.current,h!==p.current&&c.onAnchorChange(p.current)}),s?null:m.jsx(zn.div,{...o,ref:d})});Wb.displayName=Kb;var Wh="PopperContent",[fA,hA]=Fb(Wh),Xb=E.forwardRef((t,r)=>{const{__scopePopper:a,side:s="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:S,...T}=t,R=Vb(Wh,a),[N,O]=E.useState(null),L=Ln(r,be=>O(be)),[G,C]=E.useState(null),D=uA(G),H=D?.width??0,ae=D?.height??0,fe=s+(c!=="center"?"-"+c:""),Ne=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},he=Array.isArray(h)?h:[h],pe=he.length>0,ce={padding:Ne,boundary:he.filter(pA),altBoundary:pe},{refs:Se,floatingStyles:Ce,placement:P,isPositioned:ne,middlewareData:se}=JT({strategy:"fixed",placement:fe,whileElementsMounted:(...be)=>qT(...be,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[tA({mainAxis:o+ae,alignmentAxis:u}),p&&nA({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?rA():void 0,...ce}),p&&aA({...ce}),iA({...ce,apply:({elements:be,rects:le,availableWidth:Ae,availableHeight:qe})=>{const{width:Ie,height:Xe}=le.reference,Qe=be.floating.style;Qe.setProperty("--radix-popper-available-width",`${Ae}px`),Qe.setProperty("--radix-popper-available-height",`${qe}px`),Qe.setProperty("--radix-popper-anchor-width",`${Ie}px`),Qe.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),G&&oA({element:G,padding:d}),gA({arrowWidth:H,arrowHeight:ae}),w&&sA({strategy:"referenceHidden",...ce})]}),[ge,z]=Jb(P),X=Jr(S);si(()=>{ne&&X?.()},[ne,X]);const ye=se.arrow?.x,oe=se.arrow?.y,Y=se.arrow?.centerOffset!==0,[Q,Z]=E.useState();return si(()=>{N&&Z(window.getComputedStyle(N).zIndex)},[N]),m.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:ne?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[se.transformOrigin?.x,se.transformOrigin?.y].join(" "),...se.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(fA,{scope:a,placedSide:ge,onArrowChange:C,arrowX:ye,arrowY:oe,shouldHideArrow:Y,children:m.jsx(zn.div,{"data-side":ge,"data-align":z,...T,ref:L,style:{...T.style,animation:ne?void 0:"none"}})})})});Xb.displayName=Wh;var Qb="PopperArrow",mA={top:"bottom",right:"left",bottom:"top",left:"right"},Zb=E.forwardRef(function(r,a){const{__scopePopper:s,...o}=r,c=hA(Qb,s),u=mA[c.placedSide];return m.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:m.jsx(cA,{...o,ref:a,style:{...o.style,display:"block"}})})});Zb.displayName=Qb;function pA(t){return t!==null}var gA=t=>({name:"transformOrigin",options:t,fn(r){const{placement:a,rects:s,middlewareData:o}=r,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,p=u?0:t.arrowHeight,[h,y]=Jb(a),g={start:"0%",center:"50%",end:"100%"}[y],w=(o.arrow?.x??0)+d/2,_=(o.arrow?.y??0)+p/2;let S="",T="";return h==="bottom"?(S=u?g:`${w}px`,T=`${-p}px`):h==="top"?(S=u?g:`${w}px`,T=`${s.floating.height+p}px`):h==="right"?(S=`${-p}px`,T=u?g:`${_}px`):h==="left"&&(S=`${s.floating.width+p}px`,T=u?g:`${_}px`),{data:{x:S,y:T}}}});function Jb(t){const[r,a="center"]=t.split("-");return[r,a]}var vA=Yb,yA=Wb,bA=Xb,xA=Zb;function wA(t,r){return E.useReducer((a,s)=>r[a][s]??a,t)}var tu=t=>{const{present:r,children:a}=t,s=_A(r),o=typeof a=="function"?a({present:s.isPresent}):E.Children.only(a),c=Ln(s.ref,SA(o));return typeof a=="function"||s.isPresent?E.cloneElement(o,{ref:c}):null};tu.displayName="Presence";function _A(t){const[r,a]=E.useState(),s=E.useRef(null),o=E.useRef(t),c=E.useRef("none"),u=t?"mounted":"unmounted",[d,p]=wA(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=hc(s.current);c.current=d==="mounted"?h:"none"},[d]),si(()=>{const h=s.current,y=o.current;if(y!==t){const w=c.current,_=hc(h);t?p("MOUNT"):_==="none"||h?.display==="none"?p("UNMOUNT"):p(y&&w!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,p]),si(()=>{if(r){let h;const y=r.ownerDocument.defaultView??window,g=_=>{const T=hc(s.current).includes(CSS.escape(_.animationName));if(_.target===r&&T&&(p("ANIMATION_END"),!o.current)){const R=r.style.animationFillMode;r.style.animationFillMode="forwards",h=y.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=R)})}},w=_=>{_.target===r&&(c.current=hc(s.current))};return r.addEventListener("animationstart",w),r.addEventListener("animationcancel",g),r.addEventListener("animationend",g),()=>{y.clearTimeout(h),r.removeEventListener("animationstart",w),r.removeEventListener("animationcancel",g),r.removeEventListener("animationend",g)}}else p("ANIMATION_END")},[r,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:E.useCallback(h=>{s.current=h?getComputedStyle(h):null,a(h)},[])}}function hc(t){return t?.animationName||"none"}function SA(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Bf="rovingFocusGroup.onEntryFocus",EA={bubbles:!1,cancelable:!0},Go="RovingFocusGroup",[vh,ex,jA]=jb(Go),[NA,tx]=qo(Go,[jA]),[TA,AA]=NA(Go),nx=E.forwardRef((t,r)=>m.jsx(vh.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(vh.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(RA,{...t,ref:r})})}));nx.displayName=Go;var RA=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,orientation:s,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:y=!1,...g}=t,w=E.useRef(null),_=Ln(r,w),S=Nb(c),[T,R]=Sb({prop:u,defaultProp:d??null,onChange:p,caller:Go}),[N,O]=E.useState(!1),L=Jr(h),G=ex(a),C=E.useRef(!1),[D,H]=E.useState(0);return E.useEffect(()=>{const ae=w.current;if(ae)return ae.addEventListener(Bf,L),()=>ae.removeEventListener(Bf,L)},[L]),m.jsx(TA,{scope:a,orientation:s,dir:S,loop:o,currentTabStopId:T,onItemFocus:E.useCallback(ae=>R(ae),[R]),onItemShiftTab:E.useCallback(()=>O(!0),[]),onFocusableItemAdd:E.useCallback(()=>H(ae=>ae+1),[]),onFocusableItemRemove:E.useCallback(()=>H(ae=>ae-1),[]),children:m.jsx(zn.div,{tabIndex:N||D===0?-1:0,"data-orientation":s,...g,ref:_,style:{outline:"none",...t.style},onMouseDown:_t(t.onMouseDown,()=>{C.current=!0}),onFocus:_t(t.onFocus,ae=>{const fe=!C.current;if(ae.target===ae.currentTarget&&fe&&!N){const Ne=new CustomEvent(Bf,EA);if(ae.currentTarget.dispatchEvent(Ne),!Ne.defaultPrevented){const he=G().filter(P=>P.focusable),pe=he.find(P=>P.active),ce=he.find(P=>P.id===T),Ce=[pe,ce,...he].filter(Boolean).map(P=>P.ref.current);ix(Ce,y)}}C.current=!1}),onBlur:_t(t.onBlur,()=>O(!1))})})}),rx="RovingFocusGroupItem",ax=E.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,focusable:s=!0,active:o=!1,tabStopId:c,children:u,...d}=t,p=hh(),h=c||p,y=AA(rx,a),g=y.currentTabStopId===h,w=ex(a),{onFocusableItemAdd:_,onFocusableItemRemove:S,currentTabStopId:T}=y;return E.useEffect(()=>{if(s)return _(),()=>S()},[s,_,S]),m.jsx(vh.ItemSlot,{scope:a,id:h,focusable:s,active:o,children:m.jsx(zn.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...d,ref:r,onMouseDown:_t(t.onMouseDown,R=>{s?y.onItemFocus(h):R.preventDefault()}),onFocus:_t(t.onFocus,()=>y.onItemFocus(h)),onKeyDown:_t(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){y.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const N=OA(R,y.orientation,y.dir);if(N!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let L=w().filter(G=>G.focusable).map(G=>G.ref.current);if(N==="last")L.reverse();else if(N==="prev"||N==="next"){N==="prev"&&L.reverse();const G=L.indexOf(R.currentTarget);L=y.loop?DA(L,G+1):L.slice(G+1)}setTimeout(()=>ix(L))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:T!=null}):u})})});ax.displayName=rx;var CA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MA(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function OA(t,r,a){const s=MA(t.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return CA[s]}function ix(t,r=!1){const a=document.activeElement;for(const s of t)if(s===a||(s.focus({preventScroll:r}),document.activeElement!==a))return}function DA(t,r){return t.map((a,s)=>t[(r+s)%t.length])}var kA=nx,UA=ax,LA=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},ns=new WeakMap,mc=new WeakMap,pc={},Pf=0,sx=function(t){return t&&(t.host||sx(t.parentNode))},zA=function(t,r){return r.map(function(a){if(t.contains(a))return a;var s=sx(a);return s&&t.contains(s)?s:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},BA=function(t,r,a,s){var o=zA(r,Array.isArray(t)?t:[t]);pc[a]||(pc[a]=new WeakMap);var c=pc[a],u=[],d=new Set,p=new Set(o),h=function(g){!g||d.has(g)||(d.add(g),h(g.parentNode))};o.forEach(h);var y=function(g){!g||p.has(g)||Array.prototype.forEach.call(g.children,function(w){if(d.has(w))y(w);else try{var _=w.getAttribute(s),S=_!==null&&_!=="false",T=(ns.get(w)||0)+1,R=(c.get(w)||0)+1;ns.set(w,T),c.set(w,R),u.push(w),T===1&&S&&mc.set(w,!0),R===1&&w.setAttribute(a,"true"),S||w.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return y(r),d.clear(),Pf++,function(){u.forEach(function(g){var w=ns.get(g)-1,_=c.get(g)-1;ns.set(g,w),c.set(g,_),w||(mc.has(g)||g.removeAttribute(s),mc.delete(g)),_||g.removeAttribute(a)}),Pf--,Pf||(ns=new WeakMap,ns=new WeakMap,mc=new WeakMap,pc={})}},PA=function(t,r,a){a===void 0&&(a="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=LA(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),BA(s,o,a,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(r){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},Nr.apply(this,arguments)};function ox(t,r){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(a[s[o]]=t[s[o]]);return a}function IO(t,r,a,s){var o=arguments.length,c=o<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,a):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,r,a,s);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(c=(o<3?u(c):o>3?u(r,a,c):u(r,a))||c);return o>3&&c&&Object.defineProperty(r,a,c),c}function $A(t,r,a){if(a||arguments.length===2)for(var s=0,o=r.length,c;s<o;s++)(c||!(s in r))&&(c||(c=Array.prototype.slice.call(r,0,s)),c[s]=r[s]);return t.concat(c||Array.prototype.slice.call(r))}var Tc="right-scroll-bar-position",Ac="width-before-scroll-bar",IA="with-scroll-bars-hidden",HA="--removed-body-scroll-bar-size";function $f(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function qA(t,r){var a=E.useState(function(){return{value:t,callback:r,facade:{get current(){return a.value},set current(s){var o=a.value;o!==s&&(a.value=s,a.callback(s,o))}}}})[0];return a.callback=r,a.facade}var FA=typeof window<"u"?E.useLayoutEffect:E.useEffect,uy=new WeakMap;function GA(t,r){var a=qA(null,function(s){return t.forEach(function(o){return $f(o,s)})});return FA(function(){var s=uy.get(a);if(s){var o=new Set(s),c=new Set(t),u=a.current;o.forEach(function(d){c.has(d)||$f(d,null)}),c.forEach(function(d){o.has(d)||$f(d,u)})}uy.set(a,t)},[t]),a}function VA(t){return t}function YA(t,r){r===void 0&&(r=VA);var a=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(c){var u=r(c,s);return a.push(u),function(){a=a.filter(function(d){return d!==u})}},assignSyncMedium:function(c){for(s=!0;a.length;){var u=a;a=[],u.forEach(c)}a={push:function(d){return c(d)},filter:function(){return a}}},assignMedium:function(c){s=!0;var u=[];if(a.length){var d=a;a=[],d.forEach(c),u=a}var p=function(){var y=u;u=[],y.forEach(c)},h=function(){return Promise.resolve().then(p)};h(),a={push:function(y){u.push(y),h()},filter:function(y){return u=u.filter(y),a}}}};return o}function KA(t){t===void 0&&(t={});var r=YA(null);return r.options=Nr({async:!0,ssr:!1},t),r}var lx=function(t){var r=t.sideCar,a=ox(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return E.createElement(s,Nr({},a))};lx.isSideCarExport=!0;function WA(t,r){return t.useMedium(r),lx}var cx=KA(),If=function(){},nu=E.forwardRef(function(t,r){var a=E.useRef(null),s=E.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),o=s[0],c=s[1],u=t.forwardProps,d=t.children,p=t.className,h=t.removeScrollBar,y=t.enabled,g=t.shards,w=t.sideCar,_=t.noRelative,S=t.noIsolation,T=t.inert,R=t.allowPinchZoom,N=t.as,O=N===void 0?"div":N,L=t.gapMode,G=ox(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=w,D=GA([a,r]),H=Nr(Nr({},G),o);return E.createElement(E.Fragment,null,y&&E.createElement(C,{sideCar:cx,removeScrollBar:h,shards:g,noRelative:_,noIsolation:S,inert:T,setCallbacks:c,allowPinchZoom:!!R,lockRef:a,gapMode:L}),u?E.cloneElement(E.Children.only(d),Nr(Nr({},H),{ref:D})):E.createElement(O,Nr({},H,{className:p,ref:D}),d))});nu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nu.classNames={fullWidth:Ac,zeroRight:Tc};var XA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=XA();return r&&t.setAttribute("nonce",r),t}function ZA(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function JA(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var eR=function(){var t=0,r=null;return{add:function(a){t==0&&(r=QA())&&(ZA(r,a),JA(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},tR=function(){var t=eR();return function(r,a){E.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&a])}},ux=function(){var t=tR(),r=function(a){var s=a.styles,o=a.dynamic;return t(s,o),null};return r},nR={left:0,top:0,right:0,gap:0},Hf=function(t){return parseInt(t||"",10)||0},rR=function(t){var r=window.getComputedStyle(document.body),a=r[t==="padding"?"paddingLeft":"marginLeft"],s=r[t==="padding"?"paddingTop":"marginTop"],o=r[t==="padding"?"paddingRight":"marginRight"];return[Hf(a),Hf(s),Hf(o)]},aR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return nR;var r=rR(t),a=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-a+r[2]-r[0])}},iR=ux(),us="data-scroll-locked",sR=function(t,r,a,s){var o=t.left,c=t.top,u=t.right,d=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(IA,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(us,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),a==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tc,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Ac,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Tc," .").concat(Tc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ac," .").concat(Ac,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(us,`] {
    `).concat(HA,": ").concat(d,`px;
  }
`)},dy=function(){var t=parseInt(document.body.getAttribute(us)||"0",10);return isFinite(t)?t:0},oR=function(){E.useEffect(function(){return document.body.setAttribute(us,(dy()+1).toString()),function(){var t=dy()-1;t<=0?document.body.removeAttribute(us):document.body.setAttribute(us,t.toString())}},[])},lR=function(t){var r=t.noRelative,a=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;oR();var c=E.useMemo(function(){return aR(o)},[o]);return E.createElement(iR,{styles:sR(c,!r,o,a?"":"!important")})},yh=!1;if(typeof window<"u")try{var gc=Object.defineProperty({},"passive",{get:function(){return yh=!0,!0}});window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{yh=!1}var rs=yh?{passive:!1}:!1,cR=function(t){return t.tagName==="TEXTAREA"},dx=function(t,r){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[r]!=="hidden"&&!(a.overflowY===a.overflowX&&!cR(t)&&a[r]==="visible")},uR=function(t){return dx(t,"overflowY")},dR=function(t){return dx(t,"overflowX")},fy=function(t,r){var a=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=fx(t,s);if(o){var c=hx(t,s),u=c[1],d=c[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==a.body);return!1},fR=function(t){var r=t.scrollTop,a=t.scrollHeight,s=t.clientHeight;return[r,a,s]},hR=function(t){var r=t.scrollLeft,a=t.scrollWidth,s=t.clientWidth;return[r,a,s]},fx=function(t,r){return t==="v"?uR(r):dR(r)},hx=function(t,r){return t==="v"?fR(r):hR(r)},mR=function(t,r){return t==="h"&&r==="rtl"?-1:1},pR=function(t,r,a,s,o){var c=mR(t,window.getComputedStyle(r).direction),u=c*s,d=a.target,p=r.contains(d),h=!1,y=u>0,g=0,w=0;do{if(!d)break;var _=hx(t,d),S=_[0],T=_[1],R=_[2],N=T-R-c*S;(S||N)&&fx(t,d)&&(g+=N,w+=S);var O=d.parentNode;d=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!p&&d!==document.body||p&&(r.contains(d)||r===d));return(y&&Math.abs(g)<1||!y&&Math.abs(w)<1)&&(h=!0),h},vc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hy=function(t){return[t.deltaX,t.deltaY]},my=function(t){return t&&"current"in t?t.current:t},gR=function(t,r){return t[0]===r[0]&&t[1]===r[1]},vR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yR=0,as=[];function bR(t){var r=E.useRef([]),a=E.useRef([0,0]),s=E.useRef(),o=E.useState(yR++)[0],c=E.useState(ux)[0],u=E.useRef(t);E.useEffect(function(){u.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var T=$A([t.lockRef.current],(t.shards||[]).map(my),!0).filter(Boolean);return T.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),T.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=E.useCallback(function(T,R){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!u.current.allowPinchZoom;var N=vc(T),O=a.current,L="deltaX"in T?T.deltaX:O[0]-N[0],G="deltaY"in T?T.deltaY:O[1]-N[1],C,D=T.target,H=Math.abs(L)>Math.abs(G)?"h":"v";if("touches"in T&&H==="h"&&D.type==="range")return!1;var ae=fy(H,D);if(!ae)return!0;if(ae?C=H:(C=H==="v"?"h":"v",ae=fy(H,D)),!ae)return!1;if(!s.current&&"changedTouches"in T&&(L||G)&&(s.current=C),!C)return!0;var fe=s.current||C;return pR(fe,R,T,fe==="h"?L:G)},[]),p=E.useCallback(function(T){var R=T;if(!(!as.length||as[as.length-1]!==c)){var N="deltaY"in R?hy(R):vc(R),O=r.current.filter(function(C){return C.name===R.type&&(C.target===R.target||R.target===C.shadowParent)&&gR(C.delta,N)})[0];if(O&&O.should){R.cancelable&&R.preventDefault();return}if(!O){var L=(u.current.shards||[]).map(my).filter(Boolean).filter(function(C){return C.contains(R.target)}),G=L.length>0?d(R,L[0]):!u.current.noIsolation;G&&R.cancelable&&R.preventDefault()}}},[]),h=E.useCallback(function(T,R,N,O){var L={name:T,delta:R,target:N,should:O,shadowParent:xR(N)};r.current.push(L),setTimeout(function(){r.current=r.current.filter(function(G){return G!==L})},1)},[]),y=E.useCallback(function(T){a.current=vc(T),s.current=void 0},[]),g=E.useCallback(function(T){h(T.type,hy(T),T.target,d(T,t.lockRef.current))},[]),w=E.useCallback(function(T){h(T.type,vc(T),T.target,d(T,t.lockRef.current))},[]);E.useEffect(function(){return as.push(c),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",p,rs),document.addEventListener("touchmove",p,rs),document.addEventListener("touchstart",y,rs),function(){as=as.filter(function(T){return T!==c}),document.removeEventListener("wheel",p,rs),document.removeEventListener("touchmove",p,rs),document.removeEventListener("touchstart",y,rs)}},[]);var _=t.removeScrollBar,S=t.inert;return E.createElement(E.Fragment,null,S?E.createElement(c,{styles:vR(o)}):null,_?E.createElement(lR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xR(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const wR=WA(cx,bR);var mx=E.forwardRef(function(t,r){return E.createElement(nu,Nr({},t,{ref:r,sideCar:wR}))});mx.classNames=nu.classNames;var bh=["Enter"," "],_R=["ArrowDown","PageUp","Home"],px=["ArrowUp","PageDown","End"],SR=[..._R,...px],ER={ltr:[...bh,"ArrowRight"],rtl:[...bh,"ArrowLeft"]},jR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vo="Menu",[Uo,NR,TR]=jb(Vo),[fi,gx]=qo(Vo,[TR,Gb,tx]),ru=Gb(),vx=tx(),[AR,bs]=fi(Vo),[RR,Yo]=fi(Vo),yx=t=>{const{__scopeMenu:r,open:a=!1,children:s,dir:o,onOpenChange:c,modal:u=!0}=t,d=ru(r),[p,h]=E.useState(null),y=E.useRef(!1),g=Jr(c),w=Nb(o);return E.useEffect(()=>{const _=()=>{y.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>y.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),m.jsx(vA,{...d,children:m.jsx(AR,{scope:r,open:a,onOpenChange:g,content:p,onContentChange:h,children:m.jsx(RR,{scope:r,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:w,modal:u,children:s})})})};yx.displayName=Vo;var CR="MenuAnchor",Xh=E.forwardRef((t,r)=>{const{__scopeMenu:a,...s}=t,o=ru(a);return m.jsx(yA,{...o,...s,ref:r})});Xh.displayName=CR;var MR="MenuPortal",[HO,bx]=fi(MR,{forceMount:void 0}),lr="MenuContent",[OR,Qh]=fi(lr),xx=E.forwardRef((t,r)=>{const a=bx(lr,t.__scopeMenu),{forceMount:s=a.forceMount,...o}=t,c=bs(lr,t.__scopeMenu),u=Yo(lr,t.__scopeMenu);return m.jsx(Uo.Provider,{scope:t.__scopeMenu,children:m.jsx(tu,{present:s||c.open,children:m.jsx(Uo.Slot,{scope:t.__scopeMenu,children:u.modal?m.jsx(DR,{...o,ref:r}):m.jsx(kR,{...o,ref:r})})})})}),DR=E.forwardRef((t,r)=>{const a=bs(lr,t.__scopeMenu),s=E.useRef(null),o=Ln(r,s);return E.useEffect(()=>{const c=s.current;if(c)return PA(c)},[]),m.jsx(Zh,{...t,ref:o,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:_t(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),kR=E.forwardRef((t,r)=>{const a=bs(lr,t.__scopeMenu);return m.jsx(Zh,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),UR=Lc("MenuContent.ScrollLock"),Zh=E.forwardRef((t,r)=>{const{__scopeMenu:a,loop:s=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEntryFocus:p,onEscapeKeyDown:h,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:w,onDismiss:_,disableOutsideScroll:S,...T}=t,R=bs(lr,a),N=Yo(lr,a),O=ru(a),L=vx(a),G=NR(a),[C,D]=E.useState(null),H=E.useRef(null),ae=Ln(r,H,R.onContentChange),fe=E.useRef(0),Ne=E.useRef(""),he=E.useRef(0),pe=E.useRef(null),ce=E.useRef("right"),Se=E.useRef(0),Ce=S?mx:E.Fragment,P=S?{as:UR,allowPinchZoom:!0}:void 0,ne=ge=>{const z=Ne.current+ge,X=G().filter(be=>!be.disabled),ye=document.activeElement,oe=X.find(be=>be.ref.current===ye)?.textValue,Y=X.map(be=>be.textValue),Q=YR(Y,z,oe),Z=X.find(be=>be.textValue===Q)?.ref.current;(function be(le){Ne.current=le,window.clearTimeout(fe.current),le!==""&&(fe.current=window.setTimeout(()=>be(""),1e3))})(z),Z&&setTimeout(()=>Z.focus())};E.useEffect(()=>()=>window.clearTimeout(fe.current),[]),H2();const se=E.useCallback(ge=>ce.current===pe.current?.side&&WR(ge,pe.current?.area),[]);return m.jsx(OR,{scope:a,searchRef:Ne,onItemEnter:E.useCallback(ge=>{se(ge)&&ge.preventDefault()},[se]),onItemLeave:E.useCallback(ge=>{se(ge)||(H.current?.focus(),D(null))},[se]),onTriggerLeave:E.useCallback(ge=>{se(ge)&&ge.preventDefault()},[se]),pointerGraceTimerRef:he,onPointerGraceIntentChange:E.useCallback(ge=>{pe.current=ge},[]),children:m.jsx(Ce,{...P,children:m.jsx(Cb,{asChild:!0,trapped:o,onMountAutoFocus:_t(c,ge=>{ge.preventDefault(),H.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:m.jsx(Ab,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:w,onDismiss:_,children:m.jsx(kA,{asChild:!0,...L,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:D,onEntryFocus:_t(p,ge=>{N.isUsingKeyboardRef.current||ge.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(bA,{role:"menu","aria-orientation":"vertical","data-state":Lx(R.open),"data-radix-menu-content":"",dir:N.dir,...O,...T,ref:ae,style:{outline:"none",...T.style},onKeyDown:_t(T.onKeyDown,ge=>{const X=ge.target.closest("[data-radix-menu-content]")===ge.currentTarget,ye=ge.ctrlKey||ge.altKey||ge.metaKey,oe=ge.key.length===1;X&&(ge.key==="Tab"&&ge.preventDefault(),!ye&&oe&&ne(ge.key));const Y=H.current;if(ge.target!==Y||!SR.includes(ge.key))return;ge.preventDefault();const Z=G().filter(be=>!be.disabled).map(be=>be.ref.current);px.includes(ge.key)&&Z.reverse(),GR(Z)}),onBlur:_t(t.onBlur,ge=>{ge.currentTarget.contains(ge.target)||(window.clearTimeout(fe.current),Ne.current="")}),onPointerMove:_t(t.onPointerMove,Lo(ge=>{const z=ge.target,X=Se.current!==ge.clientX;if(ge.currentTarget.contains(z)&&X){const ye=ge.clientX>Se.current?"right":"left";ce.current=ye,Se.current=ge.clientX}}))})})})})})})});xx.displayName=lr;var LR="MenuGroup",Jh=E.forwardRef((t,r)=>{const{__scopeMenu:a,...s}=t;return m.jsx(zn.div,{role:"group",...s,ref:r})});Jh.displayName=LR;var zR="MenuLabel",wx=E.forwardRef((t,r)=>{const{__scopeMenu:a,...s}=t;return m.jsx(zn.div,{...s,ref:r})});wx.displayName=zR;var Ic="MenuItem",py="menu.itemSelect",au=E.forwardRef((t,r)=>{const{disabled:a=!1,onSelect:s,...o}=t,c=E.useRef(null),u=Yo(Ic,t.__scopeMenu),d=Qh(Ic,t.__scopeMenu),p=Ln(r,c),h=E.useRef(!1),y=()=>{const g=c.current;if(!a&&g){const w=new CustomEvent(py,{bubbles:!0,cancelable:!0});g.addEventListener(py,_=>s?.(_),{once:!0}),Eb(g,w),w.defaultPrevented?h.current=!1:u.onClose()}};return m.jsx(_x,{...o,ref:p,disabled:a,onClick:_t(t.onClick,y),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:_t(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:_t(t.onKeyDown,g=>{const w=d.searchRef.current!=="";a||w&&g.key===" "||bh.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});au.displayName=Ic;var _x=E.forwardRef((t,r)=>{const{__scopeMenu:a,disabled:s=!1,textValue:o,...c}=t,u=Qh(Ic,a),d=vx(a),p=E.useRef(null),h=Ln(r,p),[y,g]=E.useState(!1),[w,_]=E.useState("");return E.useEffect(()=>{const S=p.current;S&&_((S.textContent??"").trim())},[c.children]),m.jsx(Uo.ItemSlot,{scope:a,disabled:s,textValue:o??w,children:m.jsx(UA,{asChild:!0,...d,focusable:!s,children:m.jsx(zn.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...c,ref:h,onPointerMove:_t(t.onPointerMove,Lo(S=>{s?u.onItemLeave(S):(u.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_t(t.onPointerLeave,Lo(S=>u.onItemLeave(S))),onFocus:_t(t.onFocus,()=>g(!0)),onBlur:_t(t.onBlur,()=>g(!1))})})})}),BR="MenuCheckboxItem",Sx=E.forwardRef((t,r)=>{const{checked:a=!1,onCheckedChange:s,...o}=t;return m.jsx(Ax,{scope:t.__scopeMenu,checked:a,children:m.jsx(au,{role:"menuitemcheckbox","aria-checked":Hc(a)?"mixed":a,...o,ref:r,"data-state":tm(a),onSelect:_t(o.onSelect,()=>s?.(Hc(a)?!0:!a),{checkForDefaultPrevented:!1})})})});Sx.displayName=BR;var Ex="MenuRadioGroup",[PR,$R]=fi(Ex,{value:void 0,onValueChange:()=>{}}),jx=E.forwardRef((t,r)=>{const{value:a,onValueChange:s,...o}=t,c=Jr(s);return m.jsx(PR,{scope:t.__scopeMenu,value:a,onValueChange:c,children:m.jsx(Jh,{...o,ref:r})})});jx.displayName=Ex;var Nx="MenuRadioItem",Tx=E.forwardRef((t,r)=>{const{value:a,...s}=t,o=$R(Nx,t.__scopeMenu),c=a===o.value;return m.jsx(Ax,{scope:t.__scopeMenu,checked:c,children:m.jsx(au,{role:"menuitemradio","aria-checked":c,...s,ref:r,"data-state":tm(c),onSelect:_t(s.onSelect,()=>o.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});Tx.displayName=Nx;var em="MenuItemIndicator",[Ax,IR]=fi(em,{checked:!1}),Rx=E.forwardRef((t,r)=>{const{__scopeMenu:a,forceMount:s,...o}=t,c=IR(em,a);return m.jsx(tu,{present:s||Hc(c.checked)||c.checked===!0,children:m.jsx(zn.span,{...o,ref:r,"data-state":tm(c.checked)})})});Rx.displayName=em;var HR="MenuSeparator",Cx=E.forwardRef((t,r)=>{const{__scopeMenu:a,...s}=t;return m.jsx(zn.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});Cx.displayName=HR;var qR="MenuArrow",Mx=E.forwardRef((t,r)=>{const{__scopeMenu:a,...s}=t,o=ru(a);return m.jsx(xA,{...o,...s,ref:r})});Mx.displayName=qR;var FR="MenuSub",[qO,Ox]=fi(FR),Eo="MenuSubTrigger",Dx=E.forwardRef((t,r)=>{const a=bs(Eo,t.__scopeMenu),s=Yo(Eo,t.__scopeMenu),o=Ox(Eo,t.__scopeMenu),c=Qh(Eo,t.__scopeMenu),u=E.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:p}=c,h={__scopeMenu:t.__scopeMenu},y=E.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return E.useEffect(()=>y,[y]),E.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),p(null)}},[d,p]),m.jsx(Xh,{asChild:!0,...h,children:m.jsx(_x,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":o.contentId,"data-state":Lx(a.open),...t,ref:Xc(r,o.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:_t(t.onPointerMove,Lo(g=>{c.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!a.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{a.onOpenChange(!0),y()},100))})),onPointerLeave:_t(t.onPointerLeave,Lo(g=>{y();const w=a.content?.getBoundingClientRect();if(w){const _=a.content?.dataset.side,S=_==="right",T=S?-5:5,R=w[S?"left":"right"],N=w[S?"right":"left"];c.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:R,y:w.top},{x:N,y:w.top},{x:N,y:w.bottom},{x:R,y:w.bottom}],side:_}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(g),g.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:_t(t.onKeyDown,g=>{const w=c.searchRef.current!=="";t.disabled||w&&g.key===" "||ER[s.dir].includes(g.key)&&(a.onOpenChange(!0),a.content?.focus(),g.preventDefault())})})})});Dx.displayName=Eo;var kx="MenuSubContent",Ux=E.forwardRef((t,r)=>{const a=bx(lr,t.__scopeMenu),{forceMount:s=a.forceMount,...o}=t,c=bs(lr,t.__scopeMenu),u=Yo(lr,t.__scopeMenu),d=Ox(kx,t.__scopeMenu),p=E.useRef(null),h=Ln(r,p);return m.jsx(Uo.Provider,{scope:t.__scopeMenu,children:m.jsx(tu,{present:s||c.open,children:m.jsx(Uo.Slot,{scope:t.__scopeMenu,children:m.jsx(Zh,{id:d.contentId,"aria-labelledby":d.triggerId,...o,ref:h,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{u.isUsingKeyboardRef.current&&p.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:_t(t.onFocusOutside,y=>{y.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:_t(t.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:_t(t.onKeyDown,y=>{const g=y.currentTarget.contains(y.target),w=jR[u.dir].includes(y.key);g&&w&&(c.onOpenChange(!1),d.trigger?.focus(),y.preventDefault())})})})})})});Ux.displayName=kx;function Lx(t){return t?"open":"closed"}function Hc(t){return t==="indeterminate"}function tm(t){return Hc(t)?"indeterminate":t?"checked":"unchecked"}function GR(t){const r=document.activeElement;for(const a of t)if(a===r||(a.focus(),document.activeElement!==r))return}function VR(t,r){return t.map((a,s)=>t[(r+s)%t.length])}function YR(t,r,a){const o=r.length>1&&Array.from(r).every(h=>h===r[0])?r[0]:r,c=a?t.indexOf(a):-1;let u=VR(t,Math.max(c,0));o.length===1&&(u=u.filter(h=>h!==a));const p=u.find(h=>h.toLowerCase().startsWith(o.toLowerCase()));return p!==a?p:void 0}function KR(t,r){const{x:a,y:s}=t;let o=!1;for(let c=0,u=r.length-1;c<r.length;u=c++){const d=r[c],p=r[u],h=d.x,y=d.y,g=p.x,w=p.y;y>s!=w>s&&a<(g-h)*(s-y)/(w-y)+h&&(o=!o)}return o}function WR(t,r){if(!r)return!1;const a={x:t.clientX,y:t.clientY};return KR(a,r)}function Lo(t){return r=>r.pointerType==="mouse"?t(r):void 0}var XR=yx,QR=Xh,ZR=xx,JR=Jh,eC=wx,tC=au,nC=Sx,rC=jx,aC=Tx,iC=Rx,sC=Cx,oC=Mx,lC=Dx,cC=Ux,iu="DropdownMenu",[uC]=qo(iu,[gx]),Bn=gx(),[dC,zx]=uC(iu),Bx=t=>{const{__scopeDropdownMenu:r,children:a,dir:s,open:o,defaultOpen:c,onOpenChange:u,modal:d=!0}=t,p=Bn(r),h=E.useRef(null),[y,g]=Sb({prop:o,defaultProp:c??!1,onChange:u,caller:iu});return m.jsx(dC,{scope:r,triggerId:hh(),triggerRef:h,contentId:hh(),open:y,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(w=>!w),[g]),modal:d,children:m.jsx(XR,{...p,open:y,onOpenChange:g,dir:s,modal:d,children:a})})};Bx.displayName=iu;var Px="DropdownMenuTrigger",$x=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,disabled:s=!1,...o}=t,c=zx(Px,a),u=Bn(a);return m.jsx(QR,{asChild:!0,...u,children:m.jsx(zn.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...o,ref:Xc(r,c.triggerRef),onPointerDown:_t(t.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:_t(t.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});$x.displayName=Px;var Ix="DropdownMenuContent",Hx=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=zx(Ix,a),c=Bn(a),u=E.useRef(!1);return m.jsx(ZR,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...s,ref:r,onCloseAutoFocus:_t(t.onCloseAutoFocus,d=>{u.current||o.triggerRef.current?.focus(),u.current=!1,d.preventDefault()}),onInteractOutside:_t(t.onInteractOutside,d=>{const p=d.detail.originalEvent,h=p.button===0&&p.ctrlKey===!0,y=p.button===2||h;(!o.modal||y)&&(u.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hx.displayName=Ix;var fC="DropdownMenuGroup",hC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(JR,{...o,...s,ref:r})});hC.displayName=fC;var mC="DropdownMenuLabel",pC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(eC,{...o,...s,ref:r})});pC.displayName=mC;var gC="DropdownMenuItem",qx=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(tC,{...o,...s,ref:r})});qx.displayName=gC;var vC="DropdownMenuCheckboxItem",yC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(nC,{...o,...s,ref:r})});yC.displayName=vC;var bC="DropdownMenuRadioGroup",xC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(rC,{...o,...s,ref:r})});xC.displayName=bC;var wC="DropdownMenuRadioItem",_C=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(aC,{...o,...s,ref:r})});_C.displayName=wC;var SC="DropdownMenuItemIndicator",EC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(iC,{...o,...s,ref:r})});EC.displayName=SC;var jC="DropdownMenuSeparator",NC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(sC,{...o,...s,ref:r})});NC.displayName=jC;var TC="DropdownMenuArrow",AC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(oC,{...o,...s,ref:r})});AC.displayName=TC;var RC="DropdownMenuSubTrigger",CC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(lC,{...o,...s,ref:r})});CC.displayName=RC;var MC="DropdownMenuSubContent",OC=E.forwardRef((t,r)=>{const{__scopeDropdownMenu:a,...s}=t,o=Bn(a);return m.jsx(cC,{...o,...s,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OC.displayName=MC;var DC=Bx,kC=$x,UC=Hx,LC=qx;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),gy=t=>{const r=BC(t);return r.charAt(0).toUpperCase()+r.slice(1)},Fx=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),PC=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=E.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...d},p)=>E.createElement("svg",{ref:p,...$C,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:Fx("lucide",o),...!c&&!PC(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,y])=>E.createElement(h,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(t,r)=>{const a=E.forwardRef(({className:s,...o},c)=>E.createElement(IC,{ref:c,iconNode:r,className:Fx(`lucide-${zC(gy(t))}`,`lucide-${t}`,s),...o}));return a.displayName=gy(t),a};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vy=Pn("arrow-down",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FC=Pn("arrow-left",qC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],yy=Pn("arrow-up",GC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],YC=Pn("badge-percent",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],WC=Pn("building",KC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Gx=Pn("copy",XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ZC=Pn("ellipsis",QC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eM=Pn("file-text",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],by=Pn("grip-vertical",tM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rM=Pn("pencil",nM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xy=Pn("plus",aM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nm=Pn("trash-2",iM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oM=Pn("user",sM);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cM=Pn("x",lM);function uM({onOpen:t,onDuplicate:r,onPdf:a,onDelete:s,align:o="end"}){return m.jsxs(DC,{children:[m.jsx(kC,{asChild:!0,children:m.jsx("button",{className:"text-gray-400 hover:text-gray-700 px-2","aria-label":"Azioni preventivo",children:m.jsx(ZC,{className:"h-5 w-5",strokeWidth:2.5})})}),m.jsxs(UC,{side:"bottom",align:o,className:"rounded-lg border bg-white p-1 shadow-lg text-sm",children:[m.jsx(yc,{onSelect:t,children:"Apri"}),m.jsx(yc,{onSelect:r,children:"Duplica"}),m.jsx(yc,{onSelect:a,children:"Scarica PDF"}),s&&m.jsxs(m.Fragment,{children:[m.jsx(dM,{}),m.jsx(yc,{destructive:!0,onSelect:s,children:"Elimina"})]})]})]})}function yc({children:t,onSelect:r,destructive:a=!1}){return m.jsx(LC,{onSelect:s=>{s.preventDefault(),r()},className:`px-3 py-2 rounded-md cursor-pointer outline-none hover:bg-gray-100 ${a?"text-red-600 hover:bg-red-50":""}`,children:t})}function dM(){return m.jsx("div",{className:"my-1 h-px bg-gray-200"})}function rm(...t){return t.filter(Boolean).join(" ")}const mn=E.forwardRef(function({variant:r="primary",className:a,...s},o){const u=r==="primary"?"btn-primary":r==="ghost"?"btn-ghost":"btn-outline";return m.jsx("button",{ref:o,className:rm("btn",u,a),...s})}),fM=E.forwardRef(function({className:r,...a},s){return m.jsx("input",{ref:s,className:rm("input",r),...a})});function Zr({className:t,...r}){return m.jsx("div",{className:rm("card",t),...r})}function hM({quoteId:t}){const[r,a]=E.useState(!0),[s,o]=E.useState(null),[c,u]=E.useState(null);if(E.useEffect(()=>{let y=!0;return(async()=>{try{a(!0),o(null);const{data:g,error:w}=await rn.from("quotes").select("id, manual_totals, items_json").eq("id",t).maybeSingle();if(w)throw w;if(!g){y&&u({totalNet:0,counts:{}});return}const{data:_,error:S}=await rn.from("quote_versions").select("id, created_at").eq("quote_id",t).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(S)throw S;let T=0;if(_?.id){const{data:C,error:D}=await rn.from("quote_charges").select("amount").eq("quote_version_id",_.id);if(D)throw D;T=(C??[]).reduce((H,ae)=>H+Number(ae?.amount??0),0)}let O=(Array.isArray(g.manual_totals)?g.manual_totals:[]).reduce((C,D)=>{const H=Number(D?.amount??0);return C+(Number.isFinite(H)?H:0)},0)+T;if(_?.id){const{data:C,error:D}=await rn.from("quote_totals").select("total_discount_pct, total_discount_abs").eq("quote_version_id",_.id).maybeSingle();if(D)throw D;C?.total_discount_pct&&(O*=1-Number(C.total_discount_pct)/100),C?.total_discount_abs&&(O-=Number(C.total_discount_abs))}O<0&&(O=0);const L=Array.isArray(g.items_json)?g.items_json:[],G={};for(const C of L){const D=typeof C?.kind=="string"?C.kind:"altro",H=Number(C?.qty??1);G[D]=(G[D]??0)+(Number.isFinite(H)?H:0)}y&&u({totalNet:O,counts:G})}catch(g){y&&o(g.message||"Errore caricamento anteprima")}finally{y&&a(!1)}})(),()=>{y=!1}},[t]),r)return m.jsx("div",{className:"mt-3 border-t pt-3 text-xs text-gray-500",children:m.jsx("div",{className:"h-3 w-40 bg-gray-200 rounded animate-pulse"})});if(s)return m.jsx("div",{className:"mt-3 border-t pt-3 text-xs text-red-600",children:s});if(!c)return null;const d={finestra:"Finestre",cassonetto:"Cassonetti",zanzariera:"Zanzariere",persiana:"Persiane",tapparella:"Tapparelle",custom:"Voci custom",altro:"Altro"},p=["finestra","porta_finestra","scorrevole","cassonetto","zanzariera","persiana","tapparella","custom","altro"],h=Object.entries(c.counts).filter(([,y])=>y>0).sort((y,g)=>p.indexOf(y[0])-p.indexOf(g[0]));return m.jsxs("div",{className:"mt-3 border-t pt-3 flex items-center justify-between text-xs text-gray-700",children:[m.jsx("div",{className:"min-w-0 flex flex-wrap items-center gap-1.5",children:h.length===0?m.jsx("span",{className:"badge-soft",children:""}):h.map(([y,g])=>m.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-1 border border-gray-200 bg-white/60 shadow-sm",title:d[y]??y,children:[m.jsx(mM,{kind:y}),m.jsxs("span",{className:"truncate max-w-[14ch]",children:[g," ",d[y]??y]})]},y))}),m.jsxs("div",{className:"ml-4 shrink-0 text-right",children:[m.jsx("div",{className:"uppercase tracking-wide text-[10px] text-gray-500",children:"Totale (senza IVA)"}),m.jsxs("div",{className:"font-mono text-sm font-semibold",children:[" ",c.totalNet.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})}function mM({kind:t}){const r="inline-block align-[-2px]";switch(t){case"finestra":return m.jsxs("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"21",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",stroke:"currentColor",strokeWidth:"1.5"})]});case"cassonetto":return m.jsxs("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("rect",{x:"6.5",y:"8.5",width:"11",height:"7",rx:"1",stroke:"currentColor",strokeWidth:"1.2"})]});case"zanzariera":return m.jsxs("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M7 7l10 10M17 7L7 17",stroke:"currentColor",strokeWidth:"1"})]});case"persiana":return m.jsxs("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"1.5",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("path",{d:"M7 7h10M7 10h10M7 13h10M7 16h10",stroke:"currentColor",strokeWidth:"1.2"})]});case"tapparella":return m.jsxs("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[m.jsx("rect",{x:"5",y:"4",width:"14",height:"4",rx:"1",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("rect",{x:"5",y:"9",width:"14",height:"4",rx:"1",stroke:"currentColor",strokeWidth:"1.5"}),m.jsx("rect",{x:"5",y:"14",width:"14",height:"4",rx:"1",stroke:"currentColor",strokeWidth:"1.5"})]});case"custom":default:return m.jsx("svg",{className:r,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:m.jsx("path",{d:"M12 3l2.5 6.5L21 12l-6.5 2.5L12 21l-2.5-6.5L3 12l6.5-2.5L12 3z",stroke:"currentColor",strokeWidth:"1.5"})})}}const qf=12,wy=2e4,pM=["bozza","inviato","accettato","rifiutato","scaduto"];function gM(t){const r=new Map,a=[];for(const o of t)if(o.reference_key){const c=o.reference_key;r.has(c)||r.set(c,[]),r.get(c).push(o)}else a.push(o);const s=[];for(const[,o]of r){o.sort((d,p)=>(p.created_at??"").localeCompare(d.created_at??""));const c=o[0],u=o.slice(1).map(d=>d.number).filter(Boolean);s.push({...c,groupCount:o.length,siblingsNumbers:u})}return s.push(...a),s.sort((o,c)=>(c.created_at??"").localeCompare(o.created_at??"")),s}function vM(t){try{return new Date(t).toLocaleDateString("it-IT",{day:"2-digit",month:"short",year:"numeric"})}catch{return""}}function yM(t){switch(t){case"bozza":return"#9ca3af";case"inviato":return"#3b82f6";case"accettato":return"#10b981";case"rifiutato":return"#ef4444";case"scaduto":return"#f59e0b"}}function _y(t){if(!t)return"no-date";const r=new Date(t);return Number.isNaN(r.getTime())?"no-date":`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`}function bM(t){if(!t)return"Senza data";const r=new Date(t);return Number.isNaN(r.getTime())?"Senza data":r.toLocaleDateString("it-IT",{month:"long",year:"numeric"})}function xM(){const t=Oh(),[r,a]=E.useState(!1),[s,o]=E.useState([]),[c,u]=E.useState(1),[d,p]=E.useState(!0),[h,y]=E.useState(""),[g,w]=E.useState(""),[_,S]=E.useState(new Set),[T,R]=E.useState(null),[N,O]=E.useState({}),L=E.useRef(null);E.useEffect(()=>{const he=setTimeout(()=>w(h.trim()),300);return()=>clearTimeout(he)},[h]),E.useEffect(()=>{const he=pe=>{if(pe.key==="/"){const ce=document.getElementById("dashboard-search");ce&&(pe.preventDefault(),ce.focus())}};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[]),E.useEffect(()=>{C(1,!0)},[]),E.useEffect(()=>{C(1,!0)},[Array.from(_).join(","),g]);const G=E.useCallback(he=>{let pe=he;if(_.size>0&&(pe=pe.in("status",Array.from(_))),g){const ce=g,Se=`customer_name.ilike.%${ce}%,number.ilike.%${ce}%,job_address.ilike.%${ce}%,reference.ilike.%${ce}%`;pe=pe.or(Se)}return pe},[_,g]);E.useEffect(()=>{if(!d||r)return;const he=L.current;if(!he)return;const pe=new IntersectionObserver(ce=>{for(const Se of ce)if(Se.isIntersecting){C(c+1);break}},{rootMargin:"200px"});return pe.observe(he),()=>pe.disconnect()},[c,d,r]);async function C(he=1,pe=!1){try{a(!0),pe&&O({});const ce=(he-1)*qf,Se=ce+qf-1,Ce=G(rn.from("quotes").select("id, number, status, customer_name, job_address, created_at, validity_days, reference, reference_key").order("created_at",{ascending:!1}).range(ce,Se)),P=pe?G(rn.from("quotes").select("reference_key, created_at").not("reference_key","is",null).order("created_at",{ascending:!1}).range(0,wy-1)):null,ne=pe?G(rn.from("quotes").select("id, created_at").is("reference_key",null).order("created_at",{ascending:!1}).range(0,wy-1)):null,se={data:null,error:null},[ge,z,X]=await Promise.all([Ce,P??Promise.resolve(se),ne??Promise.resolve(se)]),{data:ye,error:oe}=ge;if(oe)throw oe;if(pe){if(z?.error)throw z.error;if(X?.error)throw X.error;const Q={},Z=be=>{const le=_y(be);Q[le]=(Q[le]??0)+1};if(Array.isArray(z?.data)){const be=new Set;for(const le of z.data){const Ae=typeof le.reference_key=="string"?le.reference_key:null;!Ae||be.has(Ae)||(be.add(Ae),Z(le.created_at))}}if(Array.isArray(X?.data))for(const be of X.data)Z(be.created_at);O(Q)}const Y=ye??[];p(Y.length===qf),u(he),o(Q=>{const Z=pe?Y:[...Q,...Y];return gM(Z)})}catch(ce){console.error(ce),En.error(ce.message||"Errore caricamento preventivi")}finally{a(!1)}}function D(he){const pe=new Set(_);pe.has(he)?pe.delete(he):pe.add(he),S(pe)}async function H(){try{a(!0);const{data:he,error:pe}=await rn.rpc("fn_create_quote",{p_customer_type:"privato",p_customer_name:"Cliente temporaneo",p_customer_email:null,p_customer_phone:null,p_job_address:null,p_price_list_id:null,p_vat:"22",p_validity_days:15,p_terms:"Pagamenti a 30gg.",p_notes:null});if(pe)throw pe;const ce=he?.[0];En.success(`Bozza creata: ${ce.quote_number}`),t(`/quotes/${ce.quote_id}`)}catch(he){En.error(he.message||"Errore creazione preventivo")}finally{a(!1)}}async function ae(he){if(window.confirm(`Eliminare il preventivo ${he.number}? Questa azione  irreversibile.`))try{R(he.id);const{data:ce,error:Se}=await rn.from("quote_versions").select("id").eq("quote_id",he.id);if(Se)throw Se;const Ce=(ce??[]).map(ne=>ne.id);if(Ce.length>0){const ne=rn.from("quote_items").delete().in("quote_version_id",Ce),se=rn.from("quote_charges").delete().in("quote_version_id",Ce),ge=rn.from("quote_totals").delete().in("quote_version_id",Ce),[z,X,ye]=await Promise.all([ne,se,ge]);if(z.error)throw z.error;if(X.error)throw X.error;if(ye.error)throw ye.error;const oe=await rn.from("quote_versions").delete().eq("quote_id",he.id);if(oe.error)throw oe.error}const P=await rn.from("quotes").delete().eq("id",he.id);if(P.error)throw P.error;o(ne=>ne.filter(se=>se.id!==he.id)),En.success(`Preventivo ${he.number} eliminato`)}catch(ce){console.error(ce),En.error(ce.message||"Errore durante leliminazione")}finally{R(null)}}const fe=E.useMemo(()=>{const he={bozza:0,inviato:0,accettato:0,rifiutato:0,scaduto:0};for(const pe of s)he[pe.status]++;return he},[s]),Ne=E.useMemo(()=>{const he=new Map;for(const ce of s){const Se=_y(ce.created_at),Ce=bM(ce.created_at);he.has(Se)||he.set(Se,{key:Se,label:Ce,items:[]}),he.get(Se).items.push(ce)}const pe=Array.from(he.values());pe.sort((ce,Se)=>ce.key==="no-date"?1:Se.key==="no-date"?-1:Se.key.localeCompare(ce.key));for(const ce of pe)ce.items.sort((Se,Ce)=>(Ce.created_at??"").localeCompare(Se.created_at??""));return pe},[s]);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("div",{children:[m.jsx("h1",{className:"leading-tight",children:"Preventivi"}),m.jsx("div",{className:"mt-0.5 text-sm text-gray-600",children:"Gestisci e crea preventivi per i tuoi clienti"})]})}),m.jsx(mn,{onClick:H,disabled:r,children:"+ Nuovo preventivo"})]}),m.jsx("div",{className:"md:sticky md:top-[52px] md:z-10 md:border-b md:bg-[color:var(--bg)]/90 md:backdrop-blur",children:m.jsxs("div",{className:"py-3 flex flex-col gap-3 md:flex-row md:items-center",children:[m.jsxs("div",{className:"w-full md:w-[28rem] relative",children:[m.jsx("svg",{"aria-hidden":"true",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M12.9 14.32a8 8 0 111.414-1.414l4.387 4.387a1 1 0 01-1.414 1.414l-4.387-4.387zM14 8a6 6 0 11-12 0 6 6 0 0112 0z",clipRule:"evenodd"})}),m.jsx(fM,{id:"dashboard-search",value:h,onChange:he=>y(he.target.value),placeholder:"Cerca per numero, cliente o via",className:"pl-9 text-base md:text-sm",inputMode:"search"}),m.jsx("span",{className:"hidden md:inline absolute right-2 top-1/2 -translate-y-1/2 kbd",children:"/"})]}),m.jsx("div",{role:"tablist","aria-label":"Stato preventivi",className:"overflow-x-auto -mx-2 md:mx-0 px-2 flex flex-nowrap md:flex-wrap md:overflow-visible [-webkit-overflow-scrolling:touch]",children:m.jsxs("div",{className:"inline-flex bg-gray-100 rounded-xl p-1 shadow-inner min-w-0",children:[pM.map(he=>{const pe=_.has(he),ce=he.charAt(0).toUpperCase()+he.slice(1),Se=fe[he];return m.jsxs("button",{role:"tab","aria-selected":pe,onClick:()=>D(he),className:["shrink-0 px-3 py-1.5 text-sm rounded-lg transition",pe?"bg-white shadow-sm ring-1 ring-gray-200 text-gray-900":"text-gray-600 hover:bg-white/60"].join(" "),title:`${Se} visibili in questa pagina`,children:[m.jsx("span",{className:"font-medium",children:ce}),typeof Se=="number"&&Se>0&&m.jsxs("span",{className:pe?"ml-1 text-gray-900/70":"ml-1 text-gray-500",children:[" ",Se]})]},he)}),m.jsx("button",{role:"tab","aria-selected":_.size===0,onClick:()=>S(new Set),className:"shrink-0 px-3 py-1.5 text-sm rounded-lg text-gray-600 hover:bg-white/60",title:"Mostra tutti",children:"Azzera"})]})})]})}),s.length===0&&!r?m.jsxs(Zr,{className:"text-center py-10 text-gray-600",children:["Nessun preventivo trovato.",m.jsx("div",{className:"mt-3",children:m.jsx(mn,{onClick:H,children:"Crea il primo preventivo"})})]}):m.jsxs("div",{className:"space-y-6",children:[Ne.map(he=>{const pe=N[he.key]??he.items.length;return m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"md:sticky md:top-[96px] md:z-10 md:bg-[color:var(--bg)]/85 md:backdrop-blur border-b py-1",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-semibold text-gray-800 capitalize",children:he.label}),m.jsxs("div",{className:"text-xs text-gray-500",children:[pe," preventivi"]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:he.items.map(ce=>m.jsx(_M,{q:ce,onOpen:()=>t(`/quotes/${ce.id}`),onDuplicate:()=>En.info("Duplica: in arrivo"),onPdf:()=>En.info("PDF: in arrivo"),onDelete:()=>ae(ce),onDeleteDisabled:T===ce.id,onFilterByReference:Se=>y(Se)},ce.id))})]},he.key)}),r&&m.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Array.from({length:4}).map((he,pe)=>m.jsx(EM,{},`s-${pe}`))})]}),d&&m.jsx("div",{ref:L,className:"h-8"})]})}function wM(t,r){if(!t)return null;const a=new Date(t),s=new Date(a);s.setDate(a.getDate()+(r||0));const o=s.getTime()-Date.now();return Math.ceil(o/(1e3*60*60*24))}function _M({q:t,onOpen:r,onDuplicate:a,onPdf:s,onDelete:o,onDeleteDisabled:c=!1,onFilterByReference:u}){const d=wM(t.created_at,t.validity_days),p=`card-accent card-accent--${t.status}`,h=d==null?"":d<0?`Scaduto da ${Math.abs(d)}g`:`Scade tra ${d}g`;return m.jsx(Zr,{className:`group ${p} transition-transform will-change-transform hover:-translate-y-px ${c?"opacity-60":""}`,children:m.jsxs("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&r()},children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-[11px] font-semibold text-gray-900 tracking-tight truncate max-w-[28ch] flex items-center gap-2 font-mono",children:[m.jsx("span",{children:t.number}),t.created_at&&m.jsx("span",{className:"text-[11px] font-normal text-gray-500",children:vM(t.created_at)})]}),m.jsx("div",{className:"mt-0.5 text-lg font-semibold truncate max-w-[28ch]",children:t.customer_name??""}),(t.reference||t.job_address)&&m.jsx("div",{className:"mt-1 text-xs text-gray-700 truncate max-w-[38ch]",children:t.reference??t.job_address})]}),m.jsx("div",{className:c?"opacity-50 pointer-events-none":"",onClick:y=>y.stopPropagation(),children:m.jsx(uM,{onOpen:r,onDuplicate:a,onPdf:s,onDelete:o})})]}),m.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(SM,{s:t.status}),t.groupCount&&t.groupCount>1&&(t.reference||t.job_address)&&m.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 border border-gray-200 text-xs text-gray-600 bg-white/60 hover:bg-white",title:t.siblingsNumbers&&t.siblingsNumbers.length?`Altri: ${t.siblingsNumbers.join(", ")}`:"Mostra tutti i preventivi con questo riferimento",onClick:y=>{y.stopPropagation(),u(t.reference??t.job_address)},children:["Versioni ",t.groupCount]})]}),m.jsx("div",{className:"text-xs text-gray-600",children:h})]}),m.jsx(hM,{quoteId:t.id})]})})}function SM({s:t}){const r=t.charAt(0).toUpperCase()+t.slice(1);return m.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border border-gray-200 bg-white/70 px-2 py-0.5 text-[11px]",children:[m.jsx("span",{"aria-hidden":!0,className:"inline-block h-1.5 w-1.5 rounded-full",style:{backgroundColor:yM(t)}}),m.jsx("span",{className:"font-medium",children:r})]})}function EM(){return m.jsxs(Zr,{className:"animate-pulse",children:[m.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),m.jsx("div",{className:"mt-3 h-3 w-2/3 bg-gray-200 rounded"}),m.jsx("div",{className:"mt-3 h-3 w-1/4 bg-gray-200 rounded"})]})}const Sy="quote-item-images";function jM(t){const r=t.name||"",a=r.lastIndexOf(".");return a===-1?"png":r.slice(a+1).toLowerCase()||"png"}async function Rc(t,r){const a=`${r}/${crypto.randomUUID()}.${jM(t)}`,{error:s}=await rn.storage.from(Sy).upload(a,t,{upsert:!1,contentType:t.type||"image/png"});if(s)throw s;const{data:o}=rn.storage.from(Sy).getPublicUrl(a);if(!o?.publicUrl)throw new Error("Impossibile ottenere URL pubblico dell'immagine");return o.publicUrl}const Ey=t=>{let r;const a=new Set,s=(h,y)=>{const g=typeof h=="function"?h(r):h;if(!Object.is(g,r)){const w=r;r=y??(typeof g!="object"||g===null)?g:Object.assign({},r,g),a.forEach(_=>_(r,w))}},o=()=>r,d={setState:s,getState:o,getInitialState:()=>p,subscribe:h=>(a.add(h),()=>a.delete(h))},p=r=t(s,o,d);return d},NM=(t=>t?Ey(t):Ey),TM=t=>t;function AM(t,r=TM){const a=je.useSyncExternalStore(t.subscribe,je.useCallback(()=>r(t.getState()),[t,r]),je.useCallback(()=>r(t.getInitialState()),[t,r]));return je.useDebugValue(a),a}const RM=t=>{const r=NM(t),a=s=>AM(r,s);return Object.assign(a,r),a},CM=(t=>RM);function Vx(t,r){let a;try{a=t()}catch{return}return{getItem:o=>{var c;const u=p=>p===null?null:JSON.parse(p,void 0),d=(c=a.getItem(o))!=null?c:null;return d instanceof Promise?d.then(u):u(d)},setItem:(o,c)=>a.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>a.removeItem(o)}}const xh=t=>r=>{try{const a=t(r);return a instanceof Promise?a:{then(s){return xh(s)(a)},catch(s){return this}}}catch(a){return{then(s){return this},catch(s){return xh(s)(a)}}}},MM=(t,r)=>(a,s,o)=>{let c={storage:Vx(()=>localStorage),partialize:T=>T,version:0,merge:(T,R)=>({...R,...T}),...r},u=!1;const d=new Set,p=new Set;let h=c.storage;if(!h)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),a(...T)},s,o);const y=()=>{const T=c.partialize({...s()});return h.setItem(c.name,{state:T,version:c.version})},g=o.setState;o.setState=(T,R)=>(g(T,R),y());const w=t((...T)=>(a(...T),y()),s,o);o.getInitialState=()=>w;let _;const S=()=>{var T,R;if(!h)return;u=!1,d.forEach(O=>{var L;return O((L=s())!=null?L:w)});const N=((R=c.onRehydrateStorage)==null?void 0:R.call(c,(T=s())!=null?T:w))||void 0;return xh(h.getItem.bind(h))(c.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==c.version){if(c.migrate){const L=c.migrate(O.state,O.version);return L instanceof Promise?L.then(G=>[!0,G]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var L;const[G,C]=O;if(_=c.merge(C,(L=s())!=null?L:w),a(_,!0),G)return y()}).then(()=>{N?.(_,void 0),_=s(),u=!0,p.forEach(O=>O(_))}).catch(O=>{N?.(void 0,O)})};return o.persist={setOptions:T=>{c={...c,...T},T.storage&&(h=T.storage)},clearStorage:()=>{h?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>S(),hasHydrated:()=>u,onHydrate:T=>(d.add(T),()=>{d.delete(T)}),onFinishHydration:T=>(p.add(T),()=>{p.delete(T)})},c.skipHydration||S(),_||w},OM=MM,jy=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"id-"+Math.random().toString(36).slice(2)+Date.now().toString(36),jn=CM()(OM((t,r)=>({items:[],setItems:a=>t({items:a}),addItem:a=>t({items:[...r().items,a]}),updateItem:(a,s)=>t({items:r().items.map(o=>o.id===a?{...o,...s}:o)}),replaceItem:(a,s)=>t({items:r().items.map(o=>o.id===a?s:o)}),removeItem:a=>t({items:r().items.filter(s=>s.id!==a)}),duplicateItem:a=>{const s=r().items.find(o=>o.id===a);s&&t({items:[...r().items,{...s,id:jy()}]})},discount:null,setDiscount:a=>t({discount:a}),profileOverview:null,setProfileOverview:a=>t({profileOverview:a}),addPOFeature:a=>t(s=>{const o=s.profileOverview??{imageUrl:null,features:[]},c=a.id?a:{...a,id:jy()};return{profileOverview:{...o,features:[...o.features,c]}}}),updatePOFeature:(a,s)=>t(o=>{const c=o.profileOverview??{imageUrl:null,features:[]},u=c.features.map(d=>d.id===a?{...d,...s}:d);return{profileOverview:{...c,features:u}}}),removePOFeature:a=>t(s=>{const o=s.profileOverview??{imageUrl:null,features:[]},c=o.features.filter(u=>u.id!==a);return{profileOverview:{...o,features:c}}}),movePOFeature:(a,s)=>t(o=>{const c=o.profileOverview??{imageUrl:null,features:[]},u=[...c.features],d=u.findIndex(y=>y.id===a);if(d===-1)return{profileOverview:c};const p=d+s;if(p<0||p>=u.length)return{profileOverview:c};const[h]=u.splice(d,1);return u.splice(p,0,h),{profileOverview:{...c,features:u}}}),updatePOFeatureByIndex:(a,s)=>t(o=>{const c=o.profileOverview??{imageUrl:null,features:[]},u=[...c.features];return u[a]?(u[a]={...u[a],...s},{profileOverview:{...c,features:u}}):{profileOverview:c}}),removePOFeatureByIndex:a=>t(s=>{const o=s.profileOverview??{imageUrl:null,features:[]},c=o.features.filter((u,d)=>d!==a);return{profileOverview:{...o,features:c}}}),movePOFeatureByIndex:(a,s)=>t(o=>{const c=o.profileOverview??{imageUrl:null,features:[]},u=[...c.features];if(a<0||a>=u.length||s<0||s>=u.length)return{profileOverview:c};const[d]=u.splice(a,1);return u.splice(s,0,d),{profileOverview:{...c,features:u}}}),clear:()=>t({items:[],discount:null,profileOverview:null})}),{name:"quote-store-v1",storage:Vx(()=>localStorage),partialize:t=>({items:t.items,discount:t.discount,profileOverview:t.profileOverview})})),Ny="/preventivatore/assets/finestra-CaBnCLGk.png",DM="/preventivatore/assets/cassonetto-Dg8eY6ok.png",kM="/preventivatore/assets/zanzariera-DwgVGK_D.png",UM="/preventivatore/assets/persiana-DDNzxk3Y.png",LM="/preventivatore/assets/tapparella-BlwTu2P7.png",zM=[{value:"fissa",label:"Fissa"},{value:"apre_sx",label:"Apertura Sinistra"},{value:"apre_dx",label:"Apertura Destra"},{value:"vasistas",label:"Vasistas"},{value:"apre_sx+vasistas",label:"Anta-ribalta Sinistra"},{value:"apre_dx+vasistas",label:"Anta-ribalta Destra"},{value:"scorrevole_sx",label:"Scorrevole Sinistra"},{value:"scorrevole_dx",label:"Scorrevole Destra"}],BM=()=>({height_ratio:1,cols:[{width_ratio:1,leaf:{state:"fissa"},handle:!1}]}),PM=()=>({width_ratio:1,leaf:{state:"fissa"},handle:!1}),bc=70,xc=60,$M=["WDS 76 MD","WDS 76 AD","WDS 76 PORTE","WDS 76 SCORREVOLE","ULTRA 70","ULTRA 60"],Yx=1,Mr=Math.pow(10,Yx),ai=1,wn=Math.round(ai*Mr);function ds(t){return t.reduce((r,a)=>r+a,0)}const li=t=>Math.max(ai,t),Ao=t=>Math.max(ai,Math.round(t*Mr)/Mr),hn=t=>Number.isFinite(t)?Ao(t).toFixed(Yx).replace(/\.?0+$/,""):"0",xo=t=>t===""||/^\d+([.,]\d{0,1})?$/.test(t),wc=t=>{if(t==null)return null;const r=t.replace(",",".").trim();if(r==="")return null;const a=Number(r);return Number.isFinite(a)?Ao(a):null},Kx=t=>Math.max(wn,Math.round(li(t)*Mr)),am=t=>t/Mr,Wx=(t,r)=>{const a=r>0?r/Math.max(1,t.length):1,s=t.map(c=>Number.isFinite(c)&&c>0?c:a),o=ds(s);return o>0&&r>0&&o<=1.0001?s.map(c=>c*r):s.map(li)},zo=(t,r,a)=>{const s=r.length;if(s===0)return[];const o=Array(s).fill(a);let c=t-a*s;if(c<=0){const g=Array(s).fill(Math.floor(t/s));let w=t-ds(g);for(let _=s-1;_>=0&&w>0;_-=1)g[_]+=1,w-=1;return g}const u=r.map(g=>Math.max(0,g)),d=ds(u),p=d>0?u.map(g=>Math.floor(g/d*c)):Array(s).fill(Math.floor(c/s));let h=c-ds(p);const y=o.map((g,w)=>g+p[w]);if(h>0)for(let g=s-1;g>=0&&h>0;g-=1)y[g]+=1,h-=1;else if(h<0)for(let g=s-1;g>=0&&h<0;g-=1){const w=y[g]-a;if(w<=0)continue;const _=Math.min(w,-h);y[g]-=_,h+=_}return y},Ff=(t,r)=>{if(r<=0)return[];const a=Math.round(li(t)*Mr);return zo(a,Array(r).fill(1),wn).map(am)};function Gf(t,r,a,s){if(!t.length)return t;const o=Math.round(li(r)*Mr),u=Wx(t.map(h=>h.height_ratio??0),r).map(Kx);let d;if(typeof a=="number"&&a>=0&&a<t.length&&typeof s=="number"){const h=Math.min(Math.max(wn,Math.round(li(s)*Mr)),o-wn*Math.max(0,t.length-1)),y=u.map((S,T)=>T).filter(S=>S!==a),g=y.map(S=>u[S]),w=Math.max(0,o-h),_=zo(w,g,wn);d=Array(t.length).fill(wn),d[a]=h,y.forEach((S,T)=>{d[S]=_[T]??wn})}else d=zo(o,u,wn);const p=o-ds(d);if(p!==0&&d.length>0){const h=d.length-1;d[h]=Math.max(wn,d[h]+p)}return t.map((h,y)=>({...h,height_ratio:am(d[y])}))}function Vf(t,r,a,s){if(!t.length)return t;const o=Math.round(li(r)*Mr),u=Wx(t.map(h=>h.width_ratio??0),r).map(Kx);let d;if(typeof a=="number"&&a>=0&&a<t.length&&typeof s=="number"){const h=Math.min(Math.max(wn,Math.round(li(s)*Mr)),o-wn*Math.max(0,t.length-1)),y=u.map((S,T)=>T).filter(S=>S!==a),g=y.map(S=>u[S]),w=Math.max(0,o-h),_=zo(w,g,wn);d=Array(t.length).fill(wn),d[a]=h,y.forEach((S,T)=>{d[S]=_[T]??wn})}else d=zo(o,u,wn);const p=o-ds(d);if(p!==0&&d.length>0){const h=d.length-1;d[h]=Math.max(wn,d[h]+p)}return t.map((h,y)=>({...h,width_ratio:am(d[y])}))}function Ty({draft:t,onChange:r}){if(!t)return null;const a=t,[s,o]=E.useState(!0),u=a?.options?.gridWindow,[d,p]=E.useState(typeof a.width_mm=="number"?hn(a.width_mm):""),[h,y]=E.useState(typeof a.height_mm=="number"?hn(a.height_mm):""),[g,w]=E.useState(String(a.qty??1)),[_,S]=E.useState({}),[T,R]=E.useState({}),[N,O]=E.useState({}),[L,G]=E.useState({});if(E.useEffect(()=>{w(String(a.qty??1))},[a.qty]),E.useEffect(()=>{p(typeof a.width_mm=="number"?hn(a.width_mm):""),y(typeof a.height_mm=="number"?hn(a.height_mm):"")},[a.width_mm,a.height_mm]),E.useEffect(()=>{if(!u)return;const Y={},Q={},Z={},be={};u.rows.forEach((le,Ae)=>{Y[Ae]=hn(le.height_ratio??0),Q[Ae]=String(le.cols.length),le.cols.forEach((qe,Ie)=>{Z[`${Ae}.${Ie}`]=hn(qe.width_ratio??0);const Xe=qe.leaf?.horizontalBars?.[0];if(Xe&&Number.isFinite(Xe.offset_mm)){const Qe=le.height_ratio&&le.height_ratio>0?le.height_ratio:u.height_mm/Math.max(1,u.rows.length),Ke=Math.max(ai,Math.min(Qe,Xe.offset_mm)),St=Xe.origin==="bottom"?Ke:Math.max(ai,Math.min(Qe,Qe-Ke));be[`${Ae}.${Ie}`]=hn(St)}})}),S(Y),R(Q),O(Z),G(be)},[u?.rows]),E.useEffect(()=>{if(!u){const Y={width_mm:a.width_mm||1200,height_mm:a.height_mm||1500,frame_mm:bc,mullion_mm:xc,rows:[{height_ratio:a.height_mm||1500,cols:[{width_ratio:a.width_mm||1200,leaf:{state:"fissa"},handle:!1}]}],glazing:"doppio",showDims:!0};r({...a,options:{...a.options,gridWindow:Y}})}},[u,a.width_mm,a.height_mm,r,a]),!u)return m.jsx("div",{children:"Caricamento..."});const C=(Y={},Q={})=>{const Z=a?.options?.gridWindow??{width_mm:a.width_mm||1200,height_mm:a.height_mm||1500,frame_mm:bc,mullion_mm:xc,rows:[{height_ratio:a.height_mm||1500,cols:[{width_ratio:a.width_mm||1200,leaf:{state:"fissa"}}]}],glazing:"doppio",showDims:!0},be={...a,...Y,options:{...a.options,gridWindow:{...Z,...Q}}};r(be)},D=Y=>{C({},Y)},H=Y=>{D({rows:Y})},ae=(Y,Q)=>{if(Q==="")return;const Z=wc(Q);if(Z===null)return;const be=Ao(Math.max(100,Z));if(Y==="width_mm"){const le=u.rows.map(Ae=>{if(s){const qe=Math.max(1,Ae.cols.length),Ie=Ff(be,qe);return{...Ae,cols:Ae.cols.map((Xe,Qe)=>({...Xe,width_ratio:Ie[Qe]??Ie[Ie.length-1]??be/qe}))}}return{...Ae,cols:Vf(Ae.cols,be)}});C({width_mm:be},{width_mm:be,rows:le}),p(hn(be))}else{const le=Gf(u.rows,be);C({height_mm:be},{height_mm:be,rows:le}),y(hn(be))}},fe=()=>{const Y=u.height_mm,Q=[...u.rows,BM()];let Z=Q;if(s){const be=Ff(Y,Q.length);Z=Q.map((le,Ae)=>({...le,height_ratio:be[Ae]??be[be.length-1]??Y/Q.length}))}else Z=Gf(Q,Y);H(Z)},Ne=Y=>{u.rows.length<=1||H(u.rows.filter((Q,Z)=>Z!==Y))},he=(Y,Q)=>{const Z=Math.max(1,Q||1),be=u.width_mm;let le=u.rows.map((Ae,qe)=>{if(qe!==Y)return Ae;let Ie=[...Ae.cols];const Xe=Ie.length;if(Z>Xe)for(let Qe=0;Qe<Z-Xe;Qe++)Ie.push(PM());else Z<Xe&&(Ie=Ie.slice(0,Z));if(Ie=Ie.map(Qe=>({...Qe,glazing:Qe.glazing??u.glazing})),s){const Qe=Ff(be,Z),Ke=Ie.map((St,$t)=>({...St,width_ratio:Qe[$t]??Qe[Qe.length-1]??be/Z}));return{...Ae,cols:Ke}}return{...Ae,cols:Vf(Ie,be)}});H(le)},pe=(Y,Q,Z)=>{const be=u.rows.map((le,Ae)=>{if(Ae===Y){const qe=le.cols.map((Ie,Xe)=>{if(Xe!==Q)return Ie;const Qe={...Ie,leaf:{...Ie.leaf??{},state:Z}};return Z==="fissa"&&(Qe.handle=!1),Qe});return{...le,cols:qe}}return le});H(be)},ce=(Y,Q,Z)=>{const be=u.rows.map((le,Ae)=>{if(Ae===Y){const qe=le.cols.map((Ie,Xe)=>Xe!==Q?Ie:(Ie.leaf?.state??"fissa")==="fissa"?{...Ie,handle:!1}:{...Ie,handle:Z});return{...le,cols:qe}}return le});H(be)},Se=(Y,Q,Z)=>{const be=u.frame_mm??bc,le=u.rows.map((Ae,qe)=>{if(qe!==Y)return Ae;const Ie=Ae.height_ratio&&Ae.height_ratio>0?Ae.height_ratio:u.height_mm/Math.max(1,u.rows.length),Xe=xc/2,Qe=Math.min(Ie/2,Math.max(Xe,be*.12)),Ke=Math.max(Qe,Ie-Qe),St=typeof Z=="number"?Math.min(Ke,Math.max(Qe,Ao(Z))):null,$t=Ae.cols.map((dt,ot)=>{if(ot!==Q)return dt;const Te={...dt.leaf??{state:"fissa"}};return St===null?Te.horizontalBars&&delete Te.horizontalBars:Te.horizontalBars=[{offset_mm:St,origin:"bottom"}],{...dt,leaf:Te}});return{...Ae,cols:$t}});H(le)},Ce=(Y,Q,Z)=>{const be=u.rows.map((le,Ae)=>{if(Ae===Y){const qe=le.cols.map((Ie,Xe)=>Xe===Q?{...Ie,glazing:Z}:Ie);return{...le,cols:qe}}return le});H(be)},P=(Y,Q)=>{const Z=u.height_mm,be=Gf(u.rows,Z,Y,Q);H(be)},ne=(Y,Q,Z)=>{const be=u.width_mm,le=u.rows.map((Ae,qe)=>qe!==Y?Ae:{...Ae,cols:Vf(Ae.cols,be,Q,Z)});H(le)},se=(Y,Q)=>{xo(Q)&&S(Z=>({...Z,[Y]:Q}))},ge=Y=>{const Q=_[Y]??"";if(Q==="")return;const Z=wc(Q);Z!==null&&(P(Y,Z),S(be=>({...be,[Y]:hn(Z)})))},z=(Y,Q)=>{(Q===""||/^\d+$/.test(Q))&&R(Z=>({...Z,[Y]:Q}))},X=Y=>{const Q=T[Y]??"",Z=Q===""?1:Math.max(1,Number(Q)||1);he(Y,Z),R(be=>({...be,[Y]:String(Z)}))},ye=(Y,Q,Z)=>{xo(Z)&&O(be=>({...be,[`${Y}.${Q}`]:Z}))},oe=(Y,Q)=>{const Z=`${Y}.${Q}`,be=N[Z]??"";if(be==="")return;const le=wc(be);le!==null&&(ne(Y,Q,le),O(Ae=>({...Ae,[Z]:hn(le)})))};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Titolo voce"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Portafinestra soggiorno",value:a.title??"",onChange:Y=>C({title:Y.target.value})}),m.jsx("div",{className:"text-xs text-gray-500",children:"Usato come titolo in editor e PDF. Se vuoto, verr mostrato il tipo (es. Finestra)."})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Misure Totali e Quantit"}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Largh (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"decimal",pattern:"\\\\d+([.,]\\\\d{0,1})?",value:d,onChange:Y=>{const Q=Y.target.value;xo(Q)&&p(Q)},onBlur:()=>{d!==""&&ae("width_mm",d)}})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"decimal",pattern:"\\\\d+([.,]\\\\d{0,1})?",value:h,onChange:Y=>{const Q=Y.target.value;xo(Q)&&y(Q)},onBlur:()=>{h!==""&&ae("height_mm",h)}})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Quantit"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:g,onChange:Y=>{const Q=Y.target.value;(Q===""||/^\d+$/.test(Q))&&w(Q)},onBlur:()=>{const Y=g===""?1:Math.max(1,Number(g)||1);C({qty:Y}),w(String(Y))}})]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("input",{id:"autosplit",type:"checkbox",className:"h-4 w-4",checked:s,onChange:Y=>o(Y.target.checked)}),m.jsx("label",{htmlFor:"autosplit",children:"Ripartisci automaticamente la larghezza tra le ante"})]})]}),m.jsxs("section",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Struttura Finestra"}),m.jsx("button",{type:"button",onClick:fe,className:"btn btn-sm",children:"+ Nuova riga"})]}),m.jsx("div",{className:"space-y-4",children:u.rows.map((Y,Q)=>m.jsxs("div",{className:"p-3 border rounded-lg bg-gray-50/50 space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("label",{className:"text-xs text-gray-500",children:["Altezza ",Q+1," (mm)"]}),m.jsx("input",{className:"input",type:"text",inputMode:"decimal",pattern:"\\\\d+([.,]\\\\d{0,1})?",value:_[Q]??hn(Y.height_ratio??0),onChange:Z=>se(Q,Z.target.value),onBlur:()=>ge(Q),onWheel:Z=>Z.currentTarget.blur(),onKeyDown:Z=>{(Z.key==="ArrowUp"||Z.key==="ArrowDown")&&Z.preventDefault()}})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Numero Ante"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:T[Q]??String(Y.cols.length),onChange:Z=>z(Q,Z.target.value),onBlur:()=>X(Q),onWheel:Z=>Z.currentTarget.blur(),onKeyDown:Z=>{(Z.key==="ArrowUp"||Z.key==="ArrowDown")&&Z.preventDefault()}}),m.jsx("div",{className:"mt-1 text-xs text-gray-500",children:` ${hn(u.width_mm/Math.max(1,Y.cols.length))} mm ad anta`})]}),u.rows.length>1&&m.jsx("button",{type:"button",onClick:()=>Ne(Q),className:"btn-icon text-gray-400 hover:text-red-500 mt-4",title:"Rimuovi riga",children:m.jsx(nm,{size:16})})]}),Y.cols.map((Z,be)=>m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs text-gray-500",children:["Apertura Anta ",Q+1,".",be+1]}),m.jsx("select",{className:"input",value:Z.leaf?.state??"fissa",onChange:le=>pe(Q,be,le.target.value),children:zM.map(le=>m.jsx("option",{value:le.value,children:le.label},le.value))}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("label",{className:"text-xs text-gray-500",children:["Vetro Anta ",Q+1,".",be+1]}),m.jsxs("select",{className:"input",value:Z.glazing??u.glazing,onChange:le=>Ce(Q,be,le.target.value),children:[m.jsx("option",{value:"singolo",children:"Singolo"}),m.jsx("option",{value:"doppio",children:"Doppio"}),m.jsx("option",{value:"triplo",children:"Triplo"}),m.jsx("option",{value:"satinato",children:"Satinato"})]})]}),(()=>{const Ae=(Z.leaf?.state??"fissa")!=="fissa",qe=!!Z.handle,Ie=`handle-${Q}-${be}`;return m.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("input",{id:Ie,type:"checkbox",className:"h-4 w-4",checked:qe,disabled:!Ae,onChange:Xe=>ce(Q,be,Xe.target.checked)}),m.jsx("label",{htmlFor:Ie,className:Ae?"":"text-gray-400 line-through",children:"Maniglia"})]})})(),(()=>{const le=`${Q}.${be}`,Ae=Z.leaf?.horizontalBars?.[0],qe=!!Ae,Ie=`bar-${Q}-${be}`,Xe=Y.height_ratio&&Y.height_ratio>0?Y.height_ratio:u.height_mm/Math.max(1,u.rows.length);let Qe="";if(Ae&&Number.isFinite(Ae.offset_mm)){const Ke=Math.max(ai,Math.min(Xe,Ae.offset_mm)),St=Ae.origin==="bottom"?Ke:Math.max(ai,Math.min(Xe,Xe-Ke));Qe=hn(St)}return m.jsxs("div",{className:"mt-3 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("input",{id:Ie,type:"checkbox",className:"h-4 w-4",checked:qe,onChange:Ke=>{if(Ke.target.checked){const St=u.frame_mm??bc,$t=xc/2,dt=Math.min(Xe/2,Math.max($t,St*.12)),ot=Math.max(dt,Xe-dt),Nt=Xe/2||dt,Te=Ao(Math.min(ot,Math.max(dt,Nt)));Se(Q,be,Te),G(Fe=>({...Fe,[le]:hn(Te)}))}else Se(Q,be,null),G(St=>{const $t={...St};return delete $t[le],$t})}}),m.jsx("label",{htmlFor:Ie,children:"Traverso orizzontale"})]}),qe&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Altezza dal bordo inferiore (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"decimal",pattern:"\\\\d+([.,]\\\\d{0,1})?",value:L[le]??Qe,onChange:Ke=>{const St=Ke.target.value;xo(St)&&G($t=>({...$t,[le]:St}))},onBlur:()=>{const Ke=L[le]??"";if(Ke==="")return;const St=wc(Ke);St!==null&&(Se(Q,be,St),G($t=>({...$t,[le]:hn(St)})))},onWheel:Ke=>Ke.currentTarget.blur(),onKeyDown:Ke=>{(Ke.key==="ArrowUp"||Ke.key==="ArrowDown")&&Ke.preventDefault()}})]})]})})(),(()=>{const le=hn(Z.width_ratio??0);return m.jsxs("div",{className:"mt-2",children:[m.jsx("div",{className:"text-[11px] text-gray-400 mb-1",children:s?"Auto-ripartizione attiva: larghezze uguali sul totale":"Imposta larghezza TOTALE anta (mm)"}),s?m.jsxs("div",{className:"text-xs text-gray-600",children:["Larghezza totale stimata: ",m.jsxs("b",{children:[hn(u.width_mm/Math.max(1,Y.cols.length))," mm"]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("label",{className:"text-xs text-gray-500",children:["Larghezza Anta ",Q+1,".",be+1," (totale mm)"]}),m.jsx("input",{className:"input",type:"text",inputMode:"decimal",pattern:"\\\\d+([.,]\\\\d{0,1})?",value:N[`${Q}.${be}`]??le,onChange:Ae=>ye(Q,be,Ae.target.value),onBlur:()=>oe(Q,be),onWheel:Ae=>Ae.currentTarget.blur(),onKeyDown:Ae=>{(Ae.key==="ArrowUp"||Ae.key==="ArrowDown")&&Ae.preventDefault()}})]})]})})()]},be))]},Q))})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Vetro"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Stratigrafia vetro"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. 4-14-4-12-33.1 LowE",value:a.glass_spec??"",onChange:Y=>C({glass_spec:Y.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Riferimento"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Salotto",value:a.reference??"",onChange:Y=>C({reference:Y.target.value})})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Finiture & Dati tecnici"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Colore profilo"}),m.jsx("input",{className:"input",type:"text",placeholder:"Es. RAL 9016 Bianco",value:a.color??"",onChange:Y=>C({color:Y.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Colore cerniere"}),m.jsx("input",{className:"input",type:"text",placeholder:"Es. Bianco / Inox / Nero",value:a.hinges_color??"",onChange:Y=>C({hinges_color:Y.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Sistema profilo"}),m.jsxs("select",{className:"input",value:a.profile_system??"",onChange:Y=>C({profile_system:Y.target.value||null}),children:[m.jsx("option",{value:"",children:" Seleziona "}),$M.map(Y=>m.jsx("option",{value:Y,children:Y},Y))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Uw (W/mK)"}),m.jsx("input",{className:"input",type:"number",min:"0",step:"0.01",placeholder:"Es. 1.3",value:typeof a.uw=="number"?String(a.uw):"",onChange:Y=>{const Q=Y.target.value,Z=Q===""?null:Number(Q);C({uw:Q===""||Number.isNaN(Z)?null:Z})}})]})]})]})]})}const IM=["015 BIANCO OPACO P9016","030 GRIGIO OPACO","090 ANTRACITE RUVIDO OPACO P7016 - NOVITA' 2024","097 NERO RUVIDO OPACO P9005 - NOVITA' 2024","110 PERLA OPACO P1013","202 MARRONE RUVIDO OPACO P8017 - NOVITA' 2024","210 BRONZO CHIARO OPACO","211 BRONZO SCURO OPACO","501 VERDE RUVIDO OPACO P6005 - NOVITA' 2024","700 ARGENTO ANODIZZATO","751 GRIGIO MAREZZATO","810 QUERCIA SCURA","811 QUERCIA CHIARA","888 LEGNO NON A CARTELLA","999 RAL NON A CARTELLA","000 GREZZO"],HM=["Tondo verticale molla","Tondo plus verticale molla","Tondo verticale catenella","Tondo verticale motore","Tondo laterale molla","Tondo doppia zanz laterale molla"],qM=["Tondo 38","Tondo 46","Tondo 65","Tondo 105"];function FM(t){const r=t.draft,a=t.onChange,[s,o]=E.useState(r?.qty==null?"1":String(r.qty)),[c,u]=E.useState(r?.width_mm==null?"":String(r.width_mm)),[d,p]=E.useState(r?.height_mm==null?"":String(r.height_mm));E.useEffect(()=>{o(r?.qty==null?"1":String(r?.qty)),u(r?.width_mm==null?"":String(r?.width_mm)),p(r?.height_mm==null?"":String(r?.height_mm))},[r?.qty,r?.width_mm,r?.height_mm]);const h=(N,O)=>{a({...r??{kind:"zanzariera"},[N]:O})},y=r?.misura_tipo??"vano",g=r?.modello??"",w=r?.tipologia??"Tondo verticale molla",_=r?.profilo_colore??"030 GRIGIO OPACO",S=r?.accessori_colore??"Nero",T=r?.mesh??"Antracite",R=r?.deceleratore??!0;return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Quantit"}),m.jsx("div",{className:"grid grid-cols-2 gap-2 items-start",children:m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Pezzi"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&o(O)},onBlur:()=>{const N=s===""?1:Math.max(1,Number(s)||1);h("qty",N),o(String(N))},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()}})]})})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Modello & Tipologia"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Modello"}),m.jsxs("select",{className:"input",value:g,onChange:N=>h("modello",N.target.value||null),children:[m.jsx("option",{value:"",children:""}),qM.map(N=>m.jsx("option",{value:N,children:N},N))]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Tipologia"}),m.jsx("select",{className:"input",value:w,onChange:N=>h("tipologia",N.target.value||null),children:HM.map(N=>m.jsx("option",{value:N,children:N},N))})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Misure"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Larghezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&u(O)},onBlur:()=>{if(c==="")h("width_mm",null);else{const N=Number(c);h("width_mm",Number.isNaN(N)?null:N),u(Number.isNaN(N)?"":String(N))}},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&p(O)},onBlur:()=>{if(d==="")h("height_mm",null);else{const N=Number(d);h("height_mm",Number.isNaN(N)?null:N),p(Number.isNaN(N)?"":String(N))}},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Tipo di misura"}),m.jsx("select",{className:"input",value:y,onChange:N=>h("misura_tipo",N.target.value||null),children:m.jsx("option",{value:"vano",children:"Vano"})})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Colori & Rete"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Colore profilo"}),m.jsx("select",{className:"input",value:_,onChange:N=>h("profilo_colore",N.target.value||null),children:IM.map(N=>m.jsx("option",{value:N,children:N},N))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Colore accessori"}),m.jsx("input",{className:"input",placeholder:"Nero",value:S,onChange:N=>h("accessori_colore",N.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Colore rete"}),m.jsx("input",{className:"input",placeholder:"Antracite",value:T,onChange:N=>h("mesh",N.target.value||null)})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Extra"}),m.jsxs("label",{className:"flex items-start gap-2 text-sm",children:[m.jsx("input",{type:"checkbox",checked:R,onChange:N=>h("deceleratore",N.target.checked)}),"Deceleratore"]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Riferimento"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Bagno piccolo, Salotto...",value:r?.reference??"",onChange:N=>h("reference",N.target.value)})]})]})}const GM=["PVC","Alluminio coibentato","Legno coibentato"];function VM({draft:t,onChange:r}){if(!t)return null;const a=t,[s,o]=E.useState(a.width_mm==null?"":String(a.width_mm)),[c,u]=E.useState(a.height_mm==null?"":String(a.height_mm)),[d,p]=E.useState(a.depth_mm==null?"":String(a.depth_mm)),[h,y]=E.useState(a.celino_mm==null?"":String(a.celino_mm)),[g,w]=E.useState(a.qty==null?"1":String(a.qty));E.useEffect(()=>{!a.width_mm&&!a.height_mm&&!a.depth_mm&&r({...a,width_mm:1e3,height_mm:250,depth_mm:250})},[]),E.useEffect(()=>{o(a.width_mm==null?"":String(a.width_mm)),u(a.height_mm==null?"":String(a.height_mm)),p(a.depth_mm==null?"":String(a.depth_mm)),y(a.celino_mm==null?"":String(a.celino_mm)),w(a.qty==null?"1":String(a.qty))},[a.width_mm,a.height_mm,a.depth_mm,a.celino_mm,a.qty]);const _=(S,T)=>{r({...a,[S]:T})};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Misure"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Larghezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:S=>{const T=S.target.value;(T===""||/^\d+$/.test(T))&&o(T)},onBlur:()=>{if(s==="")_("width_mm",null);else{const S=Number(s);_("width_mm",Number.isNaN(S)?null:S),o(Number.isNaN(S)?"":String(S))}},onWheel:S=>S.currentTarget.blur(),onKeyDown:S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&S.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:S=>{const T=S.target.value;(T===""||/^\d+$/.test(T))&&u(T)},onBlur:()=>{if(c==="")_("height_mm",null);else{const S=Number(c);_("height_mm",Number.isNaN(S)?null:S),u(Number.isNaN(S)?"":String(S))}},onWheel:S=>S.currentTarget.blur(),onKeyDown:S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&S.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Profondit (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:S=>{const T=S.target.value;(T===""||/^\d+$/.test(T))&&p(T)},onBlur:()=>{if(d==="")_("depth_mm",null);else{const S=Number(d);_("depth_mm",Number.isNaN(S)?null:S),p(Number.isNaN(S)?"":String(S))}},onWheel:S=>S.currentTarget.blur(),onKeyDown:S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&S.preventDefault()}})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Celino (Opzionale)"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Celino (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:h,onChange:S=>{const T=S.target.value;(T===""||/^\d+$/.test(T))&&y(T)},onBlur:()=>{if(h==="")_("celino_mm",null);else{const S=Number(h);_("celino_mm",Number.isNaN(S)?null:S),y(Number.isNaN(S)?"":String(S))}},onWheel:S=>S.currentTarget.blur(),onKeyDown:S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&S.preventDefault()}})]}),m.jsx("div",{className:"text-xs text-gray-500",children:"Estensione frontale per coprire il muro."})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Dettagli"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Materiale"}),m.jsx("select",{className:"input",value:a.material??"PVC",onChange:S=>_("material",S.target.value),children:GM.map(S=>m.jsx("option",{value:S,children:S},S))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Colore"}),m.jsx("input",{className:"input",type:"text",placeholder:"Es. RAL 9016",value:a.color??"",onChange:S=>_("color",S.target.value)})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Quantit e Riferimento"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Pezzi"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:g,onChange:S=>{const T=S.target.value;(T===""||/^\d+$/.test(T))&&w(T)},onBlur:()=>{const S=g===""?1:Math.max(1,Number(g)||1);_("qty",S),w(String(S))},onWheel:S=>S.currentTarget.blur(),onKeyDown:S=>{(S.key==="ArrowUp"||S.key==="ArrowDown")&&S.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Riferimento"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Cucina",value:a.reference??"",onChange:S=>_("reference",S.target.value)})]})]})]})]})}const YM=["Alluminio","PVC","Altro"],KM=["fisse","regolabili"];function WM({draft:t,onChange:r}){if(!t)return null;const a=t,[s,o]=E.useState(a.width_mm==null?"":String(a.width_mm)),[c,u]=E.useState(a.height_mm==null?"":String(a.height_mm)),[d,p]=E.useState(a.qty==null?"1":String(a.qty));return E.useEffect(()=>{o(a.width_mm==null?"":String(a.width_mm)),u(a.height_mm==null?"":String(a.height_mm)),p(a.qty==null?"1":String(a.qty))},[a.width_mm,a.height_mm,a.qty]),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Misure"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Larghezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:h=>{const y=h.target.value;(y===""||/^\d+$/.test(y))&&o(y)},onBlur:()=>{if(s==="")r({...a,width_mm:null});else{const h=Number(s);r({...a,width_mm:Number.isNaN(h)?null:h}),o(Number.isNaN(h)?"":String(h))}},onWheel:h=>h.currentTarget.blur(),onKeyDown:h=>{(h.key==="ArrowUp"||h.key==="ArrowDown")&&h.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:h=>{const y=h.target.value;(y===""||/^\d+$/.test(y))&&u(y)},onBlur:()=>{if(c==="")r({...a,height_mm:null});else{const h=Number(c);r({...a,height_mm:Number.isNaN(h)?null:h}),u(Number.isNaN(h)?"":String(h))}},onWheel:h=>h.currentTarget.blur(),onKeyDown:h=>{(h.key==="ArrowUp"||h.key==="ArrowDown")&&h.preventDefault()}})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Tipo di misura"}),m.jsx("select",{className:"input",value:a.misura_tipo??"luce",onChange:h=>r({...a,misura_tipo:h.target.value}),children:m.jsx("option",{value:"luce",children:"Luce"})})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Quantit"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:h=>{const y=h.target.value;(y===""||/^\d+$/.test(y))&&p(y)},onBlur:()=>{const h=d===""?1:Math.max(1,Number(d)||1);r({...a,qty:h}),p(String(h))},onWheel:h=>h.currentTarget.blur(),onKeyDown:h=>{(h.key==="ArrowUp"||h.key==="ArrowDown")&&h.preventDefault()}})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Specifiche"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Materiale"}),m.jsx("select",{className:"input",value:a.material??"Alluminio",onChange:h=>r({...a,material:h.target.value}),children:YM.map(h=>m.jsx("option",{value:h,children:h},h))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Lamelle"}),m.jsx("select",{className:"input",value:a.lamelle??"fisse",onChange:h=>r({...a,lamelle:h.target.value}),children:KM.map(h=>m.jsx("option",{value:h,children:h},h))})]})]}),m.jsxs("label",{className:"flex items-start gap-2 text-sm",children:[m.jsx("input",{type:"checkbox",checked:!!a.con_telaio,onChange:h=>r({...a,con_telaio:h.target.checked})}),"Con telaio"]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Colore"}),m.jsx("input",{className:"input",placeholder:"es. RAL 6005 Verde",value:a.color??"",onChange:h=>r({...a,color:h.target.value||null})})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Riferimento"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Bagno piccolo, Salotto...",value:a.reference??"",onChange:h=>r({...a,reference:h.target.value})})]})]})}const XM=["PVC","Alluminio","Alluminio coibentato"];function QM({draft:t,onChange:r}){const a=(g,w)=>r({...t,[g]:w}),[s,o]=E.useState(t.width_mm==null?"":String(t.width_mm)),[c,u]=E.useState(t.height_mm==null?"":String(t.height_mm)),[d,p]=E.useState(t.qty==null?"1":String(t.qty));E.useEffect(()=>{o(t.width_mm==null?"":String(t.width_mm)),u(t.height_mm==null?"":String(t.height_mm)),p(t.qty==null?"1":String(t.qty))},[t.width_mm,t.height_mm,t.qty]);const h=t.material??"PVC",y=t.color??"";return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Misure"}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Larghezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:g=>{const w=g.target.value;(w===""||/^\d+$/.test(w))&&o(w)},onBlur:()=>{if(s==="")a("width_mm",null);else{const g=Number(s);a("width_mm",Number.isNaN(g)?null:g),o(Number.isNaN(g)?"":String(g))}},onWheel:g=>g.currentTarget.blur(),onKeyDown:g=>{(g.key==="ArrowUp"||g.key==="ArrowDown")&&g.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:g=>{const w=g.target.value;(w===""||/^\d+$/.test(w))&&u(w)},onBlur:()=>{if(c==="")a("height_mm",null);else{const g=Number(c);a("height_mm",Number.isNaN(g)?null:g),u(Number.isNaN(g)?"":String(g))}},onWheel:g=>g.currentTarget.blur(),onKeyDown:g=>{(g.key==="ArrowUp"||g.key==="ArrowDown")&&g.preventDefault()}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Quantit"}),m.jsx("input",{className:"input",type:"text",inputMode:"numeric",pattern:"[0-9]*",value:d,onChange:g=>{const w=g.target.value;(w===""||/^\d+$/.test(w))&&p(w)},onBlur:()=>{const g=d===""?1:Math.max(1,Number(d)||1);a("qty",g),p(String(g))},onWheel:g=>g.currentTarget.blur(),onKeyDown:g=>{(g.key==="ArrowUp"||g.key==="ArrowDown")&&g.preventDefault()}})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Specifiche"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Materiale"}),m.jsx("select",{className:"input",value:h,onChange:g=>a("material",g.target.value),children:XM.map(g=>m.jsx("option",{value:g,children:g},g))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Colore"}),m.jsx("input",{className:"input",placeholder:"es. RAL 9016 Bianco",value:y,onChange:g=>a("color",g.target.value||"")})]})]})]}),m.jsxs("section",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Riferimento"}),m.jsx("input",{className:"input",type:"text",placeholder:"es. Bagno piccolo, Salotto...",value:t.reference??"",onChange:g=>a("reference",g.target.value)})]})]})}const ms={finestra:{label:"Finestra",icon:Ny,makeDefaults:()=>({id:crypto.randomUUID(),kind:"finestra",width_mm:1200,height_mm:1500,qty:1,price_mode:"per_mq",price_per_mq:300,price_total:null,color:null,glass:null,hinges_color:null,uw:1.3,profile_system:null,notes:null,reference:"",custom_fields:[],options:{gridWindow:{width_mm:1200,height_mm:1500,frame_mm:60,mullion_mm:40,glazing:"doppio",showDims:!0,rows:[{height_ratio:1,cols:[{width_ratio:.5,leaf:{state:"apre_dx"}},{width_ratio:.5,leaf:{state:"apre_sx+vasistas"}}]}]}}}),Form:Ty},cassonetto:{label:"Cassonetto",icon:DM,makeDefaults:()=>({id:crypto.randomUUID(),kind:"cassonetto",width_mm:900,height_mm:400,qty:1,price_mode:"total",price_total:0,notes:null,reference:"",custom_fields:[],material:"PVC",depth_mm:300,celino_mm:null}),Form:VM},zanzariera:{label:"Zanzariera",icon:kM,makeDefaults:()=>({id:crypto.randomUUID(),kind:"zanzariera",qty:1,price_mode:"per_mq",price_per_mq:120,price_per_piece:null,price_total:null,width_mm:1e3,height_mm:1500,misura_tipo:"vano",modello:"Tondo 46",tipologia:"Tondo verticale molla",profilo_colore:"030 GRIGIO OPACO",accessori_colore:"Nero",mesh:"Antracite",deceleratore:!0,notes:null,reference:"",custom_fields:[]}),Form:FM},persiana:{label:"Persiana",icon:UM,makeDefaults:()=>({id:crypto.randomUUID(),kind:"persiana",width_mm:1e3,height_mm:1400,qty:1,price_mode:"total",price_total:0,price_per_mq:null,notes:null,reference:"",custom_fields:[],material:"Alluminio",lamelle:"fisse",con_telaio:!0,misura_tipo:"luce",color:""}),Form:WM},tapparella:{label:"Tapparella",icon:LM,makeDefaults:()=>({id:crypto.randomUUID(),kind:"tapparella",width_mm:1e3,height_mm:1400,qty:1,price_mode:"total",price_total:0,price_per_mq:null,notes:null,reference:"",custom_fields:[],material:"PVC",color:""}),Form:QM},custom:{label:"Voce personalizzata",icon:Ny,makeDefaults:()=>({id:crypto.randomUUID(),kind:"custom",width_mm:1e3,height_mm:1e3,qty:1,price_mode:"total",price_total:0,price_per_mq:null,notes:null,reference:"",custom_fields:[],title:"Voce personalizzata"}),Form:Ty}};function ZM(t){const r=t.width_mm*t.height_mm/1e6;return Math.round(r*100)/100}function ei(t){return new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(t||0)}function JM({open:t,onClose:r,onPick:a}){const[s,o]=E.useState(""),c=E.useRef(null);E.useEffect(()=>{if(t){const d=setTimeout(()=>c.current?.focus(),50);return()=>clearTimeout(d)}},[t]);const u=E.useMemo(()=>{const d=s.trim().toLowerCase(),p=Object.entries(ms);return d?p.filter(([h,y])=>y.label.toLowerCase().includes(d)):p},[s]);return t?m.jsxs("div",{className:"fixed inset-0 z-50",children:[m.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),m.jsxs("div",{className:"absolute inset-x-0 top-16 mx-auto w-full max-w-3xl card p-4",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("div",{className:"text-sm font-medium",children:"Aggiungi prodotto"}),m.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",onClick:r,children:"Chiudi"})]}),m.jsx("div",{className:"mt-3",children:m.jsx("input",{ref:c,className:"input w-full",placeholder:"Cerca categoria (es. finestra, cassonetto)",value:s,onChange:d=>o(d.target.value)})}),m.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(([d,p])=>m.jsxs("button",{className:"group relative flex items-center gap-3 rounded-lg border bg-white p-3 text-left hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-black/10",onClick:()=>a(d),children:[m.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded border bg-white",children:m.jsx("img",{src:p.icon,alt:p.label,className:"max-h-8 max-w-8 object-contain"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("div",{className:"font-medium leading-tight",children:p.label}),m.jsx("div",{className:"text-xs text-gray-500",children:"Clicca per configurare"})]}),m.jsx("span",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-transparent group-hover:ring-gray-200"})]},String(d)))})]})]}):null}function eO(){return{width_mm:1200,height_mm:1500,frame_mm:70,mullion_mm:60,glazing:"doppio",showDims:!0,rows:[{height_ratio:1,cols:[{width_ratio:1,leaf:{state:"apre_sx"},handle:!0},{width_ratio:1,leaf:{state:"apre_dx"},handle:!0}]}]}}const qc=t=>t&&t.length?t.reduce((r,a)=>r+a,0):0,tO=(t,r,a=0)=>{if(!r.length)return[];const s=Math.pow(10,Math.max(0,a)),o=Math.round(t*s),c=qc(r);if(c<=0){const y=Math.floor(o/r.length),g=o-y*r.length;return r.map((w,_)=>(y+(_===r.length-1?g:0))/s)}const d=r.map(y=>o*y/c).map(y=>Math.floor(y));let p=o-qc(d);const h=d.slice();if(p<0)for(let y=h.length-1;y>=0&&p<0;y-=1){const g=Math.min(h[y],Math.abs(p));h[y]-=g,p+=g}if(h.length){const y=h.length-1;h[y]+=p}return h.map(y=>y/s)},Yf=(t,r)=>Number.isFinite(t)?Number(t.toFixed(r)).toFixed(r).replace(/\.?0+$/,""):"0";function nO(t){switch(t){case"singolo":return"#e6f9ff";case"doppio":return"#cfefff";case"triplo":return"#b7e0ff";case"satinato":return"#f2f2f2";default:return"#e6f9ff"}}function rO(t){return t==="satinato"}function aO({x:t,y:r,w:a,h:s,state:o,stroke:c,strokeWidth:u}){const d=`${u*5} ${u*5}`,p=()=>m.jsx("polyline",{points:`${t},${r+s} ${t+a/2},${r} ${t+a},${r+s}`,stroke:c,strokeDasharray:d,strokeWidth:u,fill:"none"}),h=()=>m.jsx("polyline",{points:`${t+a},${r} ${t},${r+s/2} ${t+a},${r+s}`,stroke:c,strokeDasharray:d,strokeWidth:u,fill:"none"}),y=()=>m.jsx("polyline",{points:`${t},${r} ${t+a},${r+s/2} ${t},${r+s}`,stroke:c,strokeDasharray:d,strokeWidth:u,fill:"none"}),g=w=>{const _=Math.min(s*.5,100),S=_*3,T=r+s/2,R=t+a/2,N=w==="left"?R+S/2:R-S/2,O=w==="left"?R-S/2:R+S/2,L=w==="left"?`${O+_/2},${T-_/2} ${O},${T} ${O+_/2},${T+_/2}`:`${O-_/2},${T-_/2} ${O},${T} ${O-_/2},${T+_/2}`;return m.jsxs("g",{stroke:c,strokeWidth:u*1.5,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:N,y1:T,x2:O,y2:T}),m.jsx("polyline",{points:L})]})};switch(o){case"fissa":return null;case"vasistas":return p();case"apre_sx":return h();case"apre_dx":return y();case"apre_sx+vasistas":return m.jsxs("g",{children:[h(),p()]});case"apre_dx+vasistas":return m.jsxs("g",{children:[y(),p()]});case"scorrevole_sx":return g("left");case"scorrevole_dx":return g("right");default:return null}}function iO(t){switch(t){case"apre_sx":case"scorrevole_sx":case"apre_sx+vasistas":return"right";case"apre_dx":case"scorrevole_dx":case"apre_dx+vasistas":return"left";case"vasistas":return"top";default:return null}}function im({cfg:t,radius:r=6,stroke:a="#222"}){const s=t??eO(),{width_mm:o,height_mm:c,rows:u,frame_mm:d,mullion_mm:p,glazing:h}=s,y=s.showDims!==!1,g=o-d*2,w=c-d*2,_=(u.length-1)*p,S=w-_,T=qc(u.map(Te=>Te.height_ratio)),R=Math.max(60,Math.min(o,c)),N=Math.max(1,Math.min(5,R/400)),O=Math.max(9,Math.min(24,R/28)),L=60,G=120,C=Math.max(O*10.2,O+80,o/60,c/60),D=Math.min(Math.max(C,L),G),H=D,ae=1,fe=Math.max(26,Math.min(48,R/9));let Ne=Math.max(6,O*.5);const he=fe+H*1.3,pe=u.length>0?[0]:[],ce=u.length>1?u.map((Te,Fe)=>Fe).filter(Te=>Te!==0):[],Se=new Map;pe.forEach((Te,Fe)=>Se.set(Te,Fe));const Ce=new Map;ce.forEach((Te,Fe)=>Ce.set(Te,Fe));const P=Math.max(70,D*1.15),ne=Math.max(48,D),se=pe.length>0?P+(pe.length-1)*ne+D:0,ge=ce.length>0?P+(ce.length-1)*ne+D:0,z=ge,X=Math.max(6,O*.5),ye=fe+O*1.1,oe=X+se,Y=ye+ge+H*1.4+fe,Q=E.useMemo(()=>`satin-dots-${Math.random().toString(36).slice(2,8)}`,[]),Z=`${N*3.5} ${N*2.2}`,be="#333",le=u.reduce((Te,Fe,Oe)=>{const He=S*Fe.height_ratio/T,gt=d+Te.offsetY,xt=Te.offsetMm,lt=Fe.height_ratio>0?Fe.height_ratio:c/Math.max(1,u.length);Te.rowDimensions.push({rowIdx:Oe,top:gt,bottom:gt+He,heightMm:lt});const A=(Fe.cols.length-1)*p,b=g-A,x=Fe.cols.map(ht=>Number.isFinite(ht.width_ratio)&&ht.width_ratio>0?ht.width_ratio:1),k=qc(x),q=k>0?k:Fe.cols.length,W=tO(o,x,ae);let ue=d;const Ve=[],nt=lt>0?He/lt:0,ct=nt>0?nt*p:p;let ft=!1,$e=Te.rowBars.get(Oe);if($e||($e={positions:[],startMm:xt,endMm:xt+lt,startPx:xt,endPx:xt+lt},Te.rowBars.set(Oe,$e)),Fe.cols.forEach((ht,zt)=>{const Bt=ue,Gt=b*x[zt]/q,Nn=d*.15,We=Bt+Nn,B=gt+Nn,de=Gt-Nn*2,ve=He-Nn*2,Re=ht.glazing??h;if(zt>0){const ze=Bt-p/2;Te.nodes.push(m.jsx("line",{x1:ze,y1:gt,x2:ze,y2:gt+He,stroke:a,strokeWidth:N},`vm-${Oe}-${zt}`))}Te.nodes.push(m.jsxs("g",{children:[m.jsx("rect",{x:We,y:B,width:de,height:ve,fill:nO(Re),stroke:a,strokeWidth:N/1.5}),rO(Re)&&m.jsx("rect",{x:We,y:B,width:de,height:ve,fill:`url(#${Q})`,opacity:.6})]},`g-${Oe}-${zt}`));const U=ht.leaf?.horizontalBars??[];U.length&&nt>0&&[...U].sort((ke,Ee)=>(ke?.offset_mm??0)-(Ee?.offset_mm??0)).forEach((ke,Ee)=>{const Be=Number(ke?.offset_mm);if(!Number.isFinite(Be))return;const Ye=ke?.origin==="bottom"?Be:lt-Be,it=p/2,et=Math.min(lt/2,Math.max(it,d*.12)),Et=Math.max(et,lt-et),At=Math.min(Et,Math.max(et,Ye)),ln=lt-At,Tn=gt+ln*nt,Qn=gt+ct/2,_n=gt+He-ct/2,kr=Math.max(Qn,Math.min(_n,Tn)),$n=Math.max(ct*.7,N*4),An=Math.max(gt,kr-$n/2),ur=gt+He-$n,Yt=Math.min(An,ur),at=Yt+$n,Rt=Bt,Jt=Gt,qt=Math.max(N/1.5,.9),Ot=Math.max(qt*.9,N*1.4),Ur=Jt-Ot*2,ra=$n-Ot*2,yn=Rt+Ot,Ko=Yt+Ot;if(nt>0){const ou=xt+ln;$e.positions.push({absMm:ou,absPx:kr})}Te.nodes.push(m.jsxs("g",{children:[m.jsx("rect",{x:Rt,y:Yt,width:Jt,height:$n,fill:"#dfe3ea"}),m.jsx("line",{x1:Rt,y1:Yt,x2:Rt+Jt,y2:Yt,stroke:a,strokeWidth:qt}),m.jsx("line",{x1:Rt,y1:at,x2:Rt+Jt,y2:at,stroke:a,strokeWidth:qt}),Ur>0&&ra>0&&m.jsx("rect",{x:yn,y:Ko,width:Ur,height:ra,fill:"#f8fafc"}),m.jsx("line",{x1:Rt+qt,y1:Yt+qt*.8,x2:Rt+Jt-qt,y2:Yt+qt*.8,stroke:"#ffffff",strokeWidth:qt/2,strokeLinecap:"round",opacity:.6}),m.jsx("line",{x1:Rt+qt*.6,y1:at-qt*.8,x2:Rt+Jt-qt*.6,y2:at-qt*.8,stroke:"rgba(30, 41, 59, 0.25)",strokeWidth:qt/1.5,strokeLinecap:"round"})]},`hb-${Oe}-${zt}-${Ee}`))}),Te.nodes.push(m.jsx(aO,{x:We,y:B,w:de,h:ve,state:ht.leaf?.state??"fissa",stroke:a,strokeWidth:N},`o-${Oe}-${zt}`));const $=zt===0?0:Bt-p/2,V=zt===Fe.cols.length-1?o:Bt+Gt+p/2,re=Math.max(0,Math.min(o,$)),_e=Math.max(0,Math.min(o,V)),Ue=Math.max(0,_e-re),De=zt<W.length?W[zt]:Ue,Le=Yf(De,ae),Me=`${Math.round(re)}-${Math.round(_e)}`;if(Te.seenSegments.has(Me)||(ft=!0,Te.seenSegments.add(Me)),Ve.push({x:(re+_e)/2,text:Le,start:re,end:_e}),ht.handle){const ze=iO(ht.leaf?.state);let ke=null;const Ee=d*.22,Be=d*1,Ye=d*.75,it=d*.22;if(ze==="left"||ze==="right"){const et=gt+He/2,Et=ze==="left"?Bt+d/2:Bt+Gt-d/2;ke=m.jsxs("g",{transform:`translate(${Et}, ${et})`,fill:be,children:[m.jsx("rect",{x:-Ee/2,y:-Be/2,width:Ee,height:Be}),m.jsx("rect",{x:-Ye/2,y:-Be/2-it,width:Ye,height:it})]})}else if(ze==="top"){const et=Bt+Gt/2,Et=gt+d/2;ke=m.jsxs("g",{transform:`translate(${et}, ${Et})`,fill:be,children:[m.jsx("rect",{x:-Be/2,y:-Ee/2,width:Be,height:Ee}),m.jsx("rect",{x:Be/2,y:-Ye/2,width:it,height:Ye})]})}ke&&Te.nodes.push(m.jsx("g",{children:ke},`handle-${Oe}-${zt}`))}ue+=Gt+p}),Oe<u.length-1){const ht=gt+He+p/2;Te.nodes.push(m.jsx("line",{x1:d,y1:ht,x2:o-d,y2:ht,stroke:a,strokeWidth:N},`hz-${Oe}`))}if(Ve.length>0&&ft){let ht=null,zt=null,Bt=!1;Se.has(Oe)?Ve.length===1&&Math.abs(Ve[0].start)<.5&&Math.abs(Ve[0].end-o)<.5?Bt=!0:(ht=-(P+Se.get(Oe)*ne),zt="top"):Ce.has(Oe)&&(ht=c+P+Ce.get(Oe)*ne,zt="bottom"),!Bt&&ht!==null&&zt&&Te.rowLabels.push({rowIdx:Oe,y:ht,position:zt,rowTop:gt,rowBottom:gt+He,labels:Ve})}return Te.offsetY+=He+p,Te.offsetMm+=Fe.height_ratio+(Oe<u.length-1?p:0),Te},{nodes:[],offsetY:0,offsetMm:0,rowLabels:[],rowDimensions:[],seenSegments:new Set,rowBars:new Map}),Ae=u.length>1?le.rowDimensions.map(({top:Te,bottom:Fe,heightMm:Oe})=>{const He=Math.max(0,Oe);return He<=.05?null:{startPx:Te,endPx:Fe,midPx:(Te+Fe)/2,label:Yf(He,ae)}}).filter(Te=>!!Te):[],qe=Array.from(le.rowBars.entries()).map(([Te,Fe])=>{if(!Fe.positions.length)return null;const Oe=Fe.positions.filter(A=>Number.isFinite(A?.absMm)&&Number.isFinite(A?.absPx)).sort((A,b)=>A.absMm-b.absMm);if(!Oe.length)return null;const He=[];if(Oe.forEach(A=>{(!He.length||Math.abs(He[He.length-1].absMm-A.absMm)>.05)&&He.push(A)}),!He.length)return null;const gt=[{absMm:Fe.startMm,absPx:Fe.startPx,type:"frame"},...He.map(A=>({absMm:A.absMm,absPx:A.absPx,type:"bar"})),{absMm:Fe.endMm,absPx:Fe.endPx,type:"frame"}],xt=[],lt=new Set;for(let A=0;A<gt.length-1;A+=1){const b=gt[A],x=gt[A+1],k=x.absMm-b.absMm;if(k<=.05||b.type!=="bar"&&x.type!=="bar")continue;const q=Yf(k,ae),W=(b.absPx+x.absPx)/2;lt.add(b.absPx),lt.add(x.absPx),xt.push({startPx:b.absPx,endPx:x.absPx,midPx:W,label:q})}return xt.length?{rowIdx:Te,segments:xt,boundaries:Array.from(lt).sort((A,b)=>A-b)}:null}).filter(Te=>!!Te),Ie=fe+H*1.4,Xe=H*1.8,Qe=(Ae.length?1:0)+qe.length;if(Qe>0){const Te=Ie+(Qe-1)*Xe+H*1.6;Ne=Math.max(Ne,Te)}const Ke=[];let St=0;const $t=(Te,Fe)=>{if(!Te.length)return;const Oe=Fe.slice().sort((lt,A)=>lt-A),He=o+Ie+St*Xe,gt=He-H*.6,xt=He+H*.45;Ke.push({lineX:He,extX:gt,textX:xt,segments:Te,boundaries:Oe}),St+=1};if(Ae.length){const Te=new Set;Ae.forEach(Fe=>{Te.add(Fe.startPx),Te.add(Fe.endPx)}),$t(Ae,Array.from(Te))}qe.forEach(Te=>{$t(Te.segments,Te.boundaries)});const dt=c+z+fe+H*.9,ot=-(fe+H*.75),Nt=H*.6;return m.jsxs("svg",{viewBox:`${-he} ${-oe} ${o+he+Ne} ${c+oe+Y}`,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",role:"img","aria-label":"Anteprima finestra",children:[m.jsx("defs",{children:m.jsxs("pattern",{id:Q,patternUnits:"userSpaceOnUse",width:N*8,height:N*8,children:[m.jsx("rect",{x:"0",y:"0",width:N*8,height:N*8,fill:"transparent"}),m.jsx("circle",{cx:N*2,cy:N*2,r:N*.8,fill:"#d1d5db"})]})}),m.jsx("rect",{x:0,y:0,width:o,height:c,rx:r,ry:r,fill:"#fdfdfd"}),m.jsx("rect",{x:N/2,y:N/2,width:o-N,height:c-N,rx:r,ry:r,fill:"none",stroke:a,strokeWidth:N}),m.jsx("rect",{x:d,y:d,width:g,height:w,fill:"none",stroke:a,strokeWidth:N/1.5}),le.nodes,y&&le.rowLabels.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("g",{stroke:a,strokeWidth:N/1.5,strokeDasharray:Z,fill:"none",children:le.rowLabels.map(Te=>{const Fe=Te.position==="top"?0:c,Oe=Te.position==="top"?Te.y+Nt:Te.y-Nt;return Te.labels.flatMap((He,gt)=>[m.jsx("line",{x1:He.start,y1:Fe,x2:He.start,y2:Oe},`row-ext-start-${Te.rowIdx}-${gt}`),m.jsx("line",{x1:He.end,y1:Fe,x2:He.end,y2:Oe},`row-ext-end-${Te.rowIdx}-${gt}`)])})}),m.jsx("g",{style:{fontFamily:"sans-serif",textAnchor:"middle",fill:"#1f2937",fontSize:D},children:le.rowLabels.map(({rowIdx:Te,y:Fe,labels:Oe})=>Oe.map((He,gt)=>m.jsx("text",{x:He.x,y:Fe,dominantBaseline:"middle",children:He.text},`row-label-${Te}-${gt}`)))})]}),y&&m.jsxs(m.Fragment,{children:[m.jsxs("g",{stroke:a,strokeWidth:N/1.5,strokeDasharray:Z,fill:"none",children:[m.jsx("line",{x1:0,y1:c,x2:0,y2:dt-Nt}),m.jsx("line",{x1:o,y1:c,x2:o,y2:dt-Nt}),m.jsx("line",{x1:0,y1:0,x2:ot+Nt,y2:0}),m.jsx("line",{x1:0,y1:c,x2:ot+Nt,y2:c})]}),m.jsxs("g",{style:{fontFamily:"sans-serif",textAnchor:"middle",fill:"#1f2937",fontSize:H},children:[m.jsx("text",{x:o/2,y:dt,dominantBaseline:"middle",children:Math.round(o)}),m.jsx("text",{x:ot,y:c/2,transform:`rotate(-90, ${ot}, ${c/2})`,dominantBaseline:"middle",children:Math.round(c)})]})]}),y&&Ke.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("g",{stroke:a,strokeWidth:N/1.5,strokeDasharray:Z,fill:"none",children:[Ke.flatMap((Te,Fe)=>Te.boundaries.map((Oe,He)=>m.jsx("line",{x1:o,y1:Oe,x2:Te.extX,y2:Oe},`bar-ext-${Fe}-${He}`))),Ke.flatMap((Te,Fe)=>Te.segments.map((Oe,He)=>m.jsx("line",{x1:Te.lineX,y1:Oe.startPx,x2:Te.lineX,y2:Oe.endPx},`bar-line-${Fe}-${He}`)))]}),m.jsx("g",{style:{fontFamily:"sans-serif",textAnchor:"middle",fill:"#1f2937",fontSize:D},children:Ke.flatMap((Te,Fe)=>Te.segments.map((Oe,He)=>m.jsx("text",{x:Te.textX,y:Oe.midPx,transform:`rotate(-90, ${Te.textX}, ${Oe.midPx})`,dominantBaseline:"middle",children:Oe.label},`bar-label-${Fe}-${He}`)))})]})]})}async function wh(t,r=640,a=640){const s={...t||{},showDims:!0},o=document.createElement("div");o.style.position="fixed",o.style.left="-99999px",o.style.top="-99999px",o.style.width=`${r}px`,o.style.height=`${a}px`,o.style.pointerEvents="none",document.body.appendChild(o);const c=Eh.createRoot(o);c.render(m.jsx("div",{style:{width:r,height:a},children:m.jsx(im,{cfg:s})})),await new Promise(T=>setTimeout(T,0)),await new Promise(T=>requestAnimationFrame(()=>T(null)));const u=o.querySelector("svg");if(!u)throw console.error("windowToPng: nessun <svg> trovato nel container",{html:o.innerHTML.slice(0,200)}),c.unmount(),o.remove(),new Error("SVG non generato");u.setAttribute("width",String(r)),u.setAttribute("height",String(a)),u.getAttribute("xmlns")||u.setAttribute("xmlns","http://www.w3.org/2000/svg");const p=new XMLSerializer().serializeToString(u),h=new Blob([p],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(h),g=new Image;g.decoding="async",g.src=y,await new Promise((T,R)=>{g.onload=()=>T(),g.onerror=()=>R(new Error("Caricamento SVGIMG fallito"))});const w=document.createElement("canvas");w.width=r,w.height=a;const _=w.getContext("2d");if(!_)throw c.unmount(),o.remove(),URL.revokeObjectURL(y),new Error("Canvas non disponibile");return _.drawImage(g,0,0,r,a),c.unmount(),o.remove(),URL.revokeObjectURL(y),await new Promise((T,R)=>w.toBlob(N=>N?T(N):R(new Error("toBlob fallito")),"image/png",.92))}function sm({cfg:t,stroke:r="#222"}){const{width_mm:a=1e3,height_mm:s=250,depth_mm:o=250,celino_mm:c=0}=t,u=Math.PI/6,d=.7,p=(o||0)*Math.cos(u)*d,h=(o||0)*Math.sin(u)*d,y=(c||0)*Math.cos(u)*d,g=(c||0)*Math.sin(u)*d,w=a+p+y,_=s+h+g,S=1.5,N=Math.min(Math.max(Math.max(12,w/40),32),72),O=Math.min(a,s)*.1,L=N*2.5,G=-L,C=-h-g-L,D=w+L*2,H=_+L*2,ae=`${G} ${C} ${D} ${H}`;return m.jsx("svg",{viewBox:ae,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",role:"img","aria-label":"Disegno tecnico del cassonetto",children:m.jsxs("g",{stroke:r,fill:"none",strokeWidth:S,strokeLinejoin:"round",strokeLinecap:"round",children:[m.jsx("path",{d:`M ${p},${-h} L ${a+p},${-h} L ${a},0 L 0,0 Z`,fill:"#f0f0f0"}),m.jsx("path",{d:`M ${a},0 L ${a+p},${-h} L ${a+p},${s-h} L ${a},${s} Z`,fill:"#e0e0e0"}),m.jsx("rect",{x:"0",y:"0",width:a,height:s,fill:"#fafafa"}),m.jsx("rect",{x:O,y:O,width:a-O*2,height:s-O*2,fill:"#f4f4f5"}),m.jsx("rect",{x:"0",y:"0",width:a,height:s}),m.jsx("rect",{x:O,y:O,width:a-O*2,height:s-O*2}),c&&c>0&&m.jsx("line",{x1:a+p,y1:s-h,x2:a+p+y,y2:s-h-g,strokeDasharray:`${S*3} ${S*2}`})]})})}async function _h(t,r=640,a=640){const s=document.createElement("div");s.style.position="fixed",s.style.left="-99999px",s.style.top="-99999px",s.style.width=`${r}px`,s.style.height=`${a}px`,s.style.pointerEvents="none",document.body.appendChild(s);const o=Eh.createRoot(s);o.render(m.jsx("div",{style:{width:r,height:a},children:m.jsx(sm,{cfg:t})})),await new Promise(S=>setTimeout(S,50));const c=s.querySelector("svg");if(!c)throw o.unmount(),s.remove(),new Error("Cassonetto SVG non generato");c.setAttribute("width",String(r)),c.setAttribute("height",String(a)),c.getAttribute("xmlns")||c.setAttribute("xmlns","http://www.w3.org/2000/svg");const d=new XMLSerializer().serializeToString(c),p=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),h=URL.createObjectURL(p),y=new Image;y.decoding="async",y.src=h,await new Promise((S,T)=>{y.onload=()=>S(),y.onerror=R=>T(new Error(`Caricamento SVG in IMG fallito: ${R}`))});const g=document.createElement("canvas");g.width=r,g.height=a;const w=g.getContext("2d");if(!w)throw o.unmount(),s.remove(),URL.revokeObjectURL(h),new Error("Canvas non disponibile");return w.drawImage(y,0,0,r,a),o.unmount(),s.remove(),URL.revokeObjectURL(h),await new Promise((S,T)=>g.toBlob(R=>R?S(R):T(new Error("toBlob fallito")),"image/png",.92))}const sO=t=>String(t??"").toLowerCase(),su=[{id:"windows",label:"Finestre e portefinestre",match:t=>/finestr|serrament|scorrevol|portafin/i.test(t)},{id:"persiane",label:"Persiane",match:t=>/persian/i.test(t)},{id:"tapparelle",label:"Tapparelle",match:t=>/tapparell|avvolgibil/i.test(t)},{id:"zanzariere",label:"Zanzariere",match:t=>/zanzar/i.test(t)},{id:"cassonetti",label:"Cassonetti",match:t=>/casson/i.test(t)},{id:"custom",label:"Voci custom",match:t=>/custom|personalizzat/i.test(t)}],oO=new Set(su.map(t=>t.id)),Cc=t=>`${t.toFixed(2)} m`,Xx=t=>{const r=Number(t);return Number.isFinite(r)?r:null},Fc=(t,r)=>{for(const a of r){const s=Xx(t[a]);if(s&&s>0)return s}return null},Qx=t=>{const r=Fc(t,["width_mm","larghezza_mm","larghezza","width"]),a=Fc(t,["height_mm","altezza_mm","altezza","height"]),s=Xx(t.qty)??1;if(!r||!a||r<=0||a<=0||!s||s<=0)return 0;const o=r*a/1e6;return Zx(o*s)},Zx=t=>Math.round((t+Number.EPSILON)*100)/100,lO=t=>{const r=Fc(t,["width_mm","larghezza_mm","larghezza","width"]),a=Fc(t,["height_mm","altezza_mm","altezza","height"]);return r&&a?`L ${Math.round(r)}  H ${Math.round(a)} mm`:r?`L ${Math.round(r)} mm`:a?`H ${Math.round(a)} mm`:null},Jx=t=>{const r=sO(t?.kind),a=su.find(s=>s.match(r));return a?a.id:null},ps=t=>{if(!Array.isArray(t))return[];const r=new Set;return t.map(a=>{const s=a?.group;if(!s||!oO.has(s)||r.has(s))return null;const o=a?.mode==="subset"?"subset":"all",c=Array.isArray(a?.itemIds)?Array.from(new Set(a.itemIds.filter(u=>typeof u=="string"&&u.trim().length>0))):void 0;return r.add(s),o==="subset"&&(!c||c.length===0)?null:{group:s,mode:o,itemIds:o==="subset"?c:void 0}}).filter(Boolean)},cO=(t,r)=>{const a=r.filter(o=>Jx(o)===t.group);if(t.mode==="all")return a;const s=new Set(t.itemIds??[]);return a.filter(o=>s.has(String(o.id)))},ew=(t,r)=>{const a=ps(t);return a.length===0?[]:a.map(s=>{const o=su.find(p=>p.id===s.group),c=cO(s,r);let u=0,d=0;return c.forEach(p=>{const h=Qx(p);h>0?u+=h:d+=1}),{id:s.group,label:o.label,mq:Zx(u),selectedCount:c.length,missingDimensions:d}})};function uO({item:t,onEdit:r,onDuplicate:a,onRemove:s}){const o=ms[t.kind],c=t.kind==="custom",u=t.__previewUrl,d=t.image_url,p=u||d||o?.icon,h=typeof t.title=="string"?t.title.trim():"",y=h||(c?"(Senza titolo)":o?.label??String(t.kind).toUpperCase());return m.jsx("div",{className:"card p-3",children:m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsxs("div",{className:"relative w-[88px] h-[88px] sm:w-[110px] sm:h-[110px] shrink-0 rounded border bg-white flex items-center justify-center",children:[t.kind==="finestra"&&t?.options?.gridWindow?m.jsx(im,{cfg:t.options.gridWindow}):t.kind==="cassonetto"?m.jsx(sm,{cfg:{width_mm:t.width_mm??1e3,height_mm:t.height_mm??250,depth_mm:t.depth_mm??null,celino_mm:t.celino_mm??t.extension_mm??null}}):p?m.jsx("img",{src:p,alt:y,loading:"lazy",className:"max-w-[80%] max-h-[80%] object-contain"}):null,m.jsx("div",{className:"absolute bottom-1 left-0 right-0 text-center text-[11px] text-gray-700",children:typeof t.width_mm=="number"?`${t.width_mm} mm`:""}),m.jsx("div",{className:"absolute top-0 bottom-0 left-1 flex items-center",children:m.jsx("div",{className:"-rotate-90 origin-left text-[11px] text-gray-700",children:typeof t.height_mm=="number"?`${t.height_mm} mm`:""})})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:["                        ",m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"font-medium truncate",children:y}),t.reference&&m.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:t.reference})]}),m.jsxs("div",{className:"flex items-center gap-1 md:gap-3",children:[m.jsx("div",{className:"text-sm text-gray-600 whitespace-nowrap",children:t.width_mm&&t.height_mm?`${t.qty}  ${ZM(t)} m`:`${t.qty}`}),m.jsx(mn,{variant:"ghost","aria-label":"Modifica",title:"Modifica",onClick:()=>r(t),children:m.jsx(rM,{size:16})}),m.jsx(mn,{variant:"ghost","aria-label":"Duplica",title:"Duplica",onClick:()=>a(t.id),children:m.jsx(Gx,{size:16})}),m.jsx(mn,{variant:"ghost","aria-label":"Rimuovi voce",title:"Rimuovi voce",onClick:()=>s(t.id),children:m.jsx(nm,{size:16})})]})]}),m.jsxs("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-1 text-sm text-gray-700",children:[(typeof t.width_mm=="number"||typeof t.height_mm=="number")&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Misure:"})," ",typeof t.width_mm=="number"&&typeof t.height_mm=="number"?m.jsxs(m.Fragment,{children:["L ",t.width_mm,"  H ",t.height_mm," mm"]}):typeof t.width_mm=="number"?m.jsxs(m.Fragment,{children:["L ",t.width_mm," mm"]}):m.jsxs(m.Fragment,{children:["H ",t.height_mm," mm"]})]}),t.color&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Colore:"})," ",t.color]}),t.glass&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Vetro:"})," ",t.glass]}),t.hinges_color&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Cerniere:"})," ",t.hinges_color]}),typeof t.uw=="number"&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Uw (trasmittanza termica):"})," ",t.uw," W/mK"]}),t.kind==="zanzariera"&&m.jsxs(m.Fragment,{children:[t.modello&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Modello:"})," ",t.modello]}),t.tipologia&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Tipologia:"})," ",t.tipologia]}),(t.rete_colore||t.mesh)&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Colore rete:"})," ",t.rete_colore??t.mesh]})]}),t.kind==="finestra"&&t.profile_system&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Sistema profilo:"})," ",t.profile_system]}),t.kind==="cassonetto"&&m.jsxs(m.Fragment,{children:[t.material&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Materiale:"})," ",t.material]}),t.depth_mm&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Profondit:"})," ",t.depth_mm," mm"]}),t.celino_mm&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Celino:"})," ",t.celino_mm," mm"]})]}),t.kind==="persiana"&&m.jsxs(m.Fragment,{children:[t.material&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Materiale:"})," ",t.material]}),t.lamelle&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Lamelle:"})," ",t.lamelle]}),typeof t.con_telaio<"u"&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Telaio:"})," ",t.con_telaio?"Con telaio":"Senza telaio"]}),t.color&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Colore:"})," ",t.color]})]}),t.kind==="tapparella"&&m.jsxs(m.Fragment,{children:[t.material&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Materiale:"})," ",t.material]}),t.color&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Colore:"})," ",t.color]}),t.width_mm&&t.height_mm&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Dimensioni:"})," ",t.width_mm,"",t.height_mm," mm"]})]}),Array.isArray(t.custom_fields)&&t.custom_fields.map((g,w)=>{const _=(g?.label??g?.name??g?.key??"").toString().trim(),S=(g?.value??"").toString().trim();return!_||!S?null:m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-500",children:[_,":"]})," ",S]},g?.key??`${_}-${S}-${w}`)})]})]})]})})}function dO({draft:t,onChange:r}){const a=E.useRef(null),[s,o]=E.useState(t.width_mm==null?"":String(t.width_mm)),[c,u]=E.useState(t.height_mm==null?"":String(t.height_mm)),[d,p]=E.useState(t.qty==null?"1":String(t.qty));E.useEffect(()=>{o(t.width_mm==null?"":String(t.width_mm)),u(t.height_mm==null?"":String(t.height_mm)),p(t.qty==null?"1":String(t.qty))},[t.width_mm,t.height_mm,t.qty]);const h=(N,O)=>r({...t,[N]:O}),y=Array.isArray(t.custom_fields)?t.custom_fields:[],g=t.__previewUrl||t.image_url||null,w=(N,O)=>{const L=y.slice();L[N]={...L[N],...O},h("custom_fields",L)},_=()=>{const N=y.concat({key:crypto.randomUUID(),label:"",value:""});h("custom_fields",N)},S=N=>{const O=y.slice();O.splice(N,1),h("custom_fields",O)},T=N=>{const O=N.target.files?.[0];if(!O)return;if(!O.type.startsWith("image/")){N.target.value="";return}const L=URL.createObjectURL(O);r({...t,__pickedFile:O,__previewUrl:L}),N.target.value=""},R=()=>{const N=t.__previewUrl;N&&URL.revokeObjectURL(N);const O={...t};delete O.__pickedFile,delete O.__previewUrl,O.image_url=void 0,r(O)};return m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Titolo voce"}),m.jsx("input",{className:"input",placeholder:"Es. Voce personalizzata",value:t.title??"",onChange:N=>h("title",N.target.value)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Riferimento (opzionale)"}),m.jsx("input",{className:"input",placeholder:"Es. bagno piccolo / salotto",value:t.reference??"",onChange:N=>h("reference",N.target.value)})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Larghezza (mm)"}),m.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"input",value:s,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&o(O)},onBlur:()=>{if(s==="")h("width_mm",null);else{const N=Number(s);h("width_mm",Number.isNaN(N)?null:N),o(Number.isNaN(N)?"":String(N))}},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()},placeholder:"es. 1200"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Altezza (mm)"}),m.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"input",value:c,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&u(O)},onBlur:()=>{if(c==="")h("height_mm",null);else{const N=Number(c);h("height_mm",Number.isNaN(N)?null:N),u(Number.isNaN(N)?"":String(N))}},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()},placeholder:"es. 1500"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Quantit"}),m.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",className:"input",value:d,onChange:N=>{const O=N.target.value;(O===""||/^\d+$/.test(O))&&p(O)},onBlur:()=>{const N=d===""?1:Math.max(1,Number(d)||1);h("qty",N),p(String(N))},onWheel:N=>N.currentTarget.blur(),onKeyDown:N=>{(N.key==="ArrowUp"||N.key==="ArrowDown")&&N.preventDefault()},placeholder:"1"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Immagine voce"}),g?m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:g,alt:"Anteprima",className:"h-24 w-24 object-contain rounded border bg-white"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>a.current?.click(),children:"Cambia immagine"}),m.jsx("button",{type:"button",className:"btn btn-sm",onClick:R,children:"Rimuovi"})]})]}):m.jsxs("div",{className:"rounded border border-dashed p-4 text-sm text-gray-600 flex items-center justify-between",children:[m.jsx("span",{children:"Nessuna immagine. Caricane una dal dispositivo."}),m.jsx("button",{type:"button",className:"btn btn-sm",onClick:()=>a.current?.click(),children:"Carica immagine"})]}),m.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:T})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Voci"}),m.jsx("button",{type:"button",className:"btn btn-sm",onClick:_,children:"+ Aggiungi voce"})]}),y.length===0?m.jsx("div",{className:"rounded border border-dashed p-4 text-sm text-gray-500",children:"Nessuna voce. Premi Aggiungi voce."}):m.jsx("div",{className:"space-y-2",children:y.map((N,O)=>m.jsxs("div",{className:"grid grid-cols-[1fr_1fr_40px] gap-2 items-center",children:[m.jsx("input",{className:"input",placeholder:"Nome (es. Colore)",value:typeof(N.label??N.name)=="string"?N.label??N.name:"",onChange:L=>w(O,{label:L.target.value})}),m.jsx("input",{className:"input",placeholder:"Valore (es. Oro)",value:typeof N.value=="string"?N.value:"",onChange:L=>w(O,{value:L.target.value})}),m.jsx("button",{type:"button",className:"h-9 w-9 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50",onClick:()=>S(O),"aria-label":"Rimuovi",children:""})]},N.key))})]})]})}function Ay(t){return new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(String(s.result||"")),s.onerror=()=>a(s.error||new Error("FileReader error")),s.readAsDataURL(t)})}function fO(t){return new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(String(s.result||"")),s.onerror=()=>a(s.error||new Error("FileReader error")),s.readAsDataURL(t)})}function hO({draft:t,onChange:r}){const a=Array.isArray(t?.custom_fields)?t.custom_fields:[],s=d=>{r({...t,custom_fields:d})},o=(d,p)=>{const h=a.slice();h[d]={...h[d],...p},s(h)},c=()=>{s([...a,{key:crypto.randomUUID?.()||String(Date.now()+Math.random()),name:"",value:""}])},u=d=>{const p=a.slice();p.splice(d,1),s(p)};return m.jsxs("section",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Dettagli aggiuntivi"}),m.jsx("button",{type:"button",className:"btn btn-sm",onClick:c,children:"+ Aggiungi campo"})]}),a.length===0?m.jsx("div",{className:"rounded border border-dashed p-4 text-sm text-gray-500",children:"Nessun campo. Premi + Aggiungi campo."}):m.jsx("div",{className:"space-y-2",children:a.map((d,p)=>m.jsxs("div",{className:"grid grid-cols-[1fr_1fr_40px] gap-2 items-center",children:[m.jsx("input",{className:"input",placeholder:"Titolo (es. Colore maniglia)",value:typeof d.name=="string"&&d.name?d.name:typeof d.label=="string"?d.label:"",onChange:h=>o(p,{name:h.target.value})}),m.jsx("input",{className:"input",placeholder:"Valore (es. Nero opaco)",value:typeof d.value=="string"?d.value:"",onChange:h=>o(p,{value:h.target.value})}),m.jsx("button",{type:"button",className:"h-9 w-9 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50",onClick:()=>u(p),"aria-label":"Rimuovi",children:""})]},d.key??p))})]})}function Kf(t){const r=t?.options?.cassonetto??{},a=typeof r.celino_mm=="number"?r.celino_mm:typeof t?.celino_mm=="number"?t.celino_mm:typeof t?.extension_mm=="number"?t.extension_mm:typeof t?.spalletta_mm=="number"?t.spalletta_mm:null;return{width_mm:Number(r.width_mm??t?.width_mm)||1e3,height_mm:Number(r.height_mm??t?.height_mm)||600,depth_mm:Number(r.depth_mm??t?.depth_mm)||200,celino_mm:a,color:r.color??t?.color??null,showDims:!0}}function mO({draft:t,editingId:r,onChange:a,onCancel:s,onSave:o}){const c=ms[t.kind];if(!c)return null;const u=E.useMemo(()=>t.kind==="finestra"&&!!t?.options?.gridWindow,[t.kind,t?.options?.gridWindow]),d=E.useMemo(()=>t.kind==="cassonetto",[t.kind]),p=t?.__previewUrl||t?.image_url||c?.icon||"",h=r?`Modifica ${c.label}`:`Nuova ${c.label}`,y=t.kind==="custom"?dO:c.Form;function g(S){const T=S.target.files?.[0];if(!T)return;const R=URL.createObjectURL(T),N=t?.__previewUrl;N&&N.startsWith("blob:")&&URL.revokeObjectURL(N),fO(T).then(O=>{a({...t,__previewUrl:R,__pickedFile:T,image_url:O})}).catch(()=>{a({...t,__previewUrl:R,__pickedFile:T})})}async function w(){let S={...t};try{let T=null;if(u){const R=S.options.gridWindow;T=await wh(R,900,900)}else if(d){const R=S?.options?.cassonetto??Kf(S),N=await _h(R,900,900),O=await Ay(N);S={...S,options:{...S.options,cassonetto:R},__previewUrl:O,image_url:O}}if(T){const R=await Ay(T);S={...S,__previewUrl:R,image_url:R},a(S)}}catch(T){console.warn("Generazione PNG al salvataggio fallita",T)}o()}const _=E.useMemo(()=>{if(u)return`${t.width_mm||1} / ${t.height_mm||1}`;if(d){const S=t?.options?.cassonetto??Kf(t);return`${S.width_mm||2} / ${S.height_mm||1}`}return"1 / 1"},[u,d,t]);return m.jsxs("div",{className:"fixed inset-0 z-50",children:[m.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),m.jsx("div",{className:"absolute inset-0 flex items-start md:items-center justify-center p-4",children:m.jsxs("div",{className:"w-full max-w-[640px] card p-4 overflow-auto max-h-[90vh]",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-medium",children:h}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(mn,{variant:"ghost",onClick:s,children:"Annulla"}),m.jsx(mn,{onClick:w,children:r?"Salva":"Aggiungi"})]})]}),m.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:m.jsxs("div",{className:"relative w-full rounded border bg-white flex items-center justify-center overflow-hidden",style:{aspectRatio:_},children:[u?m.jsx(im,{cfg:t.options.gridWindow}):d?typeof t?.image_url=="string"&&t.image_url.startsWith("data:")?m.jsx("img",{src:t.image_url,alt:c?.label||"Anteprima",className:"max-w-full max-h-full object-contain"}):m.jsx(sm,{cfg:t?.options?.cassonetto??Kf(t)}):p?m.jsx("img",{src:p,alt:c?.label||"Anteprima",className:"max-w-full max-h-full object-contain"},p):m.jsx("div",{className:"text-sm text-gray-400",children:"Nessuna immagine"}),!u&&!d&&m.jsx("div",{className:"absolute bottom-2 right-2",children:m.jsxs("label",{className:"inline-flex items-center justify-center h-8 px-2 rounded border bg-white text-xs cursor-pointer hover:bg-gray-50",children:["Carica",m.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/webp,image/svg+xml",className:"hidden",onChange:g})]})})]})}),m.jsxs("div",{className:"space-y-4",children:[y?m.jsx(y,{draft:t,onChange:a}):null,t.kind!=="custom"?m.jsx(hO,{draft:t,onChange:a}):null]})]})]})})]})}const pO="/preventivatore/assets/alumil-s77-CN26bkCK.png",gO="/preventivatore/assets/wds-76-md-DyI19aQb.jpg",vO="/preventivatore/assets/wds-76-ad-CK_BxW3b.jpg",yO="/preventivatore/assets/x-premium-76-porte-CAjDrTnu.jpg",bO="/preventivatore/assets/x-premium-76-scorrevole-D-CVdKa2.jpg",xO="/preventivatore/assets/x-ultra-70-BXe1-Exm.jpg",wO="/preventivatore/assets/x-ultra-60-BLW8bv_l.jpg",Lt=(t,r,a)=>({id:crypto.randomUUID(),eyebrow:t,title:r,description:a}),_O=[{key:"alumil-s77",label:"Alumil S77",imageUrl:pO,features:[Lt("Modello","Alumil S77","Sistema in alluminio per la massima performance."),Lt("Profondit telaio","77 mm","Garantisce alta stabilit e isolamento."),Lt("Guarnizioni","3","Tripla guarnizione per elevata tenuta allaria, acqua e rumore."),Lt("Taglio termico","Caldo","Riduce la dispersione termica e acustica.")]},{key:"wds-76-md",label:"WDS 76 MD",imageUrl:gO,features:[Lt("Modello","WDS 76 MD","Profilo in PVC Premium"),Lt("Larghezza profilo","76 mm","Struttura robusta per serramenti moderni."),Lt("Numero camere","6","Ottimo isolamento termico e acustico."),Lt("Numero guarnizioni","3","Tenuta efficace ad aria e acqua.")]},{key:"wds-76-ad",label:"WDS 76 AD",imageUrl:vO,features:[Lt("Modello","WDS 76 AD","Profilo in PVC Premium"),Lt("Larghezza profilo","76 mm","Soluzione versatile e conveniente."),Lt("Numero camere","5","Buon isolamento termico."),Lt("Numero guarnizioni","2","Protezione dagli agenti atmosferici.")]},{key:"x-premium-76-porte",label:"X Premium 76 Porte",imageUrl:yO,features:[Lt("Modello","X Premium 76 Porte","Profilo per porte in PVC."),Lt("Larghezza profilo","76 mm","Rigidit adeguata per portoncini."),Lt("Numero camere","4","Equilibrio tra peso e isolamento."),Lt("Numero guarnizioni","2","Chiusura affidabile.")]},{key:"x-premium-76-scorrevole",label:"X Premium 76 Scorrevole",imageUrl:bO,features:[Lt("Modello","X Premium 76 Scorrevole","Profilo per sistemi scorrevoli."),Lt("Larghezza profilo","146 mm","Struttura maggiorata per scorrevoli."),Lt("Larghezza anta","76 mm","Modulo anta standard."),Lt("Camere nellanta","5","Rigidezza e isolamento.")]},{key:"x-ultra-70",label:"X Ultra 70",imageUrl:xO,features:[Lt("Modello","X Ultra 70","Finestra in PVC ad alte prestazioni."),Lt("Larghezza profilo","70 mm","Compatta e isolante."),Lt("Numero camere","5","Buon isolamento termico."),Lt("Numero guarnizioni","2","Tenuta efficace.")]},{key:"x-ultra-60",label:"X Ultra 60",imageUrl:wO,features:[Lt("Modello","X Ultra 60","Soluzione entry con ottimo rapporto qualit/prezzo."),Lt("Larghezza profilo","60 mm","Profilo snello."),Lt("Numero camere","3","Isolamento essenziale."),Lt("Numero guarnizioni","2","Protezione dagli agenti atmosferici.")]}],Ry=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"id-"+Math.random().toString(36).slice(2)+Date.now().toString(36);function SO(...t){return t.filter(Boolean).join(" ")}function EO(){const[t,r]=E.useState(!1),a=jn(C=>C.profileOverview),s=jn(C=>C.setProfileOverview),o=jn(C=>C.addPOFeature),c=jn(C=>C.updatePOFeature),u=jn(C=>C.removePOFeature),d=jn(C=>C.movePOFeature),p=jn(C=>C?.quote?.id)||"profile-overview",h=a?.imageUrl??null,y=a?.features??[],g=E.useRef(null),w="input text-base sm:text-sm",_=()=>a??{imageUrl:null,features:[]};function S(C){const D={imageUrl:C.imageUrl??null,features:(C.features||[]).map(H=>({...H,id:Ry()}))};s?.(D)}const T=()=>{const C={id:Ry(),eyebrow:"",title:"",description:""};if(o)o(C);else{const D=_();s?.({...D,features:[...y,C]})}},R=(C,D,H)=>{if(c)c(C,{[D]:H});else{const ae=_();s?.({...ae,features:y.map(fe=>fe.id===C?{...fe,[D]:H}:fe)})}},N=C=>{if(u)u(C);else{const D=_();s?.({...D,features:y.filter(H=>H.id!==C)})}},O=(C,D)=>{if(d){d(C,D);return}const H=y.findIndex(pe=>pe.id===C);if(H===-1)return;const ae=H+D;if(ae<0||ae>=y.length)return;const fe=[...y],[Ne]=fe.splice(H,1);fe.splice(ae,0,Ne);const he=_();s?.({...he,features:fe})},L=C=>{const D=_();s?.({...D,imageUrl:C})},G=async C=>{try{const D=await Rc(C,String(p));if(D){L(D),g.current&&(g.current.value="");return}const H=new FileReader;H.onload=ae=>{L(String(ae.target?.result||"")),g.current&&(g.current.value="")},H.readAsDataURL(C)}catch{const D=new FileReader;D.onload=H=>{L(String(H.target?.result||"")),g.current&&(g.current.value="")},D.readAsDataURL(C)}};return m.jsxs(Zr,{className:"w-full md:col-span-2",children:[m.jsxs("button",{type:"button",onClick:()=>r(C=>!C),className:"w-full flex items-center justify-between gap-3 group","aria-expanded":t,children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Panoramica profilo"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Aggiungi unimmagine e le caratteristiche del sistema. Le voci saranno impaginate automaticamente a due colonne."})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-gray-500 hidden sm:inline",children:y.length>0?`${y.length} caratteristiche`:"Nessuna caratteristica"}),m.jsx("span",{className:`inline-block transition-transform duration-200 ${t?"rotate-180":""}`,"aria-hidden":!0,children:""})]})]}),t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"font-medium mb-2",children:"Modelli rapidi"}),m.jsx("div",{className:"relative",children:m.jsxs("div",{className:`
              flex gap-3 overflow-x-auto pb-2
              snap-x snap-mandatory
              -mx-1 px-1
            `,children:[m.jsxs("button",{type:"button",onClick:()=>{s?.(null),r(!1)},className:`
                snap-start shrink-0 w-40 rounded-lg border bg-white
                hover:shadow-sm transition text-left
                focus:outline-none focus:ring-2 focus:ring-emerald-500/40
              `,title:"Nessuna",children:[m.jsx("div",{className:"h-24 w-full bg-white flex items-center justify-center p-2 border-b",children:m.jsx("div",{className:"h-full w-full bg-[repeating-linear-gradient(45deg,#f3f4f6,#f3f4f6_6px,#ffffff_6px,#ffffff_12px)] rounded-md"})}),m.jsx("div",{className:"px-2 py-2",children:m.jsx("div",{className:"text-xs font-semibold truncate",children:"Nessuna"})})]}),_O.map(C=>{const D=C.imageUrl||"";return m.jsxs("button",{type:"button",onClick:()=>S(C),className:`
                    snap-start shrink-0 w-40 rounded-lg border bg-white
                    hover:shadow-sm transition text-left
                    focus:outline-none focus:ring-2 focus:ring-emerald-500/40
                  `,title:C.label,children:[m.jsx("div",{className:"h-24 w-full bg-white flex items-center justify-center p-2 border-b",children:D?m.jsx("img",{src:D,alt:C.label,className:"max-h-full max-w-full object-contain"}):m.jsx("div",{className:"h-full w-full bg-gradient-to-br from-gray-50 to-gray-100"})}),m.jsx("div",{className:"px-2 py-2",children:m.jsx("div",{className:"text-xs font-semibold truncate",children:C.label})})]},C.key)})]})})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Immagine superiore"}),h?m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:h,alt:"Anteprima",className:"rounded-lg border shadow-sm max-h-60 w-full object-contain bg-white"}),m.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[m.jsx(mn,{variant:"ghost",onClick:()=>g.current?.click(),children:"Sostituisci"}),m.jsx(mn,{variant:"ghost",onClick:()=>L(null),children:"Rimuovi"}),m.jsx("span",{className:"hidden sm:inline h-4 w-px bg-gray-300"}),m.jsx("span",{className:"text-xs text-gray-500",children:"PNG / JPG consigliati  max 46MB"}),m.jsx("input",{ref:g,className:"hidden",type:"file",accept:"image/*",onChange:C=>{const D=C.target.files?.[0];D&&G(D)}})]})]}):m.jsxs("div",{className:SO("border border-dashed rounded-lg p-6 text-center","text-gray-500 bg-gray-50 hover:bg-gray-100 transition cursor-pointer"),role:"button",tabIndex:0,onClick:()=>g.current?.click(),onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),g.current?.click())},onDragOver:C=>{C.preventDefault(),C.stopPropagation()},onDrop:C=>{C.preventDefault();const D=C.dataTransfer.files?.[0];D&&G(D)},children:[m.jsx("div",{className:"text-[15px] sm:text-sm",children:"Trascina unimmagine qui o clicca per caricarla"}),m.jsx("input",{ref:g,className:"hidden",type:"file",accept:"image/*",onChange:C=>{const D=C.target.files?.[0];D&&G(D)}})]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"font-medium",children:"Caratteristiche"}),m.jsx("div",{className:"sm:hidden",children:m.jsx(mn,{variant:"ghost",onClick:T,children:"+ Aggiungi"})})]}),y.length===0&&m.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Nessuna caratteristica aggiunta. Clicca Aggiungi per iniziare."}),m.jsx("div",{className:"mt-2 space-y-4",children:y.map((C,D)=>m.jsxs("div",{className:"rounded-lg border p-3 bg-gray-50/50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"text-xs text-gray-500",children:["Voce #",D+1]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-700",onClick:()=>O(C.id,-1),title:"Sposta su",children:""}),m.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-700",onClick:()=>O(C.id,1),title:"Sposta gi",children:""}),m.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>N(C.id),title:"Rimuovi voce",children:"Rimuovi"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Eyebrow"}),m.jsx("input",{className:w,placeholder:"Profondit telaio",value:C.eyebrow,onChange:H=>R(C.id,"eyebrow",H.target.value)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Titolo"}),m.jsx("input",{className:"input font-bold text-lg",placeholder:"77 mm",value:C.title,onChange:H=>R(C.id,"title",H.target.value)})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Descrizione"}),m.jsx("textarea",{className:w+" min-h-[84px] resize-y",placeholder:"Breve descrizione della caratteristica...",value:C.description,onChange:H=>R(C.id,"description",H.target.value)})]})]})]},C.id))})]}),y.length>0&&m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"font-medium mb-2",children:"Anteprima"}),h&&m.jsx("img",{src:h,alt:"Anteprima sezione",className:"rounded-md border bg-white w-full max-h-64 object-contain mb-4"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-8",children:y.map(C=>m.jsxs("div",{className:"pb-4",children:[C.eyebrow&&m.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:C.eyebrow}),C.title&&m.jsx("div",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight mb-2",children:C.title}),C.description&&m.jsx("div",{className:"text-gray-600 leading-snug text-[14px]",children:C.description}),m.jsx("div",{className:"h-[2px] bg-emerald-500 mt-4"})]},`preview-${C.id}`))})]})]})]})}const Wf="4-6 settimane",jO=()=>({id:crypto.randomUUID(),label:"",amount:0,pieces:null}),NO=t=>{const r=typeof t?.id=="string"?t.id:crypto.randomUUID(),a=typeof t?.label=="string"?t.label:"",s=Number(t?.amount),o=Number.isFinite(s)?s:0,c=typeof t?.pieces=="number"&&Number.isFinite(t.pieces)?t.pieces:null,u=ps(t?.surfaces),d={id:r,label:a,amount:o,pieces:c};return u.length>0&&(d.surfaces=u),d},TO=t=>Array.isArray(t)?t.map(NO):[];function wo(t){return new Promise((r,a)=>{const s=new FileReader;s.onload=()=>r(String(s.result)),s.onerror=o=>a(o),s.readAsDataURL(t)})}function Cy(t,r){const[a,s]=t.split(",");if(!a||!s)throw new Error("URL dati dell'immagine non valido");const c=a.match(/data:(.*?)(;base64)?$/i)?.[1]??"application/octet-stream",u=atob(s),d=new Uint8Array(u.length);for(let h=0;h<u.length;h+=1)d[h]=u.charCodeAt(h);if(typeof File=="function")return new File([d],r,{type:c});const p=new Blob([d],{type:c});return p.name=r,p}const My=t=>t.split(/[\s_\-]+/).filter(Boolean).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),AO=t=>{if(!t)return"Voce";const r=typeof t?.title=="string"?t.title.trim():"";if(r)return r;const a=String(t?.kind??"").toLowerCase();return a&&a in ms?ms[a]?.label??My(a):a?My(a):"Voce"};function RO(){const{id:t}=tE(),r=Oh(),[a,s]=E.useState(null),[o,c]=E.useState(null),[u,d]=E.useState(null),[p,h]=E.useState(!1),[y,g]=E.useState([]),[w,_]=E.useState(null),S=w?y.find(B=>B.id===w)??null:null,T=()=>g(B=>[...B,jO()]),R=(B,de)=>g(ve=>ve.map(Re=>{if(Re.id!==B)return Re;const U={...Re,...de};if(Object.prototype.hasOwnProperty.call(de,"surfaces")){const $=ps(de?.surfaces);$.length>0?U.surfaces=$:delete U.surfaces}return U})),N=B=>g(de=>de.filter(ve=>ve.id!==B)),[O,L]=E.useState({}),[G,C]=E.useState({});E.useEffect(()=>{const B={},de={};y.forEach(ve=>{B[ve.id]=typeof ve.pieces=="number"&&isFinite(ve.pieces)?String(ve.pieces):"",de[ve.id]=typeof ve.amount=="number"&&isFinite(ve.amount)&&ve.amount!==0?String(ve.amount):""}),L(B),C(de)},[y]);const D=(B,de)=>{(de===""||/^\d+$/.test(de))&&L(ve=>({...ve,[B]:de}))},H=B=>{const de=O[B]??"",ve=de===""?null:Math.max(0,parseInt(de||"0",10));R(B,{pieces:ve}),L(Re=>({...Re,[B]:de===""?"":String(ve)}))},ae=B=>B.replace(",","."),fe=(B,de)=>{if(de===""){C(ve=>({...ve,[B]:""}));return}/^\d+([.,]\d{0,2})?$/.test(de)&&C(ve=>({...ve,[B]:de}))},Ne=B=>{const de=G[B]??"";if(de===""){R(B,{amount:0}),C($=>({...$,[B]:""}));return}const ve=Number(ae(de)),Re=Number.isFinite(ve)?Math.max(0,ve):0;R(B,{amount:Re});const U=/[.,]/.test(de);C($=>({...$,[B]:U?Re.toFixed(2).replace(".",","):String(Re)}))},[he,pe]=E.useState("");E.useEffect(()=>{if(!a)return;const de=(a.notes||"").match(/P\.IVA:\s*([^;]+)(;|$)/i);if(de){const ve=de[1].trim();ve!==he&&pe(ve)}},[a?.id]);function ce(B){const de=B?`P.IVA: ${B}`:"";$e("notes",de||null)}const[Se,Ce]=E.useState(!1),[P,ne]=E.useState(null),[se,ge]=E.useState(null),[z,X]=E.useState(null),[ye,oe]=E.useState(!1),Y=E.useRef(new Set);E.useEffect(()=>{if(!a)return;const B=P==="pct"&&typeof se=="number"&&se>0?{mode:"pct",pct:se,final:null}:P==="final"&&typeof z=="number"&&z>=0?{mode:"final",pct:null,final:z}:null,de=a.discount_json??null;JSON.stringify(de)!==JSON.stringify(B)&&(s({...a,discount_json:B}),ht({discount_json:B}))},[P,se,z]);function Q(B,de,ve){const Re=B.slice();if(de<0||de>=Re.length||ve<0||ve>=Re.length)return Re;const[U]=Re.splice(de,1);return Re.splice(ve,0,U),Re}const[Z,be]=E.useState(null),[le,Ae]=E.useState(null);function qe(B,de){g(ve=>{const Re=ve.findIndex($=>$.id===B);if(Re===-1)return ve;const U=Re+de;return Q(ve,Re,U)})}function Ie(B,de){be(de),B.dataTransfer.effectAllowed="move",B.dataTransfer.setData("text/plain",de)}function Xe(B){B.preventDefault(),B.dataTransfer.dropEffect="move"}function Qe(B,de){B.preventDefault();const ve=Z||B.dataTransfer.getData("text/plain");!ve||ve===de||(g(Re=>{const U=Re.findIndex(V=>V.id===ve),$=Re.findIndex(V=>V.id===de);return U===-1||$===-1?Re:Q(Re,U,$)}),be(null))}function Ke(B,de){const ve=Array.isArray(ot)?ot.slice():ot&&typeof ot=="object"?Object.values(ot):[],Re=ve.findIndex(V=>V?.id===B);if(Re===-1)return;const U=Math.max(0,Math.min(ve.length-1,Re+de));if(U===Re)return;const $=Q(ve,Re,U);Te($)}function St(B,de){Ae(de),B.dataTransfer.effectAllowed="move",B.dataTransfer.setData("text/plain",de)}function $t(B){B.preventDefault(),B.dataTransfer.dropEffect="move"}function dt(B,de){B.preventDefault();const ve=le||B.dataTransfer.getData("text/plain");if(!ve||ve===de)return;const Re=Array.isArray(ot)?ot.slice():ot&&typeof ot=="object"?Object.values(ot):[],U=Re.findIndex(re=>re?.id===ve),$=Re.findIndex(re=>re?.id===de);if(U===-1||$===-1){Ae(null);return}const V=Q(Re,U,$);Te(V),Ae(null)}const ot=jn(B=>B.items),Nt=Array.isArray(ot)?ot:ot&&typeof ot=="object"?Object.values(ot):[],Te=jn(B=>B.setItems),Fe=jn(B=>B.addItem),Oe=jn(B=>B.replaceItem),He=jn(B=>B.duplicateItem),gt=jn(B=>B.removeItem),xt=jn(B=>B.profileOverview),lt=jn(B=>B.setProfileOverview),[A,b]=E.useState(!1),[x,k]=E.useState(null),[q,W]=E.useState(null),ue=!!x;function Ve(B){const de=ms[B].makeDefaults();W(null),k(de)}function nt(B){W(B.id),k(JSON.parse(JSON.stringify(B)))}async function ct(){if(!x)return;let B={...x};const de=a?.id?String(a.id):null,ve=B.__pickedFile;if(ve){let $=null;if(de)try{$=await Rc(ve,de)}catch(V){console.warn("Upload file personalizzato fallito",V)}try{if($)B.image_url=$,B.__previewUrl=$,delete B.__needsUpload;else{const V=await wo(ve);B.image_url=V,B.__previewUrl=V,B.__needsUpload="user-file"}}catch(V){console.warn("Conversione file  data URL fallita",V)}finally{delete B.__pickedFile}}else delete B.__pickedFile;const Re=String(B.kind).toLowerCase()==="cassonetto";if(!ve&&Re)try{const $={width_mm:Number(B.width_mm)||0,height_mm:Number(B.height_mm)||0,depth_mm:B.depth_mm??null,celino_mm:B.celino_mm??B.extension_mm??null};if($.width_mm>0&&$.height_mm>0){const V=await _h($,640,640),re=await wo(V);B.image_url=re,B.__previewUrl=re,delete B.__needsUpload}}catch($){console.warn("Rasterizzazione cassonetto  PNG fallita",$)}const U=!!B?.options?.gridWindow;if(!ve&&U)try{const $=await wh(B.options.gridWindow,640,640),V=await wo($);B.image_url=V,B.__previewUrl=V,delete B.__needsUpload}catch($){console.warn("Rasterizzazione finestra  PNG fallita",$)}if(typeof B.image_url=="string"&&B.image_url.startsWith("data:")&&(B.__needsUpload==="user-file"||B.__needsUpload===!0)&&de)try{const $=`item-${B.id||Date.now()}.png`,V=Cy(String(B.image_url),$),re=await Rc(V,de);re&&(B.image_url=re,B.__previewUrl=re,delete B.__needsUpload)}catch($){console.warn("Upload immagine da data URL fallito",$)}q?(Oe(q,{...B,id:q}),En.success("Voce aggiornata")):(Fe(B),En.success("Voce aggiunta")),k(null),W(null)}async function ft(){if(!a){En.error("Preventivo non caricato");return}try{const B=await Promise.all(ot.map(async Me=>{const{__previewUrl:ze,__pickedFile:ke,...Ee}=Me??{};if(Ee?.options?.gridWindow)try{const Be=await wh(Ee.options.gridWindow,640,640),Ye=await wo(Be);Ee.image_url=Ye}catch(Be){console.warn("Rasterizzazione finestra  PNG fallita",Be);const Ye=typeof Ee.image_url=="string"?Ee.image_url.trim():"",it=/^https?:\/\//i.test(Ye),et=/^data:image\//i.test(Ye);Ee.image_url=it||et?Ye:void 0}else if(String(Ee?.kind||"").toLowerCase()==="cassonetto")try{const Be={width_mm:Number(Ee.width_mm)||0,height_mm:Number(Ee.height_mm)||0,depth_mm:Ee.depth_mm??null,celino_mm:Ee.celino_mm??Ee.extension_mm??null};if(Be.width_mm>0&&Be.height_mm>0){const Ye=await _h(Be,640,640),it=await wo(Ye);Ee.image_url=it}else{const Ye=typeof Ee.image_url=="string"?Ee.image_url.trim():"",it=/^https?:\/\//i.test(Ye),et=/^data:image\//i.test(Ye);Ee.image_url=it||et?Ye:void 0}}catch(Be){console.warn("Rasterizzazione cassonetto  PNG fallita",Be);const Ye=typeof Ee.image_url=="string"?Ee.image_url.trim():"",it=/^https?:\/\//i.test(Ye),et=/^data:image\//i.test(Ye);Ee.image_url=it||et?Ye:void 0}else{const Be=typeof Ee.image_url=="string"?Ee.image_url.trim():"",Ye=/^https?:\/\//i.test(Be),it=/^data:image\//i.test(Be);Ee.image_url=Ye||it?Be:void 0}return Ee})),[{pdf:de},ve]=await Promise.all([ii(()=>import("./react-pdf.browser-Bo7Ax_va.js"),[]),ii(()=>import("./QuotePDF-Ci_PQD6_.js"),__vite__mapDeps([0,1]))]);if(!ve?.default){En.error("Componente PDF mancante");return}const Re=y.map(Me=>({label:Me.label||"-",amount:Number.isFinite(Number(Me.amount))?Number(Me.amount):0,pieces:typeof Me.pieces=="number"&&isFinite(Me.pieces)&&Me.pieces>0?Me.pieces:null,surfaces:Me.surfaces?ps(Me.surfaces):void 0})),U=Re.reduce((Me,ze)=>Me+(ze.amount||0),0),$=P==="pct"&&typeof se=="number"&&se>0||P==="final"&&typeof z=="number"&&z>=0,V=P==="pct"?Math.max(0,U*(1-(se??0)/100)):P==="final"&&z!=null?Math.max(0,z):U,re=a.customer_type==="azienda"?he&&he.trim()||(a.notes?.match(/P\.IVA:\s*([^;]+)(;|$)/i)?.[1]?.trim()??null):null,_e={companyLogoUrl:o?.logo_url??null,quoteNumber:a.number??null,issueDate:a.issue_date||new Date().toISOString().slice(0,10),installTime:a.install_time||null,totalMq:typeof a.total_mq=="number"?a.total_mq:null,profileSystem:a.profile_system||null,vatRateLabel:`IVA ${a.vat??"22"}%`,customer:{name:a.customer_name||null,address:a.job_address||null,email:a.customer_email||null,phone:a.customer_phone||null,vat:re},showShippingIncluded:a.shipping_included!==!1,catTotals:Re,totalExcluded:U,validityDays:a.validity_days??15,validityLabel:u?.validity_label&&u.validity_label.trim()?u.validity_label:`VALIDIT OFFERTA: ${a.validity_days??15} giorni`,terms:u?.conditions||null,items:B,profileOverview:xt?{imageUrl:xt.imageUrl??null,features:(xt.features||[]).map(Me=>({eyebrow:Me.eyebrow,title:Me.title,description:Me.description}))}:null,discount:$?{mode:P,pct:P==="pct"?se??null:null,final:P==="final"?z??null:null,originalTotal:U,discountedTotal:V}:null},Ue=m.jsx(ve.default,{..._e}),De=await de(Ue).toBlob(),Le=URL.createObjectURL(De);window.open(Le,"_blank")}catch(B){En.error(B?.message||"Errore apertura PDF")}}E.useEffect(()=>{(async()=>{const{data:B,error:de}=await rn.from("quotes").select("*").eq("id",t).maybeSingle();if(de){En.error(de.message);return}s(B),g(TO(B?.manual_totals));const ve=Array.isArray(B?.items_json)?B.items_json:[];Te(ve),lt(B?.profile_overview??null);const Re=B?.discount_json;if(Re&&typeof Re=="object"){const U=Re.mode==="pct"||Re.mode==="final"?Re.mode:null;ne(U),ge(U==="pct"&&typeof Re.pct=="number"?Re.pct:null),X(U==="final"&&typeof Re.final=="number"?Re.final:null)}else ne(null),ge(null),X(null)})()},[t,Te]),E.useEffect(()=>{(async()=>{const{data:B}=await rn.from("app_settings").select("value").eq("key","branding").maybeSingle();B?.value&&c(B.value);const{data:de}=await rn.from("app_settings").select("value").eq("key","terms").maybeSingle();de?.value&&d(de.value)})()},[]),E.useEffect(()=>{a&&ht({manual_totals:y})},[y]),E.useEffect(()=>{a&&((!a.install_time||!a.install_time.trim())&&$e("install_time",Wf),a.shipping_included==null&&$e("shipping_included",!0))},[a]),E.useEffect(()=>{if(!a?.id||ye)return;const B=Array.isArray(ot)?ot:[],de=B.map((Re,U)=>({item:Re,idx:U})).filter(({item:Re,idx:U})=>{const $=Re?.__needsUpload;if(!($==="user-file"||$===!0))return!1;const re=typeof Re?.image_url=="string"?Re.image_url:null;if(!re||!re.startsWith("data:"))return!1;const _e=String(Re?.id??`idx-${U}`);return!Y.current.has(_e)});if(de.length===0)return;let ve=!1;return oe(!0),(async()=>{const Re=B.slice();let U=!1;for(const{item:$,idx:V}of de){const re=String($?.id??`idx-${V}`);try{const _e=`item-${re}-${Date.now()}.png`,Ue=Cy(String($.image_url),_e),De=await Rc(Ue,String(a.id));if(ve)return;if(De){const Le={...$,image_url:De,__previewUrl:$.__previewUrl??De};delete Le.__needsUpload,Re[V]=Le,U=!0}else Y.current.add(re)}catch(_e){Y.current.add(re),console.warn("Migrazione immagine base64 fallita",_e)}}!ve&&U&&Te(Re),ve||oe(!1)})(),()=>{ve=!0,oe(!1)}},[a?.id,ot,ye,Te]),E.useEffect(()=>{if(!a||ye)return;const B=Array.isArray(ot)?ot.map((Re,U)=>({item:Re,key:String(Re?.id??`idx-${U}`),image:typeof Re?.image_url=="string"?Re.image_url:null,needsUpload:Re?.__needsUpload==="user-file"||Re?.__needsUpload===!0})):[];if(B.some(({image:Re,key:U,needsUpload:$})=>$&&!!Re&&Re.startsWith("data:")&&!Y.current.has(U)))return;const ve=B.map(({item:Re})=>{if(!Re||typeof Re!="object")return Re;const{__pickedFile:U,__previewUrl:$,__needsUpload:V,...re}=Re;return typeof re.image_url=="string"&&(re.image_url.startsWith("blob:")||re.image_url.startsWith("data:"))&&delete re.image_url,re});ht({items_json:ve})},[ot,ye]),E.useEffect(()=>{if(!a)return;const B=xt,de=!!B?.imageUrl||Array.isArray(B?.features)&&B.features.length>0;ht({profile_overview:de?B:null})},[xt]);function $e(B,de){a&&a[B]!==de&&(s({...a,[B]:de}),ht({[B]:de}))}const ht=CO(async B=>{if(a)try{h(!0);const{error:de}=await rn.from("quotes").update(B).eq("id",a.id);if(de)throw de}catch(de){En.error(de.message||"Errore salvataggio")}finally{h(!1)}},500);function zt(){En.info("Duplica preventivo in arrivo")}const Bt=y.reduce((B,de)=>B+(Number(de.amount)||0),0),Gt=P==="pct"&&typeof se=="number"&&se>0||P==="final"&&typeof z=="number"&&z>=0,Nn=P==="pct"?Math.max(0,Bt*(1-(se??0)/100)):P==="final"&&z!=null?Math.max(0,z):Bt,We=B=>{B.preventDefault();const de=typeof window<"u"?window.history.state:null,ve=typeof de?.idx=="number"?de.idx:null;ve!==null&&ve>0?r(-1):r("/",{replace:!0})};return a?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs(Kc,{to:"/",onClick:We,className:"inline-flex items-center gap-1 text-sm text-gray-600 hover:text-gray-900",children:[m.jsx(FC,{size:16})," Indietro"]}),m.jsxs("h1",{children:[a.number," ",m.jsxs("span",{className:"text-gray-500 font-normal",children:[" ",a.customer_name??""]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"input !py-1 !h-7 w-25 text-sm",value:a.status,onChange:B=>$e("status",B.target.value),children:[m.jsx("option",{value:"bozza",children:"Bozza"}),m.jsx("option",{value:"inviato",children:"Inviato"}),m.jsx("option",{value:"accettato",children:"Accettato"}),m.jsx("option",{value:"rifiutato",children:"Rifiutato"}),m.jsx("option",{value:"scaduto",children:"Scaduto"})]}),a.created_at&&m.jsxs("span",{className:"text-sm text-gray-500",children:["Creato ",new Date(a.created_at).toLocaleString()]}),p&&m.jsx("span",{className:"text-xs text-gray-500",children:"Salvataggio"})]})]}),m.jsxs("div",{className:"text-right space-y-2",children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Totale documento (IVA esclusa)"}),Gt?m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-sm text-gray-500 line-through",children:ei(Bt)}),m.jsx("div",{className:"text-2xl font-bold tracking-tight",children:ei(Nn)}),P==="pct"&&m.jsxs("div",{className:"text-xs text-gray-600",children:["Sconto ",se,"%"]})]}):m.jsx("div",{className:"text-2xl font-bold tracking-tight",children:ei(Bt)}),m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsxs(mn,{className:"bg-gray-800 text-white hover:bg-gray-900",onClick:ft,children:[m.jsx(eM,{size:16})," PDF"]}),m.jsxs(mn,{variant:"outline",onClick:zt,children:[m.jsx(Gx,{size:16})," Duplica"]})]})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs(Zr,{children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Cliente"}),m.jsxs("div",{className:"inline-flex rounded-md border bg-white overflow-hidden",children:[m.jsxs("button",{type:"button",className:`px-3 py-1.5 text-sm ${(a.customer_type??"privato")==="privato"?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$e("customer_type","privato"),children:[m.jsx(oM,{size:14})," Privato"]}),m.jsxs("button",{type:"button",className:`px-3 py-1.5 text-sm border-l ${(a.customer_type??"privato")==="azienda"?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>$e("customer_type","azienda"),children:[m.jsx(WC,{size:14})," Azienda"]})]})]}),(a.customer_type??"privato")==="privato"?m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Nome e cognome"}),m.jsx("input",{className:"input",placeholder:"Nome cliente",value:a.customer_name??"",onChange:B=>$e("customer_name",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),m.jsx("input",{className:"input",placeholder:"email@esempio.it",value:a.customer_email??"",onChange:B=>$e("customer_email",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Telefono"}),m.jsx("input",{className:"input",placeholder:"es. 333 1234567",value:a.customer_phone??"",onChange:B=>$e("customer_phone",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Indirizzo lavori"}),m.jsx("input",{className:"input",placeholder:"Via, n, citt",value:a.job_address??"",onChange:B=>$e("job_address",B.target.value||null)})]})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Ragione sociale"}),m.jsx("input",{className:"input",placeholder:"Nome azienda",value:a.customer_name??"",onChange:B=>$e("customer_name",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"P.IVA"}),m.jsx("input",{className:"input",placeholder:"es. IT01234567890",value:he,onChange:B=>{const de=B.target.value;pe(de),ce(de)}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Email"}),m.jsx("input",{className:"input",placeholder:"email@azienda.it",value:a.customer_email??"",onChange:B=>$e("customer_email",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Telefono"}),m.jsx("input",{className:"input",placeholder:"es. 02 1234567",value:a.customer_phone??"",onChange:B=>$e("customer_phone",B.target.value||null)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Indirizzo lavori"}),m.jsx("input",{className:"input",placeholder:"Via, n, citt",value:a.job_address??"",onChange:B=>$e("job_address",B.target.value||null)})]})]})]}),m.jsxs(Zr,{children:[m.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Dati documento"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Data emissione"}),m.jsx("input",{type:"date",className:"input",value:a.issue_date??"",onChange:B=>$e("issue_date",B.target.value)})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Termine di completamento"}),m.jsx("input",{className:"input",placeholder:"es. 4-6 settimane",value:a.install_time??Wf,onChange:B=>$e("install_time",B.target.value||Wf)})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"Validit offerta (giorni)"}),m.jsx("input",{className:"input",type:"number",min:1,value:a.validity_days??15,onChange:B=>{const de=B.target.value===""?15:Math.max(1,parseInt(B.target.value||"15",10));$e("validity_days",de)}})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500",children:"IVA"}),m.jsxs("select",{className:"input",value:a.vat??"22",onChange:B=>$e("vat",B.target.value),children:[m.jsx("option",{value:"22",children:"22%"}),m.jsx("option",{value:"10",children:"10%"}),m.jsx("option",{value:"4",children:"4%"})]})]})]}),m.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2 pt-1",children:[m.jsx("input",{id:"shipping_included",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:a.shipping_included!==!1,onChange:B=>$e("shipping_included",B.target.checked)}),m.jsx("label",{htmlFor:"shipping_included",className:"text-sm text-gray-600",children:"Mostra Trasporto incluso nel PDF"})]})]})]}),m.jsx(EO,{})]}),m.jsxs(Zr,{children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("h2",{children:"Riepilogo costi"}),m.jsxs(mn,{variant:"ghost",onClick:T,children:[m.jsx(xy,{size:16})," Aggiungi costo"]})]}),y.length===0?m.jsx("div",{className:"mt-4 rounded border border-dashed p-6 text-center text-sm text-gray-600",children:"Aggiungi le voci di costo per categoria (es. Finestre, Zanzariere, Montaggio)."}):m.jsx("div",{className:"mt-4 space-y-3",children:y.map(B=>{const de=ew(B.surfaces,Nt);return m.jsx("div",{className:`rounded-lg border p-3 bg-white/60 ${Z===B.id?"ring-2 ring-gray-300":""}`,draggable:!0,onDragStart:ve=>Ie(ve,B.id),onDragOver:Xe,onDrop:ve=>Qe(ve,B.id),children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"cursor-grab text-gray-400 hover:text-gray-700",title:"Trascina per riordinare",children:m.jsx(by,{size:16})}),m.jsx("input",{className:"input flex-1 min-w-0",placeholder:"Es. Finestre / Portoncino cantina / Montaggio",value:B.label,onChange:ve=>R(B.id,{label:ve.target.value})}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{type:"button",className:"h-9 w-9 shrink-0 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50","aria-label":"Sposta su",title:"Sposta su",onClick:()=>qe(B.id,-1),children:m.jsx(yy,{size:16})}),m.jsx("button",{type:"button",className:"h-9 w-9 shrink-0 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50","aria-label":"Sposta gi",title:"Sposta gi",onClick:()=>qe(B.id,1),children:m.jsx(vy,{size:16})}),m.jsx("button",{type:"button",className:"h-9 w-9 shrink-0 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50","aria-label":"Rimuovi riga",onClick:()=>N(B.id),title:"Rimuovi",children:m.jsx(nm,{size:16})})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-20",children:m.jsx("input",{className:"input w-full text-right",type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"pz.",value:O[B.id]??(typeof B.pieces=="number"?String(B.pieces):""),onChange:ve=>D(B.id,ve.target.value),onBlur:()=>H(B.id),onWheel:ve=>ve.currentTarget.blur(),onKeyDown:ve=>{(ve.key==="ArrowUp"||ve.key==="ArrowDown")&&ve.preventDefault()}})}),m.jsx("div",{className:"flex-1 sm:flex-none sm:w-40",children:m.jsx("input",{className:"input w-full text-right",type:"text",inputMode:"decimal",value:G[B.id]??(B.amount===0?"":String(B.amount)),onChange:ve=>fe(B.id,ve.target.value),onBlur:()=>Ne(B.id),onWheel:ve=>ve.currentTarget.blur(),onKeyDown:ve=>{(ve.key==="ArrowUp"||ve.key==="ArrowDown")&&ve.preventDefault()},placeholder:"0,00"})}),m.jsx("span",{className:"hidden sm:inline text-sm text-gray-500",children:""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-md border border-dashed border-gray-200 bg-white/70 px-3 py-2 text-xs",children:[m.jsx("div",{className:"flex flex-1 flex-wrap items-center gap-1.5",children:de.length===0?m.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-0.5 text-[11px] text-gray-500",children:"Nessuna metratura collegata"}):de.map(ve=>m.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-2 py-0.5 font-medium text-gray-700",children:[m.jsx("span",{className:"text-gray-900",children:Cc(ve.mq)}),ve.missingDimensions>0&&m.jsxs("span",{className:"text-[10px] text-amber-700",children:[" ",ve.missingDimensions," senza dimensioni"]})]},`${B.id}-${ve.id}`))}),m.jsx("button",{type:"button",className:"text-xs font-medium text-emerald-700 hover:text-emerald-900",onClick:()=>_(B.id),children:"Configura metratura"})]})]})},B.id)})}),m.jsxs("div",{className:"mt-4 border-t pt-3 space-y-2 relative",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm text-gray-600",children:"Totale (IVA esclusa)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[Gt?m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-sm text-gray-500 line-through",children:ei(Bt)}),m.jsx("div",{className:"text-[11px] text-gray-500",children:P==="pct"?`Sconto ${se}%`:"Totale impostato manualmente"})]}):m.jsx("div",{className:"text-xl font-semibold",children:ei(Bt)}),m.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 rounded-md border px-2.5 py-1.5 text-sm hover:bg-gray-50",onClick:()=>{Ce(B=>!B),P||ne("pct")},title:"Applica sconto",children:[m.jsx(YC,{size:14})," Sconto"]})]})]}),Se&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 rounded-lg border bg-white p-3 shadow-lg z-10",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-medium",children:"Imposta sconto"}),m.jsx("button",{className:"text-gray-500 hover:text-gray-800",onClick:()=>Ce(!1),children:m.jsx(cM,{size:16})})]}),m.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[m.jsx("button",{className:`rounded-md border px-2 py-1.5 ${P==="pct"?"bg-gray-900 text-white":"hover:bg-gray-50"}`,onClick:()=>ne("pct"),children:"In percentuale"}),m.jsx("button",{className:`rounded-md border px-2 py-1.5 ${P==="final"?"bg-gray-900 text-white":"hover:bg-gray-50"}`,onClick:()=>ne("final"),children:"Sul totale"})]}),P==="pct"?m.jsxs("div",{className:"mt-3",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Sconto (%)"}),m.jsx("input",{className:"input w-full",type:"number",min:0,max:100,step:"0.5",value:se??"",onChange:B=>ge(B.target.value===""?null:Number(B.target.value))}),m.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:["Nuovo totale: ",m.jsx("b",{children:ei(Math.max(0,Bt*(1-(se??0)/100)))})]})]}):m.jsxs("div",{className:"mt-3",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Nuovo totale (IVA esclusa)"}),m.jsx("input",{className:"input w-full",type:"number",min:0,step:"0.01",value:z??"",onChange:B=>X(B.target.value===""?null:Number(B.target.value))})]}),m.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[m.jsx("button",{className:"text-sm text-red-600 hover:underline",onClick:()=>{ne(null),ge(null),X(null)},children:"Rimuovi sconto"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(mn,{variant:"outline",onClick:()=>Ce(!1),children:"Annulla"}),m.jsx(mn,{onClick:()=>Ce(!1),children:"Applica"})]})]})]}),Gt&&m.jsxs("div",{className:"flex items-center justify-between rounded-md px-3 py-2",style:{background:"#e8f7ec"},children:[m.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Totale scontato (IVA esclusa)"}),m.jsx("div",{className:"text-xl font-bold",children:ei(Nn)})]})]})]}),m.jsxs(Zr,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{children:"Voci del preventivo"}),m.jsx("div",{className:"flex gap-2",children:m.jsxs(mn,{variant:"ghost",onClick:()=>b(!0),children:[m.jsx(xy,{size:16}),"  Aggiungi voce"]})})]}),Nt.length===0?m.jsxs("div",{className:"mt-4 rounded border border-dashed p-6 text-center text-sm text-gray-600",children:["Nessuna voce. Premi ",m.jsx("span",{className:"font-medium",children:"Aggiungi"})," e scegli la categoria."]}):m.jsx("div",{className:"mt-4 space-y-3",children:Nt.map(B=>m.jsxs("div",{className:"relative group rounded-lg",draggable:!0,onDragStart:de=>St(de,B.id),onDragOver:$t,onDrop:de=>dt(de,B.id),children:[m.jsx("div",{className:"absolute -left-6 top-3 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab text-gray-400 hover:text-gray-700",title:"Trascina per riordinare",children:m.jsx(by,{size:16})}),m.jsxs("div",{className:"absolute -right-6 top-3 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{type:"button",className:"h-8 w-8 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50",title:"Sposta su",onClick:()=>Ke(B.id,-1),children:m.jsx(yy,{size:16})}),m.jsx("button",{type:"button",className:"h-8 w-8 inline-flex items-center justify-center rounded-md border bg-white hover:bg-gray-50",title:"Sposta gi",onClick:()=>Ke(B.id,1),children:m.jsx(vy,{size:16})})]}),m.jsx(uO,{item:B,onEdit:nt,onDuplicate:He,onRemove:gt})]},B.id))})]}),m.jsxs(Zr,{children:[m.jsx("h2",{children:"Termini & Condizioni"}),m.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Il contenuto viene inserito nella seconda pagina del PDF. Modulo di editing avanzato in arrivo."})]}),m.jsx(JM,{open:A,onClose:()=>b(!1),onPick:B=>{b(!1),Ve(B)}}),ue&&x&&m.jsx(mO,{draft:x,editingId:q,onChange:B=>k(B),onCancel:()=>{k(null),W(null)},onSave:ct}),m.jsx(MO,{open:!!S,row:S,items:Nt,onClose:()=>_(null),onSave:B=>{S&&R(S.id,{surfaces:B}),_(null)}})]}):m.jsx("div",{className:"animate-pulse h-8 w-40 rounded bg-gray-200"})}function CO(t,r=400){const a=E.useRef(null);return(...s)=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>t(...s),r)}}function MO({open:t,row:r,items:a,onClose:s,onSave:o}){const[c,u]=E.useState({}),d=E.useMemo(()=>{const C={windows:[],persiane:[],tapparelle:[],zanzariere:[],cassonetti:[],custom:[]};return a.forEach(D=>{const H=Jx(D);H&&(C[H]=[...C[H],D])}),C},[a]);E.useEffect(()=>{if(!t||!r)return;const C=ps(r?.surfaces),D={};C.forEach(H=>{const ae=new Set((d[H.group]??[]).map(Ne=>String(Ne.id))),fe=H.itemIds?.filter(Ne=>ae.has(String(Ne)))??[];D[H.group]={mode:H.mode,itemIds:H.mode==="subset"?fe:[]}}),u(D)},[t,r,d]),E.useEffect(()=>{u(C=>{const D={};return Object.entries(C).forEach(([H,ae])=>{const fe=H,Ne=d[fe]??[];if(Ne.length!==0)if(ae.mode==="subset"){const he=new Set(Ne.map(ce=>String(ce.id))),pe=ae.itemIds.filter(ce=>he.has(ce));D[fe]={mode:"subset",itemIds:pe}}else D[fe]=ae}),D})},[d]);const p=E.useMemo(()=>su.filter(C=>(d[C.id]?.length??0)>0),[d]),h=E.useMemo(()=>Object.entries(c).map(([C,D])=>({group:C,mode:D.mode,itemIds:D.itemIds})),[c]),y=E.useMemo(()=>ps(h),[h]),g=E.useMemo(()=>ew(y,a),[y,a]),w=E.useMemo(()=>{const C=new Map;return g.forEach(D=>C.set(D.id,D)),C},[g]),S=h.filter(C=>C.mode==="subset"&&(!C.itemIds||C.itemIds.length===0)).map(C=>C.group).length>0,T=C=>{const D=c[C];return D?D.mode:"none"},R=C=>c[C]?.itemIds??[],N=(C,D)=>{u(H=>{const ae={...H};if(D==="none")return delete ae[C],ae;const fe=ae[C];return ae[C]={mode:D==="all"?"all":"subset",itemIds:D==="subset"?fe?.itemIds??[]:[]},ae})},O=(C,D)=>{u(H=>{const ae=H[C]??{mode:"subset",itemIds:[]};if(ae.mode!=="subset")return H;const Ne=ae.itemIds.includes(D)?ae.itemIds.filter(he=>he!==D):[...ae.itemIds,D];return{...H,[C]:{mode:"subset",itemIds:Ne}}})},L=()=>{o(y),s()};if(!t||!r)return null;const G=r.label?.trim()?r.label:"Voce senza titolo";return m.jsxs("div",{className:"fixed inset-0 z-50",children:[m.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:s}),m.jsxs("div",{className:"absolute inset-x-0 top-10 mx-auto flex w-full max-w-4xl flex-col rounded-2xl bg-white p-5 shadow-2xl",children:[m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Metratura collegata"}),m.jsx("div",{className:"text-xl font-semibold text-gray-900",children:G})]}),m.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-800",onClick:s,children:"Chiudi"})]}),g.length>0?m.jsx("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:g.map(C=>m.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 font-medium text-emerald-800",children:[m.jsx("span",{className:"text-emerald-900",children:Cc(C.mq)}),C.missingDimensions>0&&m.jsxs("span",{className:"text-[10px] text-amber-700",children:[" ",C.missingDimensions," senza dimensioni"]})]},C.id))}):m.jsx("div",{className:"mt-4 rounded-lg border border-dashed border-gray-300 bg-gray-50 px-3 py-2 text-xs text-gray-600",children:"Seleziona quali voci del preventivo contribuire devono contribuire alla metratura mostrata accanto a questa categoria."}),m.jsx("div",{className:"mt-4 space-y-4 overflow-y-auto pr-1",style:{maxHeight:"60vh"},children:p.length===0?m.jsx("div",{className:"rounded-lg border border-dashed border-gray-300 bg-white/80 px-4 py-6 text-center text-sm text-gray-500",children:"Nessuna voce del preventivo dispone di dimensioni per calcolare la metratura."}):p.map(C=>{const D=T(C.id),H=R(C.id),ae=d[C.id]??[],fe=w.get(C.id),Ne=D==="subset",he=Ne&&H.length===0;return m.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-gray-900",children:C.label}),m.jsxs("div",{className:"text-xs text-gray-500",children:[ae.length," voce",ae.length===1?"":"i"," disponibili"]})]}),fe&&m.jsx("div",{className:"text-xs font-semibold text-emerald-700",children:Cc(fe.mq)})]}),m.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs font-medium",children:["none","all","subset"].map(pe=>m.jsxs("button",{type:"button",className:`rounded-full border px-3 py-1 transition ${D===pe?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,onClick:()=>N(C.id,pe),children:[pe==="none"&&"Nessuna",pe==="all"&&"Tutte",pe==="subset"&&"Seleziona voci"]},pe))}),Ne&&m.jsxs("div",{className:"mt-3 space-y-2",children:[ae.map(pe=>{const ce=String(pe.id),Se=H.includes(ce),Ce=lO(pe),P=Qx(pe),ne=Number(pe?.qty??1);return m.jsxs("label",{className:`flex cursor-pointer items-center gap-3 rounded-lg border px-3 py-2 text-sm ${Se?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500",checked:Se,onChange:()=>O(C.id,ce)}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-medium text-gray-900",children:AO(pe)}),m.jsxs("div",{className:"text-[11px] text-gray-500",children:[Ce??"Dimensioni mancanti",P>0&&`  ${Cc(P)}`]})]}),ne>1&&m.jsxs("span",{className:"text-[11px] text-gray-500",children:["x",ne]})]},ce)}),he&&m.jsx("div",{className:"rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:"Seleziona almeno una voce da includere."})]})]},C.id)})}),m.jsxs("div",{className:"mt-5 flex items-center justify-between border-t pt-3",children:[m.jsx("div",{className:"text-xs text-gray-500",children:g.length===0?"Nessuna metratura verr stampata per questa categoria.":"I valori includono quantit e dimensioni (in m)."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(mn,{variant:"outline",onClick:s,children:"Annulla"}),m.jsx(mn,{onClick:L,disabled:S,children:"Salva"})]})]})]})]})}window.Buffer=window.Buffer||sj.Buffer;window.process=window.process||cj;const OO=FE([{path:"/",element:m.jsx(dj,{}),children:[{index:!0,element:m.jsx(xM,{})},{path:"quotes/:id",element:m.jsx(RO,{})}]}]);p1.createRoot(document.getElementById("root")).render(m.jsxs(je.StrictMode,{children:[m.jsx(nj,{router:OO}),m.jsx(q1,{richColors:!0,position:"top-right"})]}));export{je as R,IO as _,Ny as a,ew as b,DM as c,s1 as d,DO as e,Cc as f,Bo as g,E as h,m as j,ps as n,UM as p,rj as r,LM as t,uj as x,kM as z};
